function _a(t,l){for(var i=0;i<l.length;i++){const a=l[i];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in t)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(t,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function Da(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ba={exports:{}},Uo={},wa={exports:{}},Ne={};var md;function Rp(){if(md)return Ne;md=1;var t=Symbol.for("react.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.iterator;function j(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,k={};function C(I,F,oe){this.props=I,this.context=F,this.refs=k,this.updater=oe||E}C.prototype.isReactComponent={},C.prototype.setState=function(I,F){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,F,"setState")},C.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function S(){}S.prototype=C.prototype;function $(I,F,oe){this.props=I,this.context=F,this.refs=k,this.updater=oe||E}var T=$.prototype=new S;T.constructor=$,L(T,C.prototype),T.isPureReactComponent=!0;var R=Array.isArray,P=Object.prototype.hasOwnProperty,z={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function W(I,F,oe){var te,fe={},ae=null,Ce=null;if(F!=null)for(te in F.ref!==void 0&&(Ce=F.ref),F.key!==void 0&&(ae=""+F.key),F)P.call(F,te)&&!H.hasOwnProperty(te)&&(fe[te]=F[te]);var xe=arguments.length-2;if(xe===1)fe.children=oe;else if(1<xe){for(var be=Array(xe),we=0;we<xe;we++)be[we]=arguments[we+2];fe.children=be}if(I&&I.defaultProps)for(te in xe=I.defaultProps,xe)fe[te]===void 0&&(fe[te]=xe[te]);return{$$typeof:t,type:I,key:ae,ref:Ce,props:fe,_owner:z.current}}function q(I,F){return{$$typeof:t,type:I.type,key:F,ref:I.ref,props:I.props,_owner:I._owner}}function K(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function X(I){var F={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(oe){return F[oe]})}var M=/\/+/g;function Z(I,F){return typeof I=="object"&&I!==null&&I.key!=null?X(""+I.key):F.toString(36)}function ne(I,F,oe,te,fe){var ae=typeof I;(ae==="undefined"||ae==="boolean")&&(I=null);var Ce=!1;if(I===null)Ce=!0;else switch(ae){case"string":case"number":Ce=!0;break;case"object":switch(I.$$typeof){case t:case l:Ce=!0}}if(Ce)return Ce=I,fe=fe(Ce),I=te===""?"."+Z(Ce,0):te,R(fe)?(oe="",I!=null&&(oe=I.replace(M,"$&/")+"/"),ne(fe,F,oe,"",function(we){return we})):fe!=null&&(K(fe)&&(fe=q(fe,oe+(!fe.key||Ce&&Ce.key===fe.key?"":(""+fe.key).replace(M,"$&/")+"/")+I)),F.push(fe)),1;if(Ce=0,te=te===""?".":te+":",R(I))for(var xe=0;xe<I.length;xe++){ae=I[xe];var be=te+Z(ae,xe);Ce+=ne(ae,F,oe,be,fe)}else if(be=j(I),typeof be=="function")for(I=be.call(I),xe=0;!(ae=I.next()).done;)ae=ae.value,be=te+Z(ae,xe++),Ce+=ne(ae,F,oe,be,fe);else if(ae==="object")throw F=String(I),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ue(I,F,oe){if(I==null)return I;var te=[],fe=0;return ne(I,te,"","",function(ae){return F.call(oe,ae,fe++)}),te}function ke(I){if(I._status===-1){var F=I._result;F=F(),F.then(function(oe){(I._status===0||I._status===-1)&&(I._status=1,I._result=oe)},function(oe){(I._status===0||I._status===-1)&&(I._status=2,I._result=oe)}),I._status===-1&&(I._status=0,I._result=F)}if(I._status===1)return I._result.default;throw I._result}var he={current:null},U={transition:null},ee={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:U,ReactCurrentOwner:z};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ue,forEach:function(I,F,oe){ue(I,function(){F.apply(this,arguments)},oe)},count:function(I){var F=0;return ue(I,function(){F++}),F},toArray:function(I){return ue(I,function(F){return F})||[]},only:function(I){if(!K(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ne.Component=C,Ne.Fragment=i,Ne.Profiler=c,Ne.PureComponent=$,Ne.StrictMode=a,Ne.Suspense=g,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ne.act=V,Ne.cloneElement=function(I,F,oe){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var te=L({},I.props),fe=I.key,ae=I.ref,Ce=I._owner;if(F!=null){if(F.ref!==void 0&&(ae=F.ref,Ce=z.current),F.key!==void 0&&(fe=""+F.key),I.type&&I.type.defaultProps)var xe=I.type.defaultProps;for(be in F)P.call(F,be)&&!H.hasOwnProperty(be)&&(te[be]=F[be]===void 0&&xe!==void 0?xe[be]:F[be])}var be=arguments.length-2;if(be===1)te.children=oe;else if(1<be){xe=Array(be);for(var we=0;we<be;we++)xe[we]=arguments[we+2];te.children=xe}return{$$typeof:t,type:I.type,key:fe,ref:ae,props:te,_owner:Ce}},Ne.createContext=function(I){return I={$$typeof:h,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:d,_context:I},I.Consumer=I},Ne.createElement=W,Ne.createFactory=function(I){var F=W.bind(null,I);return F.type=I,F},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(I){return{$$typeof:m,render:I}},Ne.isValidElement=K,Ne.lazy=function(I){return{$$typeof:b,_payload:{_status:-1,_result:I},_init:ke}},Ne.memo=function(I,F){return{$$typeof:y,type:I,compare:F===void 0?null:F}},Ne.startTransition=function(I){var F=U.transition;U.transition={};try{I()}finally{U.transition=F}},Ne.unstable_act=V,Ne.useCallback=function(I,F){return he.current.useCallback(I,F)},Ne.useContext=function(I){return he.current.useContext(I)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(I){return he.current.useDeferredValue(I)},Ne.useEffect=function(I,F){return he.current.useEffect(I,F)},Ne.useId=function(){return he.current.useId()},Ne.useImperativeHandle=function(I,F,oe){return he.current.useImperativeHandle(I,F,oe)},Ne.useInsertionEffect=function(I,F){return he.current.useInsertionEffect(I,F)},Ne.useLayoutEffect=function(I,F){return he.current.useLayoutEffect(I,F)},Ne.useMemo=function(I,F){return he.current.useMemo(I,F)},Ne.useReducer=function(I,F,oe){return he.current.useReducer(I,F,oe)},Ne.useRef=function(I){return he.current.useRef(I)},Ne.useState=function(I){return he.current.useState(I)},Ne.useSyncExternalStore=function(I,F,oe){return he.current.useSyncExternalStore(I,F,oe)},Ne.useTransition=function(){return he.current.useTransition()},Ne.version="18.3.1",Ne}var xd;function Pa(){return xd||(xd=1,wa.exports=Rp()),wa.exports}var yd;function Lp(){if(yd)return Uo;yd=1;var t=Pa(),l=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,y){var b,v={},j=null,E=null;y!==void 0&&(j=""+y),g.key!==void 0&&(j=""+g.key),g.ref!==void 0&&(E=g.ref);for(b in g)a.call(g,b)&&!d.hasOwnProperty(b)&&(v[b]=g[b]);if(m&&m.defaultProps)for(b in g=m.defaultProps,g)v[b]===void 0&&(v[b]=g[b]);return{$$typeof:l,type:m,key:j,ref:E,props:v,_owner:c.current}}return Uo.Fragment=i,Uo.jsx=h,Uo.jsxs=h,Uo}var vd;function Ap(){return vd||(vd=1,ba.exports=Lp()),ba.exports}var o=Ap();const Ip=Da(o),dC=_a({__proto__:null,default:Ip},[o]);var x=Pa();const Oe=Da(x),fC=_a({__proto__:null,default:Oe},[x]);var ka={exports:{}},Mt={},Ca={exports:{}},Sa={};var bd;function Bp(){return bd||(bd=1,(function(t){function l(U,ee){var V=U.length;U.push(ee);e:for(;0<V;){var I=V-1>>>1,F=U[I];if(0<c(F,ee))U[I]=ee,U[V]=F,V=I;else break e}}function i(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var ee=U[0],V=U.pop();if(V!==ee){U[0]=V;e:for(var I=0,F=U.length,oe=F>>>1;I<oe;){var te=2*(I+1)-1,fe=U[te],ae=te+1,Ce=U[ae];if(0>c(fe,V))ae<F&&0>c(Ce,fe)?(U[I]=Ce,U[ae]=V,I=ae):(U[I]=fe,U[te]=V,I=te);else if(ae<F&&0>c(Ce,V))U[I]=Ce,U[ae]=V,I=ae;else break e}}return ee}function c(U,ee){var V=U.sortIndex-ee.sortIndex;return V!==0?V:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();t.unstable_now=function(){return h.now()-m}}var g=[],y=[],b=1,v=null,j=3,E=!1,L=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var ee=i(y);ee!==null;){if(ee.callback===null)a(y);else if(ee.startTime<=U)a(y),ee.sortIndex=ee.expirationTime,l(g,ee);else break;ee=i(y)}}function R(U){if(k=!1,T(U),!L)if(i(g)!==null)L=!0,ke(P);else{var ee=i(y);ee!==null&&he(R,ee.startTime-U)}}function P(U,ee){L=!1,k&&(k=!1,S(W),W=-1),E=!0;var V=j;try{for(T(ee),v=i(g);v!==null&&(!(v.expirationTime>ee)||U&&!X());){var I=v.callback;if(typeof I=="function"){v.callback=null,j=v.priorityLevel;var F=I(v.expirationTime<=ee);ee=t.unstable_now(),typeof F=="function"?v.callback=F:v===i(g)&&a(g),T(ee)}else a(g);v=i(g)}if(v!==null)var oe=!0;else{var te=i(y);te!==null&&he(R,te.startTime-ee),oe=!1}return oe}finally{v=null,j=V,E=!1}}var z=!1,H=null,W=-1,q=5,K=-1;function X(){return!(t.unstable_now()-K<q)}function M(){if(H!==null){var U=t.unstable_now();K=U;var ee=!0;try{ee=H(!0,U)}finally{ee?Z():(z=!1,H=null)}}else z=!1}var Z;if(typeof $=="function")Z=function(){$(M)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ue=ne.port2;ne.port1.onmessage=M,Z=function(){ue.postMessage(null)}}else Z=function(){C(M,0)};function ke(U){H=U,z||(z=!0,Z())}function he(U,ee){W=C(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){L||E||(L=!0,ke(P))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return i(g)},t.unstable_next=function(U){switch(j){case 1:case 2:case 3:var ee=3;break;default:ee=j}var V=j;j=ee;try{return U()}finally{j=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=j;j=U;try{return ee()}finally{j=V}},t.unstable_scheduleCallback=function(U,ee,V){var I=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?I+V:I):V=I,U){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=V+F,U={id:b++,callback:ee,priorityLevel:U,startTime:V,expirationTime:F,sortIndex:-1},V>I?(U.sortIndex=V,l(y,U),i(g)===null&&U===i(y)&&(k?(S(W),W=-1):k=!0,he(R,V-I))):(U.sortIndex=F,l(g,U),L||E||(L=!0,ke(P))),U},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(U){var ee=j;return function(){var V=j;j=ee;try{return U.apply(this,arguments)}finally{j=V}}}})(Sa)),Sa}var wd;function _p(){return wd||(wd=1,Ca.exports=Bp()),Ca.exports}var kd;function Dp(){if(kd)return Mt;kd=1;var t=Pa(),l=_p();function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(e,n){h(e,n),h(e+"Capture",n)}function h(e,n){for(c[e]=n,e=0;e<n.length;e++)a.add(n[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},v={};function j(e){return g.call(v,e)?!0:g.call(b,e)?!1:y.test(e)?v[e]=!0:(b[e]=!0,!1)}function E(e,n,r,s){if(r!==null&&r.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L(e,n,r,s){if(n===null||typeof n>"u"||E(e,n,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function k(e,n,r,s,u,p,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=p,this.removeEmptyString=w}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];C[n]=new k(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(S,$);C[n]=new k(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(S,$);C[n]=new k(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(S,$);C[n]=new k(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function T(e,n,r,s){var u=C.hasOwnProperty(n)?C[n]:null;(u!==null?u.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(L(n,r,u,s)&&(r=null),s||u===null?j(n)&&(r===null?e.removeAttribute(n):e.setAttribute(n,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(n=u.attributeName,s=u.attributeNamespace,r===null?e.removeAttribute(n):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?e.setAttributeNS(s,n,r):e.setAttribute(n,r))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),X=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),U=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,I;function F(e){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||""}return`
`+I+e}var oe=!1;function te(e,n){if(!e||oe)return"";oe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(O){var s=O}Reflect.construct(e,[],n)}else{try{n.call()}catch(O){s=O}e.call(n.prototype)}else{try{throw Error()}catch(O){s=O}e()}}catch(O){if(O&&s&&typeof O.stack=="string"){for(var u=O.stack.split(`
`),p=s.stack.split(`
`),w=u.length-1,N=p.length-1;1<=w&&0<=N&&u[w]!==p[N];)N--;for(;1<=w&&0<=N;w--,N--)if(u[w]!==p[N]){if(w!==1||N!==1)do if(w--,N--,0>N||u[w]!==p[N]){var A=`
`+u[w].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=w&&0<=N);break}}}finally{oe=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function fe(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case z:return"Portal";case q:return"Profiler";case W:return"StrictMode";case Z:return"Suspense";case ne:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X:return(e.displayName||"Context")+".Consumer";case K:return(e._context.displayName||"Context")+".Provider";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ue:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case ke:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}function Ce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(n);case 8:return n===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function be(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function we(e){var n=be(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,p=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(w){s=""+w,p.call(this,w)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(w){s=""+w},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Et(e){e._valueTracker||(e._valueTracker=we(e))}function Ye(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),s="";return e&&(s=be(e)?e.checked?"true":"false":e.value),e=s,e!==r?(n.setValue(e),!0):!1}function kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ee(e,n){var r=n.checked;return V({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gt(e,n){var r=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;r=xe(n.value!=null?n.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Xt(e,n){n=n.checked,n!=null&&T(e,"checked",n,!1)}function Ot(e,n){Xt(e,n);var r=xe(n.value),s=n.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?En(e,n.type,r):n.hasOwnProperty("defaultValue")&&En(e,n.type,xe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function yn(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function En(e,n,r){(n!=="number"||kt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var mt=Array.isArray;function zt(e,n,r,s){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&s&&(e[r].defaultSelected=!0)}else{for(r=""+xe(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function vn(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return V({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ur(e,n){var r=n.value;if(r==null){if(r=n.children,n=n.defaultValue,r!=null){if(n!=null)throw Error(i(92));if(mt(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n==null&&(n=""),r=n}e._wrapperState={initialValue:xe(r)}}function On(e,n){var r=xe(n.value),s=xe(n.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),n.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function $r(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yt(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Rr(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ht,bn=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,r,s,u){MSApp.execUnsafeLocalFunction(function(){return e(n,r,s,u)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Ht=Ht||document.createElement("div"),Ht.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Ht.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function wn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ut={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lr=["Webkit","ms","Moz","O"];Object.keys(ut).forEach(function(e){Lr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ut[n]=ut[e]})});function Ar(e,n,r){return n==null||typeof n=="boolean"||n===""?"":r||typeof n!="number"||n===0||ut.hasOwnProperty(e)&&ut[e]?(""+n).trim():n+"px"}function zn(e,n){e=e.style;for(var r in n)if(n.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=Ar(r,n[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,u):e[r]=u}}var dr=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(e,n){if(n){if(dr[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function fr(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=null;function hr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,ln=null,Be=null;function qe(e){if(e=$o(e)){if(typeof pr!="function")throw Error(i(280));var n=e.stateNode;n&&(n=Tl(n),pr(e.stateNode,e.type,n))}}function nt(e){ln?Be?Be.push(e):Be=[e]:ln=e}function Nt(){if(ln){var e=ln,n=Be;if(Be=ln=null,qe(e),n)for(e=0;e<n.length;e++)qe(n[e])}}function dt(e,n){return e(n)}function Je(){}var ft=!1;function sn(e,n,r){if(ft)return e(n,r);ft=!0;try{return dt(e,n,r)}finally{ft=!1,(ln!==null||Be!==null)&&(Je(),Nt())}}function Ae(e,n){var r=e.stateNode;if(r===null)return null;var s=Tl(r);if(s===null)return null;r=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(i(231,n,typeof r));return r}var Tt=!1;if(m)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){Tt=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch{Tt=!1}function $t(e,n,r,s,u,p,w,N,A){var O=Array.prototype.slice.call(arguments,3);try{n.apply(r,O)}catch(Y){this.onError(Y)}}var rt=!1,Rt=null,xt=!1,an=null,ot={onError:function(e){rt=!0,Rt=e}};function ao(e,n,r,s,u,p,w,N,A){rt=!1,Rt=null,$t.apply(ot,arguments)}function Mi(e,n,r,s,u,p,w,N,A){if(ao.apply(this,arguments),rt){if(rt){var O=Rt;rt=!1,Rt=null}else throw Error(i(198));xt||(xt=!0,an=O)}}function Nn(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function ll(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function il(e){if(Nn(e)!==e)throw Error(i(188))}function Oi(e){var n=e.alternate;if(!n){if(n=Nn(e),n===null)throw Error(i(188));return n!==e?null:e}for(var r=e,s=n;;){var u=r.return;if(u===null)break;var p=u.alternate;if(p===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===r)return il(u),e;if(p===s)return il(u),n;p=p.sibling}throw Error(i(188))}if(r.return!==s.return)r=u,s=p;else{for(var w=!1,N=u.child;N;){if(N===r){w=!0,r=u,s=p;break}if(N===s){w=!0,s=u,r=p;break}N=N.sibling}if(!w){for(N=p.child;N;){if(N===r){w=!0,r=p,s=u;break}if(N===s){w=!0,s=p,r=u;break}N=N.sibling}if(!w)throw Error(i(189))}}if(r.alternate!==s)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?e:n}function sl(e){return e=Oi(e),e!==null?al(e):null}function al(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=al(e);if(n!==null)return n;e=e.sibling}return null}var cl=l.unstable_scheduleCallback,co=l.unstable_cancelCallback,Ir=l.unstable_shouldYield,Se=l.unstable_requestPaint,je=l.unstable_now,We=l.unstable_getCurrentPriorityLevel,Lt=l.unstable_ImmediatePriority,cn=l.unstable_UserBlockingPriority,Ft=l.unstable_NormalPriority,Tn=l.unstable_LowPriority,$n=l.unstable_IdlePriority,Wt=null,lt=null;function Ka(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(Wt,e,void 0,(e.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Xf,zi=Math.log,Gf=Math.LN2;function Xf(e){return e>>>=0,e===0?32:31-(zi(e)/Gf|0)|0}var ul=64,dl=4194304;function uo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fl(e,n){var r=e.pendingLanes;if(r===0)return 0;var s=0,u=e.suspendedLanes,p=e.pingedLanes,w=r&268435455;if(w!==0){var N=w&~u;N!==0?s=uo(N):(p&=w,p!==0&&(s=uo(p)))}else w=r&~u,w!==0?s=uo(w):p!==0&&(s=uo(p));if(s===0)return 0;if(n!==0&&n!==s&&(n&u)===0&&(u=s&-s,p=n&-n,u>=p||u===16&&(p&4194240)!==0))return n;if((s&4)!==0&&(s|=r&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)r=31-At(n),u=1<<r,s|=e[r],n&=~u;return s}function Yf(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(e,n){for(var r=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes;0<p;){var w=31-At(p),N=1<<w,A=u[w];A===-1?((N&r)===0||(N&s)!==0)&&(u[w]=Yf(N,n)):A<=n&&(e.expiredLanes|=N),p&=~N}}function Hi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=ul;return ul<<=1,(ul&4194240)===0&&(ul=64),e}function Fi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function fo(e,n,r){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-At(n),e[n]=r}function qf(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-At(r),p=1<<u;n[u]=0,s[u]=-1,e[u]=-1,r&=~p}}function Wi(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var s=31-At(r),u=1<<s;u&n|e[s]&n&&(e[s]|=n),r&=~u}}var Le=0;function Xa(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ya,Ui,Qa,qa,Ja,Vi=!1,hl=[],Wn=null,Un=null,Vn=null,ho=new Map,po=new Map,Kn=[],Jf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Za(e,n){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function go(e,n,r,s,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:r,eventSystemFlags:s,nativeEvent:p,targetContainers:[u]},n!==null&&(n=$o(n),n!==null&&Ui(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Zf(e,n,r,s,u){switch(n){case"focusin":return Wn=go(Wn,e,n,r,s,u),!0;case"dragenter":return Un=go(Un,e,n,r,s,u),!0;case"mouseover":return Vn=go(Vn,e,n,r,s,u),!0;case"pointerover":var p=u.pointerId;return ho.set(p,go(ho.get(p)||null,e,n,r,s,u)),!0;case"gotpointercapture":return p=u.pointerId,po.set(p,go(po.get(p)||null,e,n,r,s,u)),!0}return!1}function ec(e){var n=gr(e.target);if(n!==null){var r=Nn(n);if(r!==null){if(n=r.tag,n===13){if(n=ll(r),n!==null){e.blockedOn=n,Ja(e.priority,function(){Qa(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Gi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Fn=s,r.target.dispatchEvent(s),Fn=null}else return n=$o(r),n!==null&&Ui(n),e.blockedOn=r,!1;n.shift()}return!0}function tc(e,n,r){pl(e)&&r.delete(n)}function eh(){Vi=!1,Wn!==null&&pl(Wn)&&(Wn=null),Un!==null&&pl(Un)&&(Un=null),Vn!==null&&pl(Vn)&&(Vn=null),ho.forEach(tc),po.forEach(tc)}function mo(e,n){e.blockedOn===n&&(e.blockedOn=null,Vi||(Vi=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,eh)))}function xo(e){function n(u){return mo(u,e)}if(0<hl.length){mo(hl[0],e);for(var r=1;r<hl.length;r++){var s=hl[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Wn!==null&&mo(Wn,e),Un!==null&&mo(Un,e),Vn!==null&&mo(Vn,e),ho.forEach(n),po.forEach(n),r=0;r<Kn.length;r++)s=Kn[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Kn.length&&(r=Kn[0],r.blockedOn===null);)ec(r),r.blockedOn===null&&Kn.shift()}var Br=R.ReactCurrentBatchConfig,gl=!0;function th(e,n,r,s){var u=Le,p=Br.transition;Br.transition=null;try{Le=1,Ki(e,n,r,s)}finally{Le=u,Br.transition=p}}function nh(e,n,r,s){var u=Le,p=Br.transition;Br.transition=null;try{Le=4,Ki(e,n,r,s)}finally{Le=u,Br.transition=p}}function Ki(e,n,r,s){if(gl){var u=Gi(e,n,r,s);if(u===null)us(e,n,s,ml,r),Za(e,s);else if(Zf(u,e,n,r,s))s.stopPropagation();else if(Za(e,s),n&4&&-1<Jf.indexOf(e)){for(;u!==null;){var p=$o(u);if(p!==null&&Ya(p),p=Gi(e,n,r,s),p===null&&us(e,n,s,ml,r),p===u)break;u=p}u!==null&&s.stopPropagation()}else us(e,n,s,null,r)}}var ml=null;function Gi(e,n,r,s){if(ml=null,e=hr(s),e=gr(e),e!==null)if(n=Nn(e),n===null)e=null;else if(r=n.tag,r===13){if(e=ll(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ml=e,null}function nc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(We()){case Lt:return 1;case cn:return 4;case Ft:case Tn:return 16;case $n:return 536870912;default:return 16}default:return 16}}var Gn=null,Xi=null,xl=null;function rc(){if(xl)return xl;var e,n=Xi,r=n.length,s,u="value"in Gn?Gn.value:Gn.textContent,p=u.length;for(e=0;e<r&&n[e]===u[e];e++);var w=r-e;for(s=1;s<=w&&n[r-s]===u[p-s];s++);return xl=u.slice(e,1<s?1-s:void 0)}function yl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function oc(){return!1}function Ut(e){function n(r,s,u,p,w){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(r=e[N],this[N]=r?r(p):p[N]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?vl:oc,this.isPropagationStopped=oc,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),n}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=Ut(_r),yo=V({},_r,{view:0,detail:0}),rh=Ut(yo),Qi,qi,vo,bl=V({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(Qi=e.screenX-vo.screenX,qi=e.screenY-vo.screenY):qi=Qi=0,vo=e),Qi)},movementY:function(e){return"movementY"in e?e.movementY:qi}}),lc=Ut(bl),oh=V({},bl,{dataTransfer:0}),lh=Ut(oh),ih=V({},yo,{relatedTarget:0}),Ji=Ut(ih),sh=V({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=Ut(sh),ch=V({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uh=Ut(ch),dh=V({},_r,{data:0}),ic=Ut(dh),fh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gh(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ph[e])?!!n[e]:!1}function Zi(){return gh}var mh=V({},yo,{key:function(e){if(e.key){var n=fh[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=yl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zi,charCode:function(e){return e.type==="keypress"?yl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xh=Ut(mh),yh=V({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=Ut(yh),vh=V({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zi}),bh=Ut(vh),wh=V({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),kh=Ut(wh),Ch=V({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sh=Ut(Ch),jh=[9,13,27,32],es=m&&"CompositionEvent"in window,bo=null;m&&"documentMode"in document&&(bo=document.documentMode);var Eh=m&&"TextEvent"in window&&!bo,ac=m&&(!es||bo&&8<bo&&11>=bo),cc=" ",uc=!1;function dc(e,n){switch(e){case"keyup":return jh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dr=!1;function Nh(e,n){switch(e){case"compositionend":return fc(n);case"keypress":return n.which!==32?null:(uc=!0,cc);case"textInput":return e=n.data,e===cc&&uc?null:e;default:return null}}function Th(e,n){if(Dr)return e==="compositionend"||!es&&dc(e,n)?(e=rc(),xl=Xi=Gn=null,Dr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ac&&n.locale!=="ko"?null:n.data;default:return null}}var $h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$h[e.type]:n==="textarea"}function pc(e,n,r,s){nt(s),n=jl(n,"onChange"),0<n.length&&(r=new Yi("onChange","change",null,r,s),e.push({event:r,listeners:n}))}var wo=null,ko=null;function Rh(e){Ac(e,0)}function wl(e){var n=Hr(e);if(Ye(n))return e}function Lh(e,n){if(e==="change")return n}var gc=!1;if(m){var ts;if(m){var ns="oninput"in document;if(!ns){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),ns=typeof mc.oninput=="function"}ts=ns}else ts=!1;gc=ts&&(!document.documentMode||9<document.documentMode)}function xc(){wo&&(wo.detachEvent("onpropertychange",yc),ko=wo=null)}function yc(e){if(e.propertyName==="value"&&wl(ko)){var n=[];pc(n,ko,e,hr(e)),sn(Rh,n)}}function Ah(e,n,r){e==="focusin"?(xc(),wo=n,ko=r,wo.attachEvent("onpropertychange",yc)):e==="focusout"&&xc()}function Ih(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wl(ko)}function Bh(e,n){if(e==="click")return wl(n)}function _h(e,n){if(e==="input"||e==="change")return wl(n)}function Dh(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:Dh;function Co(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),s=Object.keys(n);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!g.call(n,u)||!un(e[u],n[u]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,n){var r=vc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=n&&s>=n)return{node:r,offset:n-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vc(r)}}function wc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kc(){for(var e=window,n=kt();n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=kt(e.document)}return n}function rs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Ph(e){var n=kc(),r=e.focusedElem,s=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&wc(r.ownerDocument.documentElement,r)){if(s!==null&&rs(r)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if(e=(n=r.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,p=Math.min(s.start,u);s=s.end===void 0?p:Math.min(s.end,u),!e.extend&&p>s&&(u=s,s=p,p=u),u=bc(r,p);var w=bc(r,s);u&&w&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),p>s?(e.addRange(n),e.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)e=n[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mh=m&&"documentMode"in document&&11>=document.documentMode,Pr=null,os=null,So=null,ls=!1;function Cc(e,n,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ls||Pr==null||Pr!==kt(s)||(s=Pr,"selectionStart"in s&&rs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),So&&Co(So,s)||(So=s,s=jl(os,"onSelect"),0<s.length&&(n=new Yi("onSelect","select",null,n,r),e.push({event:n,listeners:s}),n.target=Pr)))}function kl(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Mr={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},is={},Sc={};m&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Cl(e){if(is[e])return is[e];if(!Mr[e])return e;var n=Mr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Sc)return is[e]=n[r];return e}var jc=Cl("animationend"),Ec=Cl("animationiteration"),Nc=Cl("animationstart"),Tc=Cl("transitionend"),$c=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,n){$c.set(e,n),d(n,[e])}for(var ss=0;ss<Rc.length;ss++){var as=Rc[ss],Oh=as.toLowerCase(),zh=as[0].toUpperCase()+as.slice(1);Xn(Oh,"on"+zh)}Xn(jc,"onAnimationEnd"),Xn(Ec,"onAnimationIteration"),Xn(Nc,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Tc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function Lc(e,n,r){var s=e.type||"unknown-event";e.currentTarget=r,Mi(s,n,void 0,e),e.currentTarget=null}function Ac(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],u=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var w=s.length-1;0<=w;w--){var N=s[w],A=N.instance,O=N.currentTarget;if(N=N.listener,A!==p&&u.isPropagationStopped())break e;Lc(u,N,O),p=A}else for(w=0;w<s.length;w++){if(N=s[w],A=N.instance,O=N.currentTarget,N=N.listener,A!==p&&u.isPropagationStopped())break e;Lc(u,N,O),p=A}}}if(xt)throw e=an,xt=!1,an=null,e}function De(e,n){var r=n[ms];r===void 0&&(r=n[ms]=new Set);var s=e+"__bubble";r.has(s)||(Ic(n,e,2,!1),r.add(s))}function cs(e,n,r){var s=0;n&&(s|=4),Ic(r,e,s,n)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[Sl]){e[Sl]=!0,a.forEach(function(r){r!=="selectionchange"&&(Hh.has(r)||cs(r,!1,e),cs(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Sl]||(n[Sl]=!0,cs("selectionchange",!1,n))}}function Ic(e,n,r,s){switch(nc(n)){case 1:var u=th;break;case 4:u=nh;break;default:u=Ki}r=u.bind(null,n,r,e),u=void 0,!Tt||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function us(e,n,r,s,u){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var w=s.tag;if(w===3||w===4){var N=s.stateNode.containerInfo;if(N===u||N.nodeType===8&&N.parentNode===u)break;if(w===4)for(w=s.return;w!==null;){var A=w.tag;if((A===3||A===4)&&(A=w.stateNode.containerInfo,A===u||A.nodeType===8&&A.parentNode===u))return;w=w.return}for(;N!==null;){if(w=gr(N),w===null)return;if(A=w.tag,A===5||A===6){s=p=w;continue e}N=N.parentNode}}s=s.return}sn(function(){var O=p,Y=hr(r),Q=[];e:{var G=$c.get(e);if(G!==void 0){var re=Yi,ie=e;switch(e){case"keypress":if(yl(r)===0)break e;case"keydown":case"keyup":re=xh;break;case"focusin":ie="focus",re=Ji;break;case"focusout":ie="blur",re=Ji;break;case"beforeblur":case"afterblur":re=Ji;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=bh;break;case jc:case Ec:case Nc:re=ah;break;case Tc:re=kh;break;case"scroll":re=rh;break;case"wheel":re=Sh;break;case"copy":case"cut":case"paste":re=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=sc}var se=(n&4)!==0,Xe=!se&&e==="scroll",_=se?G!==null?G+"Capture":null:G;se=[];for(var B=O,D;B!==null;){D=B;var J=D.stateNode;if(D.tag===5&&J!==null&&(D=J,_!==null&&(J=Ae(B,_),J!=null&&se.push(No(B,J,D)))),Xe)break;B=B.return}0<se.length&&(G=new re(G,ie,null,r,Y),Q.push({event:G,listeners:se}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",G&&r!==Fn&&(ie=r.relatedTarget||r.fromElement)&&(gr(ie)||ie[Rn]))break e;if((re||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,re?(ie=r.relatedTarget||r.toElement,re=O,ie=ie?gr(ie):null,ie!==null&&(Xe=Nn(ie),ie!==Xe||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(re=null,ie=O),re!==ie)){if(se=lc,J="onMouseLeave",_="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(se=sc,J="onPointerLeave",_="onPointerEnter",B="pointer"),Xe=re==null?G:Hr(re),D=ie==null?G:Hr(ie),G=new se(J,B+"leave",re,r,Y),G.target=Xe,G.relatedTarget=D,J=null,gr(Y)===O&&(se=new se(_,B+"enter",ie,r,Y),se.target=D,se.relatedTarget=Xe,J=se),Xe=J,re&&ie)t:{for(se=re,_=ie,B=0,D=se;D;D=Or(D))B++;for(D=0,J=_;J;J=Or(J))D++;for(;0<B-D;)se=Or(se),B--;for(;0<D-B;)_=Or(_),D--;for(;B--;){if(se===_||_!==null&&se===_.alternate)break t;se=Or(se),_=Or(_)}se=null}else se=null;re!==null&&Bc(Q,G,re,se,!1),ie!==null&&Xe!==null&&Bc(Q,Xe,ie,se,!0)}}e:{if(G=O?Hr(O):window,re=G.nodeName&&G.nodeName.toLowerCase(),re==="select"||re==="input"&&G.type==="file")var ce=Lh;else if(hc(G))if(gc)ce=_h;else{ce=Ih;var pe=Ah}else(re=G.nodeName)&&re.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ce=Bh);if(ce&&(ce=ce(e,O))){pc(Q,ce,r,Y);break e}pe&&pe(e,G,O),e==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&En(G,"number",G.value)}switch(pe=O?Hr(O):window,e){case"focusin":(hc(pe)||pe.contentEditable==="true")&&(Pr=pe,os=O,So=null);break;case"focusout":So=os=Pr=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,Cc(Q,r,Y);break;case"selectionchange":if(Mh)break;case"keydown":case"keyup":Cc(Q,r,Y)}var ge;if(es)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Dr?dc(e,r)&&(ve="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ve="onCompositionStart");ve&&(ac&&r.locale!=="ko"&&(Dr||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Dr&&(ge=rc()):(Gn=Y,Xi="value"in Gn?Gn.value:Gn.textContent,Dr=!0)),pe=jl(O,ve),0<pe.length&&(ve=new ic(ve,e,null,r,Y),Q.push({event:ve,listeners:pe}),ge?ve.data=ge:(ge=fc(r),ge!==null&&(ve.data=ge)))),(ge=Eh?Nh(e,r):Th(e,r))&&(O=jl(O,"onBeforeInput"),0<O.length&&(Y=new ic("onBeforeInput","beforeinput",null,r,Y),Q.push({event:Y,listeners:O}),Y.data=ge))}Ac(Q,n)})}function No(e,n,r){return{instance:e,listener:n,currentTarget:r}}function jl(e,n){for(var r=n+"Capture",s=[];e!==null;){var u=e,p=u.stateNode;u.tag===5&&p!==null&&(u=p,p=Ae(e,r),p!=null&&s.unshift(No(e,p,u)),p=Ae(e,n),p!=null&&s.push(No(e,p,u))),e=e.return}return s}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bc(e,n,r,s,u){for(var p=n._reactName,w=[];r!==null&&r!==s;){var N=r,A=N.alternate,O=N.stateNode;if(A!==null&&A===s)break;N.tag===5&&O!==null&&(N=O,u?(A=Ae(r,p),A!=null&&w.unshift(No(r,A,N))):u||(A=Ae(r,p),A!=null&&w.push(No(r,A,N)))),r=r.return}w.length!==0&&e.push({event:n,listeners:w})}var Fh=/\r\n?/g,Wh=/\u0000|\uFFFD/g;function _c(e){return(typeof e=="string"?e:""+e).replace(Fh,`
`).replace(Wh,"")}function El(e,n,r){if(n=_c(n),_c(e)!==n&&r)throw Error(i(425))}function Nl(){}var ds=null,fs=null;function hs(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ps=typeof setTimeout=="function"?setTimeout:void 0,Uh=typeof clearTimeout=="function"?clearTimeout:void 0,Dc=typeof Promise=="function"?Promise:void 0,Vh=typeof queueMicrotask=="function"?queueMicrotask:typeof Dc<"u"?function(e){return Dc.resolve(null).then(e).catch(Kh)}:ps;function Kh(e){setTimeout(function(){throw e})}function gs(e,n){var r=n,s=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){e.removeChild(u),xo(n);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);xo(n)}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Pc(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),kn="__reactFiber$"+zr,To="__reactProps$"+zr,Rn="__reactContainer$"+zr,ms="__reactEvents$"+zr,Gh="__reactListeners$"+zr,Xh="__reactHandles$"+zr;function gr(e){var n=e[kn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Rn]||r[kn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Pc(e);e!==null;){if(r=e[kn])return r;e=Pc(e)}return n}e=r,r=e.parentNode}return null}function $o(e){return e=e[kn]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Tl(e){return e[To]||null}var xs=[],Fr=-1;function Qn(e){return{current:e}}function Pe(e){0>Fr||(e.current=xs[Fr],xs[Fr]=null,Fr--)}function Ie(e,n){Fr++,xs[Fr]=e.current,e.current=n}var qn={},yt=Qn(qn),It=Qn(!1),mr=qn;function Wr(e,n){var r=e.type.contextTypes;if(!r)return qn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var u={},p;for(p in r)u[p]=n[p];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Bt(e){return e=e.childContextTypes,e!=null}function $l(){Pe(It),Pe(yt)}function Mc(e,n,r){if(yt.current!==qn)throw Error(i(168));Ie(yt,n),Ie(It,r)}function Oc(e,n,r){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in n))throw Error(i(108,Ce(e)||"Unknown",u));return V({},r,s)}function Rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,mr=yt.current,Ie(yt,e),Ie(It,It.current),!0}function zc(e,n,r){var s=e.stateNode;if(!s)throw Error(i(169));r?(e=Oc(e,n,mr),s.__reactInternalMemoizedMergedChildContext=e,Pe(It),Pe(yt),Ie(yt,e)):Pe(It),Ie(It,r)}var Ln=null,Ll=!1,ys=!1;function Hc(e){Ln===null?Ln=[e]:Ln.push(e)}function Yh(e){Ll=!0,Hc(e)}function Jn(){if(!ys&&Ln!==null){ys=!0;var e=0,n=Le;try{var r=Ln;for(Le=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ln=null,Ll=!1}catch(u){throw Ln!==null&&(Ln=Ln.slice(e+1)),cl(Lt,Jn),u}finally{Le=n,ys=!1}}return null}var Ur=[],Vr=0,Al=null,Il=0,Qt=[],qt=0,xr=null,An=1,In="";function yr(e,n){Ur[Vr++]=Il,Ur[Vr++]=Al,Al=e,Il=n}function Fc(e,n,r){Qt[qt++]=An,Qt[qt++]=In,Qt[qt++]=xr,xr=e;var s=An;e=In;var u=32-At(s)-1;s&=~(1<<u),r+=1;var p=32-At(n)+u;if(30<p){var w=u-u%5;p=(s&(1<<w)-1).toString(32),s>>=w,u-=w,An=1<<32-At(n)+u|r<<u|s,In=p+e}else An=1<<p|r<<u|s,In=e}function vs(e){e.return!==null&&(yr(e,1),Fc(e,1,0))}function bs(e){for(;e===Al;)Al=Ur[--Vr],Ur[Vr]=null,Il=Ur[--Vr],Ur[Vr]=null;for(;e===xr;)xr=Qt[--qt],Qt[qt]=null,In=Qt[--qt],Qt[qt]=null,An=Qt[--qt],Qt[qt]=null}var Vt=null,Kt=null,Me=!1,dn=null;function Wc(e,n){var r=tn(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)}function Uc(e,n){switch(e.tag){case 5:var r=e.type;return n=n.nodeType!==1||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Vt=e,Kt=Yn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Vt=e,Kt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(r=xr!==null?{id:An,overflow:In}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},r=tn(18,null,null,0),r.stateNode=n,r.return=e,e.child=r,Vt=e,Kt=null,!0):!1;default:return!1}}function ws(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ks(e){if(Me){var n=Kt;if(n){var r=n;if(!Uc(e,n)){if(ws(e))throw Error(i(418));n=Yn(r.nextSibling);var s=Vt;n&&Uc(e,n)?Wc(s,r):(e.flags=e.flags&-4097|2,Me=!1,Vt=e)}}else{if(ws(e))throw Error(i(418));e.flags=e.flags&-4097|2,Me=!1,Vt=e}}}function Vc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function Bl(e){if(e!==Vt)return!1;if(!Me)return Vc(e),Me=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!hs(e.type,e.memoizedProps)),n&&(n=Kt)){if(ws(e))throw Kc(),Error(i(418));for(;n;)Wc(e,n),n=Yn(n.nextSibling)}if(Vc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(n===0){Kt=Yn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++}e=e.nextSibling}Kt=null}}else Kt=Vt?Yn(e.stateNode.nextSibling):null;return!0}function Kc(){for(var e=Kt;e;)e=Yn(e.nextSibling)}function Kr(){Kt=Vt=null,Me=!1}function Cs(e){dn===null?dn=[e]:dn.push(e)}var Qh=R.ReactCurrentBatchConfig;function Ro(e,n,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(i(309));var s=r.stateNode}if(!s)throw Error(i(147,e));var u=s,p=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(w){var N=u.refs;w===null?delete N[p]:N[p]=w},n._stringRef=p,n)}if(typeof e!="string")throw Error(i(284));if(!r._owner)throw Error(i(290,e))}return e}function _l(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Gc(e){var n=e._init;return n(e._payload)}function Xc(e){function n(_,B){if(e){var D=_.deletions;D===null?(_.deletions=[B],_.flags|=16):D.push(B)}}function r(_,B){if(!e)return null;for(;B!==null;)n(_,B),B=B.sibling;return null}function s(_,B){for(_=new Map;B!==null;)B.key!==null?_.set(B.key,B):_.set(B.index,B),B=B.sibling;return _}function u(_,B){return _=ir(_,B),_.index=0,_.sibling=null,_}function p(_,B,D){return _.index=D,e?(D=_.alternate,D!==null?(D=D.index,D<B?(_.flags|=2,B):D):(_.flags|=2,B)):(_.flags|=1048576,B)}function w(_){return e&&_.alternate===null&&(_.flags|=2),_}function N(_,B,D,J){return B===null||B.tag!==6?(B=pa(D,_.mode,J),B.return=_,B):(B=u(B,D),B.return=_,B)}function A(_,B,D,J){var ce=D.type;return ce===H?Y(_,B,D.props.children,J,D.key):B!==null&&(B.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ke&&Gc(ce)===B.type)?(J=u(B,D.props),J.ref=Ro(_,B,D),J.return=_,J):(J=li(D.type,D.key,D.props,null,_.mode,J),J.ref=Ro(_,B,D),J.return=_,J)}function O(_,B,D,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==D.containerInfo||B.stateNode.implementation!==D.implementation?(B=ga(D,_.mode,J),B.return=_,B):(B=u(B,D.children||[]),B.return=_,B)}function Y(_,B,D,J,ce){return B===null||B.tag!==7?(B=Er(D,_.mode,J,ce),B.return=_,B):(B=u(B,D),B.return=_,B)}function Q(_,B,D){if(typeof B=="string"&&B!==""||typeof B=="number")return B=pa(""+B,_.mode,D),B.return=_,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return D=li(B.type,B.key,B.props,null,_.mode,D),D.ref=Ro(_,null,B),D.return=_,D;case z:return B=ga(B,_.mode,D),B.return=_,B;case ke:var J=B._init;return Q(_,J(B._payload),D)}if(mt(B)||ee(B))return B=Er(B,_.mode,D,null),B.return=_,B;_l(_,B)}return null}function G(_,B,D,J){var ce=B!==null?B.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ce!==null?null:N(_,B,""+D,J);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return D.key===ce?A(_,B,D,J):null;case z:return D.key===ce?O(_,B,D,J):null;case ke:return ce=D._init,G(_,B,ce(D._payload),J)}if(mt(D)||ee(D))return ce!==null?null:Y(_,B,D,J,null);_l(_,D)}return null}function re(_,B,D,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number")return _=_.get(D)||null,N(B,_,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return _=_.get(J.key===null?D:J.key)||null,A(B,_,J,ce);case z:return _=_.get(J.key===null?D:J.key)||null,O(B,_,J,ce);case ke:var pe=J._init;return re(_,B,D,pe(J._payload),ce)}if(mt(J)||ee(J))return _=_.get(D)||null,Y(B,_,J,ce,null);_l(B,J)}return null}function ie(_,B,D,J){for(var ce=null,pe=null,ge=B,ve=B=0,at=null;ge!==null&&ve<D.length;ve++){ge.index>ve?(at=ge,ge=null):at=ge.sibling;var $e=G(_,ge,D[ve],J);if($e===null){ge===null&&(ge=at);break}e&&ge&&$e.alternate===null&&n(_,ge),B=p($e,B,ve),pe===null?ce=$e:pe.sibling=$e,pe=$e,ge=at}if(ve===D.length)return r(_,ge),Me&&yr(_,ve),ce;if(ge===null){for(;ve<D.length;ve++)ge=Q(_,D[ve],J),ge!==null&&(B=p(ge,B,ve),pe===null?ce=ge:pe.sibling=ge,pe=ge);return Me&&yr(_,ve),ce}for(ge=s(_,ge);ve<D.length;ve++)at=re(ge,_,ve,D[ve],J),at!==null&&(e&&at.alternate!==null&&ge.delete(at.key===null?ve:at.key),B=p(at,B,ve),pe===null?ce=at:pe.sibling=at,pe=at);return e&&ge.forEach(function(sr){return n(_,sr)}),Me&&yr(_,ve),ce}function se(_,B,D,J){var ce=ee(D);if(typeof ce!="function")throw Error(i(150));if(D=ce.call(D),D==null)throw Error(i(151));for(var pe=ce=null,ge=B,ve=B=0,at=null,$e=D.next();ge!==null&&!$e.done;ve++,$e=D.next()){ge.index>ve?(at=ge,ge=null):at=ge.sibling;var sr=G(_,ge,$e.value,J);if(sr===null){ge===null&&(ge=at);break}e&&ge&&sr.alternate===null&&n(_,ge),B=p(sr,B,ve),pe===null?ce=sr:pe.sibling=sr,pe=sr,ge=at}if($e.done)return r(_,ge),Me&&yr(_,ve),ce;if(ge===null){for(;!$e.done;ve++,$e=D.next())$e=Q(_,$e.value,J),$e!==null&&(B=p($e,B,ve),pe===null?ce=$e:pe.sibling=$e,pe=$e);return Me&&yr(_,ve),ce}for(ge=s(_,ge);!$e.done;ve++,$e=D.next())$e=re(ge,_,ve,$e.value,J),$e!==null&&(e&&$e.alternate!==null&&ge.delete($e.key===null?ve:$e.key),B=p($e,B,ve),pe===null?ce=$e:pe.sibling=$e,pe=$e);return e&&ge.forEach(function($p){return n(_,$p)}),Me&&yr(_,ve),ce}function Xe(_,B,D,J){if(typeof D=="object"&&D!==null&&D.type===H&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case P:e:{for(var ce=D.key,pe=B;pe!==null;){if(pe.key===ce){if(ce=D.type,ce===H){if(pe.tag===7){r(_,pe.sibling),B=u(pe,D.props.children),B.return=_,_=B;break e}}else if(pe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ke&&Gc(ce)===pe.type){r(_,pe.sibling),B=u(pe,D.props),B.ref=Ro(_,pe,D),B.return=_,_=B;break e}r(_,pe);break}else n(_,pe);pe=pe.sibling}D.type===H?(B=Er(D.props.children,_.mode,J,D.key),B.return=_,_=B):(J=li(D.type,D.key,D.props,null,_.mode,J),J.ref=Ro(_,B,D),J.return=_,_=J)}return w(_);case z:e:{for(pe=D.key;B!==null;){if(B.key===pe)if(B.tag===4&&B.stateNode.containerInfo===D.containerInfo&&B.stateNode.implementation===D.implementation){r(_,B.sibling),B=u(B,D.children||[]),B.return=_,_=B;break e}else{r(_,B);break}else n(_,B);B=B.sibling}B=ga(D,_.mode,J),B.return=_,_=B}return w(_);case ke:return pe=D._init,Xe(_,B,pe(D._payload),J)}if(mt(D))return ie(_,B,D,J);if(ee(D))return se(_,B,D,J);_l(_,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,B!==null&&B.tag===6?(r(_,B.sibling),B=u(B,D),B.return=_,_=B):(r(_,B),B=pa(D,_.mode,J),B.return=_,_=B),w(_)):r(_,B)}return Xe}var Gr=Xc(!0),Yc=Xc(!1),Dl=Qn(null),Pl=null,Xr=null,Ss=null;function js(){Ss=Xr=Pl=null}function Es(e){var n=Dl.current;Pe(Dl),e._currentValue=n}function Ns(e,n,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===r)break;e=e.return}}function Yr(e,n){Pl=e,Ss=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(_t=!0),e.firstContext=null)}function Jt(e){var n=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:n,next:null},Xr===null){if(Pl===null)throw Error(i(308));Xr=e,Pl.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return n}var vr=null;function Ts(e){vr===null?vr=[e]:vr.push(e)}function Qc(e,n,r,s){var u=n.interleaved;return u===null?(r.next=r,Ts(n)):(r.next=u.next,u.next=r),n.interleaved=r,Bn(e,s)}function Bn(e,n){e.lanes|=n;var r=e.alternate;for(r!==null&&(r.lanes|=n),r=e,e=e.return;e!==null;)e.childLanes|=n,r=e.alternate,r!==null&&(r.childLanes|=n),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Zn=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _n(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function er(e,n,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Te&2)!==0){var u=s.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),s.pending=n,Bn(e,r)}return u=s.interleaved,u===null?(n.next=n,Ts(s)):(n.next=u.next,u.next=n),s.interleaved=n,Bn(e,r)}function Ml(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,r|=s,n.lanes=r,Wi(e,r)}}function Jc(e,n){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var w={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};p===null?u=p=w:p=p.next=w,r=r.next}while(r!==null);p===null?u=p=n:p=p.next=n}else u=p=n;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function Ol(e,n,r,s){var u=e.updateQueue;Zn=!1;var p=u.firstBaseUpdate,w=u.lastBaseUpdate,N=u.shared.pending;if(N!==null){u.shared.pending=null;var A=N,O=A.next;A.next=null,w===null?p=O:w.next=O,w=A;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,N=Y.lastBaseUpdate,N!==w&&(N===null?Y.firstBaseUpdate=O:N.next=O,Y.lastBaseUpdate=A))}if(p!==null){var Q=u.baseState;w=0,Y=O=A=null,N=p;do{var G=N.lane,re=N.eventTime;if((s&G)===G){Y!==null&&(Y=Y.next={eventTime:re,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var ie=e,se=N;switch(G=n,re=r,se.tag){case 1:if(ie=se.payload,typeof ie=="function"){Q=ie.call(re,Q,G);break e}Q=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,G=typeof ie=="function"?ie.call(re,Q,G):ie,G==null)break e;Q=V({},Q,G);break e;case 2:Zn=!0}}N.callback!==null&&N.lane!==0&&(e.flags|=64,G=u.effects,G===null?u.effects=[N]:G.push(N))}else re={eventTime:re,lane:G,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Y===null?(O=Y=re,A=Q):Y=Y.next=re,w|=G;if(N=N.next,N===null){if(N=u.shared.pending,N===null)break;G=N,N=G.next,G.next=null,u.lastBaseUpdate=G,u.shared.pending=null}}while(!0);if(Y===null&&(A=Q),u.baseState=A,u.firstBaseUpdate=O,u.lastBaseUpdate=Y,n=u.shared.interleaved,n!==null){u=n;do w|=u.lane,u=u.next;while(u!==n)}else p===null&&(u.shared.lanes=0);kr|=w,e.lanes=w,e.memoizedState=Q}}function Zc(e,n,r){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(i(191,u));u.call(s)}}}var Lo={},Cn=Qn(Lo),Ao=Qn(Lo),Io=Qn(Lo);function br(e){if(e===Lo)throw Error(i(174));return e}function Rs(e,n){switch(Ie(Io,n),Ie(Ao,e),Ie(Cn,Lo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Yt(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Yt(n,e)}Pe(Cn),Ie(Cn,n)}function Qr(){Pe(Cn),Pe(Ao),Pe(Io)}function eu(e){br(Io.current);var n=br(Cn.current),r=Yt(n,e.type);n!==r&&(Ie(Ao,e),Ie(Cn,r))}function Ls(e){Ao.current===e&&(Pe(Cn),Pe(Ao))}var He=Qn(0);function zl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var As=[];function Is(){for(var e=0;e<As.length;e++)As[e]._workInProgressVersionPrimary=null;As.length=0}var Hl=R.ReactCurrentDispatcher,Bs=R.ReactCurrentBatchConfig,wr=0,Fe=null,Ze=null,it=null,Fl=!1,Bo=!1,_o=0,qh=0;function vt(){throw Error(i(321))}function _s(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!un(e[r],n[r]))return!1;return!0}function Ds(e,n,r,s,u,p){if(wr=p,Fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Hl.current=e===null||e.memoizedState===null?tp:np,e=r(s,u),Bo){p=0;do{if(Bo=!1,_o=0,25<=p)throw Error(i(301));p+=1,it=Ze=null,n.updateQueue=null,Hl.current=rp,e=r(s,u)}while(Bo)}if(Hl.current=Vl,n=Ze!==null&&Ze.next!==null,wr=0,it=Ze=Fe=null,Fl=!1,n)throw Error(i(300));return e}function Ps(){var e=_o!==0;return _o=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Fe.memoizedState=it=e:it=it.next=e,it}function Zt(){if(Ze===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var n=it===null?Fe.memoizedState:it.next;if(n!==null)it=n,Ze=e;else{if(e===null)throw Error(i(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?Fe.memoizedState=it=e:it=it.next=e}return it}function Do(e,n){return typeof n=="function"?n(e):n}function Ms(e){var n=Zt(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=Ze,u=s.baseQueue,p=r.pending;if(p!==null){if(u!==null){var w=u.next;u.next=p.next,p.next=w}s.baseQueue=u=p,r.pending=null}if(u!==null){p=u.next,s=s.baseState;var N=w=null,A=null,O=p;do{var Y=O.lane;if((wr&Y)===Y)A!==null&&(A=A.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),s=O.hasEagerState?O.eagerState:e(s,O.action);else{var Q={lane:Y,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};A===null?(N=A=Q,w=s):A=A.next=Q,Fe.lanes|=Y,kr|=Y}O=O.next}while(O!==null&&O!==p);A===null?w=s:A.next=N,un(s,n.memoizedState)||(_t=!0),n.memoizedState=s,n.baseState=w,n.baseQueue=A,r.lastRenderedState=s}if(e=r.interleaved,e!==null){u=e;do p=u.lane,Fe.lanes|=p,kr|=p,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function Os(e){var n=Zt(),r=n.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=e;var s=r.dispatch,u=r.pending,p=n.memoizedState;if(u!==null){r.pending=null;var w=u=u.next;do p=e(p,w.action),w=w.next;while(w!==u);un(p,n.memoizedState)||(_t=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),r.lastRenderedState=p}return[p,s]}function tu(){}function nu(e,n){var r=Fe,s=Zt(),u=n(),p=!un(s.memoizedState,u);if(p&&(s.memoizedState=u,_t=!0),s=s.queue,zs(lu.bind(null,r,s,e),[e]),s.getSnapshot!==n||p||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,Po(9,ou.bind(null,r,s,u,n),void 0,null),st===null)throw Error(i(349));(wr&30)!==0||ru(r,n,u)}return u}function ru(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ou(e,n,r,s){n.value=r,n.getSnapshot=s,iu(n)&&su(e)}function lu(e,n,r){return r(function(){iu(n)&&su(e)})}function iu(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!un(e,r)}catch{return!0}}function su(e){var n=Bn(e,1);n!==null&&gn(n,e,1,-1)}function au(e){var n=Sn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},n.queue=e,e=e.dispatch=ep.bind(null,Fe,e),[n.memoizedState,e]}function Po(e,n,r,s){return e={tag:e,create:n,destroy:r,deps:s,next:null},n=Fe.updateQueue,n===null?(n={lastEffect:null,stores:null},Fe.updateQueue=n,n.lastEffect=e.next=e):(r=n.lastEffect,r===null?n.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,n.lastEffect=e)),e}function cu(){return Zt().memoizedState}function Wl(e,n,r,s){var u=Sn();Fe.flags|=e,u.memoizedState=Po(1|n,r,void 0,s===void 0?null:s)}function Ul(e,n,r,s){var u=Zt();s=s===void 0?null:s;var p=void 0;if(Ze!==null){var w=Ze.memoizedState;if(p=w.destroy,s!==null&&_s(s,w.deps)){u.memoizedState=Po(n,r,p,s);return}}Fe.flags|=e,u.memoizedState=Po(1|n,r,p,s)}function uu(e,n){return Wl(8390656,8,e,n)}function zs(e,n){return Ul(2048,8,e,n)}function du(e,n){return Ul(4,2,e,n)}function fu(e,n){return Ul(4,4,e,n)}function hu(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pu(e,n,r){return r=r!=null?r.concat([e]):null,Ul(4,4,hu.bind(null,n,e),r)}function Hs(){}function gu(e,n){var r=Zt();n=n===void 0?null:n;var s=r.memoizedState;return s!==null&&n!==null&&_s(n,s[1])?s[0]:(r.memoizedState=[e,n],e)}function mu(e,n){var r=Zt();n=n===void 0?null:n;var s=r.memoizedState;return s!==null&&n!==null&&_s(n,s[1])?s[0]:(e=e(),r.memoizedState=[e,n],e)}function xu(e,n,r){return(wr&21)===0?(e.baseState&&(e.baseState=!1,_t=!0),e.memoizedState=r):(un(r,n)||(r=Ga(),Fe.lanes|=r,kr|=r,e.baseState=!0),n)}function Jh(e,n){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var s=Bs.transition;Bs.transition={};try{e(!1),n()}finally{Le=r,Bs.transition=s}}function yu(){return Zt().memoizedState}function Zh(e,n,r){var s=or(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},vu(e))bu(n,r);else if(r=Qc(e,n,r,s),r!==null){var u=St();gn(r,e,s,u),wu(r,n,s)}}function ep(e,n,r){var s=or(e),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(vu(e))bu(n,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var w=n.lastRenderedState,N=p(w,r);if(u.hasEagerState=!0,u.eagerState=N,un(N,w)){var A=n.interleaved;A===null?(u.next=u,Ts(n)):(u.next=A.next,A.next=u),n.interleaved=u;return}}catch{}r=Qc(e,n,u,s),r!==null&&(u=St(),gn(r,e,s,u),wu(r,n,s))}}function vu(e){var n=e.alternate;return e===Fe||n!==null&&n===Fe}function bu(e,n){Bo=Fl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function wu(e,n,r){if((r&4194240)!==0){var s=n.lanes;s&=e.pendingLanes,r|=s,n.lanes=r,Wi(e,r)}}var Vl={readContext:Jt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},tp={readContext:Jt,useCallback:function(e,n){return Sn().memoizedState=[e,n===void 0?null:n],e},useContext:Jt,useEffect:uu,useImperativeHandle:function(e,n,r){return r=r!=null?r.concat([e]):null,Wl(4194308,4,hu.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Wl(4194308,4,e,n)},useInsertionEffect:function(e,n){return Wl(4,2,e,n)},useMemo:function(e,n){var r=Sn();return n=n===void 0?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var s=Sn();return n=r!==void 0?r(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Zh.bind(null,Fe,e),[s.memoizedState,e]},useRef:function(e){var n=Sn();return e={current:e},n.memoizedState=e},useState:au,useDebugValue:Hs,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=au(!1),n=e[0];return e=Jh.bind(null,e[1]),Sn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var s=Fe,u=Sn();if(Me){if(r===void 0)throw Error(i(407));r=r()}else{if(r=n(),st===null)throw Error(i(349));(wr&30)!==0||ru(s,n,r)}u.memoizedState=r;var p={value:r,getSnapshot:n};return u.queue=p,uu(lu.bind(null,s,p,e),[e]),s.flags|=2048,Po(9,ou.bind(null,s,p,r,n),void 0,null),r},useId:function(){var e=Sn(),n=st.identifierPrefix;if(Me){var r=In,s=An;r=(s&~(1<<32-At(s)-1)).toString(32)+r,n=":"+n+"R"+r,r=_o++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=qh++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},np={readContext:Jt,useCallback:gu,useContext:Jt,useEffect:zs,useImperativeHandle:pu,useInsertionEffect:du,useLayoutEffect:fu,useMemo:mu,useReducer:Ms,useRef:cu,useState:function(){return Ms(Do)},useDebugValue:Hs,useDeferredValue:function(e){var n=Zt();return xu(n,Ze.memoizedState,e)},useTransition:function(){var e=Ms(Do)[0],n=Zt().memoizedState;return[e,n]},useMutableSource:tu,useSyncExternalStore:nu,useId:yu,unstable_isNewReconciler:!1},rp={readContext:Jt,useCallback:gu,useContext:Jt,useEffect:zs,useImperativeHandle:pu,useInsertionEffect:du,useLayoutEffect:fu,useMemo:mu,useReducer:Os,useRef:cu,useState:function(){return Os(Do)},useDebugValue:Hs,useDeferredValue:function(e){var n=Zt();return Ze===null?n.memoizedState=e:xu(n,Ze.memoizedState,e)},useTransition:function(){var e=Os(Do)[0],n=Zt().memoizedState;return[e,n]},useMutableSource:tu,useSyncExternalStore:nu,useId:yu,unstable_isNewReconciler:!1};function fn(e,n){if(e&&e.defaultProps){n=V({},n),e=e.defaultProps;for(var r in e)n[r]===void 0&&(n[r]=e[r]);return n}return n}function Fs(e,n,r,s){n=e.memoizedState,r=r(s,n),r=r==null?n:V({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kl={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var s=St(),u=or(e),p=_n(s,u);p.payload=n,r!=null&&(p.callback=r),n=er(e,p,u),n!==null&&(gn(n,e,u,s),Ml(n,e,u))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var s=St(),u=or(e),p=_n(s,u);p.tag=1,p.payload=n,r!=null&&(p.callback=r),n=er(e,p,u),n!==null&&(gn(n,e,u,s),Ml(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=St(),s=or(e),u=_n(r,s);u.tag=2,n!=null&&(u.callback=n),n=er(e,u,s),n!==null&&(gn(n,e,s,r),Ml(n,e,s))}};function ku(e,n,r,s,u,p,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,w):n.prototype&&n.prototype.isPureReactComponent?!Co(r,s)||!Co(u,p):!0}function Cu(e,n,r){var s=!1,u=qn,p=n.contextType;return typeof p=="object"&&p!==null?p=Jt(p):(u=Bt(n)?mr:yt.current,s=n.contextTypes,p=(s=s!=null)?Wr(e,u):qn),n=new n(r,p),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Kl,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=p),n}function Su(e,n,r,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,s),n.state!==e&&Kl.enqueueReplaceState(n,n.state,null)}function Ws(e,n,r,s){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},$s(e);var p=n.contextType;typeof p=="object"&&p!==null?u.context=Jt(p):(p=Bt(n)?mr:yt.current,u.context=Wr(e,p)),u.state=e.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(Fs(e,n,p,r),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Kl.enqueueReplaceState(u,u.state,null),Ol(e,r,u,s),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,n){try{var r="",s=n;do r+=fe(s),s=s.return;while(s);var u=r}catch(p){u=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:n,stack:u,digest:null}}function Us(e,n,r){return{value:e,source:null,stack:r??null,digest:n??null}}function Vs(e,n){try{console.error(n.value)}catch(r){setTimeout(function(){throw r})}}var op=typeof WeakMap=="function"?WeakMap:Map;function ju(e,n,r){r=_n(-1,r),r.tag=3,r.payload={element:null};var s=n.value;return r.callback=function(){Zl||(Zl=!0,ia=s),Vs(e,n)},r}function Eu(e,n,r){r=_n(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var u=n.value;r.payload=function(){return s(u)},r.callback=function(){Vs(e,n)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(r.callback=function(){Vs(e,n),typeof s!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),r}function Nu(e,n,r){var s=e.pingCache;if(s===null){s=e.pingCache=new op;var u=new Set;s.set(n,u)}else u=s.get(n),u===void 0&&(u=new Set,s.set(n,u));u.has(r)||(u.add(r),e=yp.bind(null,e,n,r),n.then(e,e))}function Tu(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $u(e,n,r,s,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(n=_n(-1,1),n.tag=2,er(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var lp=R.ReactCurrentOwner,_t=!1;function Ct(e,n,r,s){n.child=e===null?Yc(n,null,r,s):Gr(n,e.child,r,s)}function Ru(e,n,r,s,u){r=r.render;var p=n.ref;return Yr(n,u),s=Ds(e,n,r,s,p,u),r=Ps(),e!==null&&!_t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Dn(e,n,u)):(Me&&r&&vs(n),n.flags|=1,Ct(e,n,s,u),n.child)}function Lu(e,n,r,s,u){if(e===null){var p=r.type;return typeof p=="function"&&!ha(p)&&p.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(n.tag=15,n.type=p,Au(e,n,p,s,u)):(e=li(r.type,null,s,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,(e.lanes&u)===0){var w=p.memoizedProps;if(r=r.compare,r=r!==null?r:Co,r(w,s)&&e.ref===n.ref)return Dn(e,n,u)}return n.flags|=1,e=ir(p,s),e.ref=n.ref,e.return=n,n.child=e}function Au(e,n,r,s,u){if(e!==null){var p=e.memoizedProps;if(Co(p,s)&&e.ref===n.ref)if(_t=!1,n.pendingProps=s=p,(e.lanes&u)!==0)(e.flags&131072)!==0&&(_t=!0);else return n.lanes=e.lanes,Dn(e,n,u)}return Ks(e,n,r,s,u)}function Iu(e,n,r){var s=n.pendingProps,u=s.children,p=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Zr,Gt),Gt|=r;else{if((r&1073741824)===0)return e=p!==null?p.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ie(Zr,Gt),Gt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=p!==null?p.baseLanes:r,Ie(Zr,Gt),Gt|=s}else p!==null?(s=p.baseLanes|r,n.memoizedState=null):s=r,Ie(Zr,Gt),Gt|=s;return Ct(e,n,u,r),n.child}function Bu(e,n){var r=n.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function Ks(e,n,r,s,u){var p=Bt(r)?mr:yt.current;return p=Wr(n,p),Yr(n,u),r=Ds(e,n,r,s,p,u),s=Ps(),e!==null&&!_t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Dn(e,n,u)):(Me&&s&&vs(n),n.flags|=1,Ct(e,n,r,u),n.child)}function _u(e,n,r,s,u){if(Bt(r)){var p=!0;Rl(n)}else p=!1;if(Yr(n,u),n.stateNode===null)Xl(e,n),Cu(n,r,s),Ws(n,r,s,u),s=!0;else if(e===null){var w=n.stateNode,N=n.memoizedProps;w.props=N;var A=w.context,O=r.contextType;typeof O=="object"&&O!==null?O=Jt(O):(O=Bt(r)?mr:yt.current,O=Wr(n,O));var Y=r.getDerivedStateFromProps,Q=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function";Q||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==s||A!==O)&&Su(n,w,s,O),Zn=!1;var G=n.memoizedState;w.state=G,Ol(n,s,w,u),A=n.memoizedState,N!==s||G!==A||It.current||Zn?(typeof Y=="function"&&(Fs(n,r,Y,s),A=n.memoizedState),(N=Zn||ku(n,r,N,s,G,A,O))?(Q||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=A),w.props=s,w.state=A,w.context=O,s=N):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{w=n.stateNode,qc(e,n),N=n.memoizedProps,O=n.type===n.elementType?N:fn(n.type,N),w.props=O,Q=n.pendingProps,G=w.context,A=r.contextType,typeof A=="object"&&A!==null?A=Jt(A):(A=Bt(r)?mr:yt.current,A=Wr(n,A));var re=r.getDerivedStateFromProps;(Y=typeof re=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==Q||G!==A)&&Su(n,w,s,A),Zn=!1,G=n.memoizedState,w.state=G,Ol(n,s,w,u);var ie=n.memoizedState;N!==Q||G!==ie||It.current||Zn?(typeof re=="function"&&(Fs(n,r,re,s),ie=n.memoizedState),(O=Zn||ku(n,r,O,s,G,ie,A)||!1)?(Y||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(s,ie,A),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(s,ie,A)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=ie),w.props=s,w.state=ie,w.context=A,s=O):(typeof w.componentDidUpdate!="function"||N===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),s=!1)}return Gs(e,n,r,s,p,u)}function Gs(e,n,r,s,u,p){Bu(e,n);var w=(n.flags&128)!==0;if(!s&&!w)return u&&zc(n,r,!1),Dn(e,n,p);s=n.stateNode,lp.current=n;var N=w&&typeof r.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&w?(n.child=Gr(n,e.child,null,p),n.child=Gr(n,null,N,p)):Ct(e,n,N,p),n.memoizedState=s.state,u&&zc(n,r,!0),n.child}function Du(e){var n=e.stateNode;n.pendingContext?Mc(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Mc(e,n.context,!1),Rs(e,n.containerInfo)}function Pu(e,n,r,s,u){return Kr(),Cs(u),n.flags|=256,Ct(e,n,r,s),n.child}var Xs={dehydrated:null,treeContext:null,retryLane:0};function Ys(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,n,r){var s=n.pendingProps,u=He.current,p=!1,w=(n.flags&128)!==0,N;if((N=w)||(N=e!==null&&e.memoizedState===null?!1:(u&2)!==0),N?(p=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ie(He,u&1),e===null)return ks(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=s.children,e=s.fallback,p?(s=n.mode,p=n.child,w={mode:"hidden",children:w},(s&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=ii(w,s,0,null),e=Er(e,s,r,null),p.return=n,e.return=n,p.sibling=e,n.child=p,n.child.memoizedState=Ys(r),n.memoizedState=Xs,e):Qs(n,w));if(u=e.memoizedState,u!==null&&(N=u.dehydrated,N!==null))return ip(e,n,w,s,N,u,r);if(p){p=s.fallback,w=n.mode,u=e.child,N=u.sibling;var A={mode:"hidden",children:s.children};return(w&1)===0&&n.child!==u?(s=n.child,s.childLanes=0,s.pendingProps=A,n.deletions=null):(s=ir(u,A),s.subtreeFlags=u.subtreeFlags&14680064),N!==null?p=ir(N,p):(p=Er(p,w,r,null),p.flags|=2),p.return=n,s.return=n,s.sibling=p,n.child=s,s=p,p=n.child,w=e.child.memoizedState,w=w===null?Ys(r):{baseLanes:w.baseLanes|r,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=e.childLanes&~r,n.memoizedState=Xs,s}return p=e.child,e=p.sibling,s=ir(p,{mode:"visible",children:s.children}),(n.mode&1)===0&&(s.lanes=r),s.return=n,s.sibling=null,e!==null&&(r=n.deletions,r===null?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=s,n.memoizedState=null,s}function Qs(e,n){return n=ii({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Gl(e,n,r,s){return s!==null&&Cs(s),Gr(n,e.child,null,r),e=Qs(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ip(e,n,r,s,u,p,w){if(r)return n.flags&256?(n.flags&=-257,s=Us(Error(i(422))),Gl(e,n,w,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(p=s.fallback,u=n.mode,s=ii({mode:"visible",children:s.children},u,0,null),p=Er(p,u,w,null),p.flags|=2,s.return=n,p.return=n,s.sibling=p,n.child=s,(n.mode&1)!==0&&Gr(n,e.child,null,w),n.child.memoizedState=Ys(w),n.memoizedState=Xs,p);if((n.mode&1)===0)return Gl(e,n,w,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var N=s.dgst;return s=N,p=Error(i(419)),s=Us(p,s,void 0),Gl(e,n,w,s)}if(N=(w&e.childLanes)!==0,_t||N){if(s=st,s!==null){switch(w&-w){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(s.suspendedLanes|w))!==0?0:u,u!==0&&u!==p.retryLane&&(p.retryLane=u,Bn(e,u),gn(s,e,u,-1))}return fa(),s=Us(Error(i(421))),Gl(e,n,w,s)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=vp.bind(null,e),u._reactRetry=n,null):(e=p.treeContext,Kt=Yn(u.nextSibling),Vt=n,Me=!0,dn=null,e!==null&&(Qt[qt++]=An,Qt[qt++]=In,Qt[qt++]=xr,An=e.id,In=e.overflow,xr=n),n=Qs(n,s.children),n.flags|=4096,n)}function Ou(e,n,r){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Ns(e.return,n,r)}function qs(e,n,r,s,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=r,p.tailMode=u)}function zu(e,n,r){var s=n.pendingProps,u=s.revealOrder,p=s.tail;if(Ct(e,n,s.children,r),s=He.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ou(e,r,n);else if(e.tag===19)Ou(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ie(He,s),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&zl(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),qs(n,!1,u,r,p);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&zl(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}qs(n,!0,r,null,p);break;case"together":qs(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Xl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Dn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,(r&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,r=ir(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=ir(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function sp(e,n,r){switch(n.tag){case 3:Du(n),Kr();break;case 5:eu(n);break;case 1:Bt(n.type)&&Rl(n);break;case 4:Rs(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,u=n.memoizedProps.value;Ie(Dl,s._currentValue),s._currentValue=u;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Ie(He,He.current&1),n.flags|=128,null):(r&n.child.childLanes)!==0?Mu(e,n,r):(Ie(He,He.current&1),e=Dn(e,n,r),e!==null?e.sibling:null);Ie(He,He.current&1);break;case 19:if(s=(r&n.childLanes)!==0,(e.flags&128)!==0){if(s)return zu(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ie(He,He.current),s)break;return null;case 22:case 23:return n.lanes=0,Iu(e,n,r)}return Dn(e,n,r)}var Hu,Js,Fu,Wu;Hu=function(e,n){for(var r=n.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Js=function(){},Fu=function(e,n,r,s){var u=e.memoizedProps;if(u!==s){e=n.stateNode,br(Cn.current);var p=null;switch(r){case"input":u=Ee(e,u),s=Ee(e,s),p=[];break;case"select":u=V({},u,{value:void 0}),s=V({},s,{value:void 0}),p=[];break;case"textarea":u=vn(e,u),s=vn(e,s),p=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Nl)}Hn(r,s);var w;r=null;for(O in u)if(!s.hasOwnProperty(O)&&u.hasOwnProperty(O)&&u[O]!=null)if(O==="style"){var N=u[O];for(w in N)N.hasOwnProperty(w)&&(r||(r={}),r[w]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(c.hasOwnProperty(O)?p||(p=[]):(p=p||[]).push(O,null));for(O in s){var A=s[O];if(N=u?.[O],s.hasOwnProperty(O)&&A!==N&&(A!=null||N!=null))if(O==="style")if(N){for(w in N)!N.hasOwnProperty(w)||A&&A.hasOwnProperty(w)||(r||(r={}),r[w]="");for(w in A)A.hasOwnProperty(w)&&N[w]!==A[w]&&(r||(r={}),r[w]=A[w])}else r||(p||(p=[]),p.push(O,r)),r=A;else O==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,N=N?N.__html:void 0,A!=null&&N!==A&&(p=p||[]).push(O,A)):O==="children"?typeof A!="string"&&typeof A!="number"||(p=p||[]).push(O,""+A):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(c.hasOwnProperty(O)?(A!=null&&O==="onScroll"&&De("scroll",e),p||N===A||(p=[])):(p=p||[]).push(O,A))}r&&(p=p||[]).push("style",r);var O=p;(n.updateQueue=O)&&(n.flags|=4)}},Wu=function(e,n,r,s){r!==s&&(n.flags|=4)};function Mo(e,n){if(!Me)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function bt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=r,n}function ap(e,n,r){var s=n.pendingProps;switch(bs(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(n),null;case 1:return Bt(n.type)&&$l(),bt(n),null;case 3:return s=n.stateNode,Qr(),Pe(It),Pe(yt),Is(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,dn!==null&&(ca(dn),dn=null))),Js(e,n),bt(n),null;case 5:Ls(n);var u=br(Io.current);if(r=n.type,e!==null&&n.stateNode!=null)Fu(e,n,r,s,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(i(166));return bt(n),null}if(e=br(Cn.current),Bl(n)){s=n.stateNode,r=n.type;var p=n.memoizedProps;switch(s[kn]=n,s[To]=p,e=(n.mode&1)!==0,r){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(u=0;u<jo.length;u++)De(jo[u],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":gt(s,p),De("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!p.multiple},De("invalid",s);break;case"textarea":ur(s,p),De("invalid",s)}Hn(r,p),u=null;for(var w in p)if(p.hasOwnProperty(w)){var N=p[w];w==="children"?typeof N=="string"?s.textContent!==N&&(p.suppressHydrationWarning!==!0&&El(s.textContent,N,e),u=["children",N]):typeof N=="number"&&s.textContent!==""+N&&(p.suppressHydrationWarning!==!0&&El(s.textContent,N,e),u=["children",""+N]):c.hasOwnProperty(w)&&N!=null&&w==="onScroll"&&De("scroll",s)}switch(r){case"input":Et(s),yn(s,p,!0);break;case"textarea":Et(s),$r(s);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(s.onclick=Nl)}s=u,n.updateQueue=s,s!==null&&(n.flags|=4)}else{w=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rr(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=w.createElement(r,{is:s.is}):(e=w.createElement(r),r==="select"&&(w=e,s.multiple?w.multiple=!0:s.size&&(w.size=s.size))):e=w.createElementNS(e,r),e[kn]=n,e[To]=s,Hu(e,n,!1,!1),n.stateNode=e;e:{switch(w=fr(r,s),r){case"dialog":De("cancel",e),De("close",e),u=s;break;case"iframe":case"object":case"embed":De("load",e),u=s;break;case"video":case"audio":for(u=0;u<jo.length;u++)De(jo[u],e);u=s;break;case"source":De("error",e),u=s;break;case"img":case"image":case"link":De("error",e),De("load",e),u=s;break;case"details":De("toggle",e),u=s;break;case"input":gt(e,s),u=Ee(e,s),De("invalid",e);break;case"option":u=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},u=V({},s,{value:void 0}),De("invalid",e);break;case"textarea":ur(e,s),u=vn(e,s),De("invalid",e);break;default:u=s}Hn(r,u),N=u;for(p in N)if(N.hasOwnProperty(p)){var A=N[p];p==="style"?zn(e,A):p==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&bn(e,A)):p==="children"?typeof A=="string"?(r!=="textarea"||A!=="")&&wn(e,A):typeof A=="number"&&wn(e,""+A):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(c.hasOwnProperty(p)?A!=null&&p==="onScroll"&&De("scroll",e):A!=null&&T(e,p,A,w))}switch(r){case"input":Et(e),yn(e,s,!1);break;case"textarea":Et(e),$r(e);break;case"option":s.value!=null&&e.setAttribute("value",""+xe(s.value));break;case"select":e.multiple=!!s.multiple,p=s.value,p!=null?zt(e,!!s.multiple,p,!1):s.defaultValue!=null&&zt(e,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Nl)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return bt(n),null;case 6:if(e&&n.stateNode!=null)Wu(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(i(166));if(r=br(Io.current),br(Cn.current),Bl(n)){if(s=n.stateNode,r=n.memoizedProps,s[kn]=n,(p=s.nodeValue!==r)&&(e=Vt,e!==null))switch(e.tag){case 3:El(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&El(s.nodeValue,r,(e.mode&1)!==0)}p&&(n.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[kn]=n,n.stateNode=s}return bt(n),null;case 13:if(Pe(He),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Kt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Kc(),Kr(),n.flags|=98560,p=!1;else if(p=Bl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[kn]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;bt(n),p=!1}else dn!==null&&(ca(dn),dn=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=r,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(He.current&1)!==0?et===0&&(et=3):fa())),n.updateQueue!==null&&(n.flags|=4),bt(n),null);case 4:return Qr(),Js(e,n),e===null&&Eo(n.stateNode.containerInfo),bt(n),null;case 10:return Es(n.type._context),bt(n),null;case 17:return Bt(n.type)&&$l(),bt(n),null;case 19:if(Pe(He),p=n.memoizedState,p===null)return bt(n),null;if(s=(n.flags&128)!==0,w=p.rendering,w===null)if(s)Mo(p,!1);else{if(et!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(w=zl(e),w!==null){for(n.flags|=128,Mo(p,!1),s=w.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=r,r=n.child;r!==null;)p=r,e=s,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,e=w.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(He,He.current&1|2),n.child}e=e.sibling}p.tail!==null&&je()>eo&&(n.flags|=128,s=!0,Mo(p,!1),n.lanes=4194304)}else{if(!s)if(e=zl(w),e!==null){if(n.flags|=128,s=!0,r=e.updateQueue,r!==null&&(n.updateQueue=r,n.flags|=4),Mo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Me)return bt(n),null}else 2*je()-p.renderingStartTime>eo&&r!==1073741824&&(n.flags|=128,s=!0,Mo(p,!1),n.lanes=4194304);p.isBackwards?(w.sibling=n.child,n.child=w):(r=p.last,r!==null?r.sibling=w:n.child=w,p.last=w)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=je(),n.sibling=null,r=He.current,Ie(He,s?r&1|2:r&1),n):(bt(n),null);case 22:case 23:return da(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&(n.mode&1)!==0?(Gt&1073741824)!==0&&(bt(n),n.subtreeFlags&6&&(n.flags|=8192)):bt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function cp(e,n){switch(bs(n),n.tag){case 1:return Bt(n.type)&&$l(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qr(),Pe(It),Pe(yt),Is(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ls(n),null;case 13:if(Pe(He),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Pe(He),null;case 4:return Qr(),null;case 10:return Es(n.type._context),null;case 22:case 23:return da(),null;case 24:return null;default:return null}}var Yl=!1,wt=!1,up=typeof WeakSet=="function"?WeakSet:Set,le=null;function Jr(e,n){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ue(e,n,s)}else r.current=null}function Zs(e,n,r){try{r()}catch(s){Ue(e,n,s)}}var Uu=!1;function dp(e,n){if(ds=gl,e=kc(),rs(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break e}var w=0,N=-1,A=-1,O=0,Y=0,Q=e,G=null;t:for(;;){for(var re;Q!==r||u!==0&&Q.nodeType!==3||(N=w+u),Q!==p||s!==0&&Q.nodeType!==3||(A=w+s),Q.nodeType===3&&(w+=Q.nodeValue.length),(re=Q.firstChild)!==null;)G=Q,Q=re;for(;;){if(Q===e)break t;if(G===r&&++O===u&&(N=w),G===p&&++Y===s&&(A=w),(re=Q.nextSibling)!==null)break;Q=G,G=Q.parentNode}Q=re}r=N===-1||A===-1?null:{start:N,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(fs={focusedElem:e,selectionRange:r},gl=!1,le=n;le!==null;)if(n=le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,le=e;else for(;le!==null;){n=le;try{var ie=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var se=ie.memoizedProps,Xe=ie.memoizedState,_=n.stateNode,B=_.getSnapshotBeforeUpdate(n.elementType===n.type?se:fn(n.type,se),Xe);_.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var D=n.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(J){Ue(n,n.return,J)}if(e=n.sibling,e!==null){e.return=n.return,le=e;break}le=n.return}return ie=Uu,Uu=!1,ie}function Oo(e,n,r){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&e)===e){var p=u.destroy;u.destroy=void 0,p!==void 0&&Zs(n,r,p)}u=u.next}while(u!==s)}}function Ql(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==n)}}function ea(e){var n=e.ref;if(n!==null){var r=e.stateNode;e.tag,e=r,typeof n=="function"?n(e):n.current=e}}function Vu(e){var n=e.alternate;n!==null&&(e.alternate=null,Vu(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[kn],delete n[To],delete n[ms],delete n[Gh],delete n[Xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ku(e){return e.tag===5||e.tag===3||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ku(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ta(e,n,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Nl));else if(s!==4&&(e=e.child,e!==null))for(ta(e,n,r),e=e.sibling;e!==null;)ta(e,n,r),e=e.sibling}function na(e,n,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(na(e,n,r),e=e.sibling;e!==null;)na(e,n,r),e=e.sibling}var ht=null,hn=!1;function tr(e,n,r){for(r=r.child;r!==null;)Xu(e,n,r),r=r.sibling}function Xu(e,n,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(Wt,r)}catch{}switch(r.tag){case 5:wt||Jr(r,n);case 6:var s=ht,u=hn;ht=null,tr(e,n,r),ht=s,hn=u,ht!==null&&(hn?(e=ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ht.removeChild(r.stateNode));break;case 18:ht!==null&&(hn?(e=ht,r=r.stateNode,e.nodeType===8?gs(e.parentNode,r):e.nodeType===1&&gs(e,r),xo(e)):gs(ht,r.stateNode));break;case 4:s=ht,u=hn,ht=r.stateNode.containerInfo,hn=!0,tr(e,n,r),ht=s,hn=u;break;case 0:case 11:case 14:case 15:if(!wt&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var p=u,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&Zs(r,n,w),u=u.next}while(u!==s)}tr(e,n,r);break;case 1:if(!wt&&(Jr(r,n),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(N){Ue(r,n,N)}tr(e,n,r);break;case 21:tr(e,n,r);break;case 22:r.mode&1?(wt=(s=wt)||r.memoizedState!==null,tr(e,n,r),wt=s):tr(e,n,r);break;default:tr(e,n,r)}}function Yu(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new up),n.forEach(function(s){var u=bp.bind(null,e,s);r.has(s)||(r.add(s),s.then(u,u))})}}function pn(e,n){var r=n.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var p=e,w=n,N=w;e:for(;N!==null;){switch(N.tag){case 5:ht=N.stateNode,hn=!1;break e;case 3:ht=N.stateNode.containerInfo,hn=!0;break e;case 4:ht=N.stateNode.containerInfo,hn=!0;break e}N=N.return}if(ht===null)throw Error(i(160));Xu(p,w,u),ht=null,hn=!1;var A=u.alternate;A!==null&&(A.return=null),u.return=null}catch(O){Ue(u,n,O)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Qu(n,e),n=n.sibling}function Qu(e,n){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(n,e),jn(e),s&4){try{Oo(3,e,e.return),Ql(3,e)}catch(se){Ue(e,e.return,se)}try{Oo(5,e,e.return)}catch(se){Ue(e,e.return,se)}}break;case 1:pn(n,e),jn(e),s&512&&r!==null&&Jr(r,r.return);break;case 5:if(pn(n,e),jn(e),s&512&&r!==null&&Jr(r,r.return),e.flags&32){var u=e.stateNode;try{wn(u,"")}catch(se){Ue(e,e.return,se)}}if(s&4&&(u=e.stateNode,u!=null)){var p=e.memoizedProps,w=r!==null?r.memoizedProps:p,N=e.type,A=e.updateQueue;if(e.updateQueue=null,A!==null)try{N==="input"&&p.type==="radio"&&p.name!=null&&Xt(u,p),fr(N,w);var O=fr(N,p);for(w=0;w<A.length;w+=2){var Y=A[w],Q=A[w+1];Y==="style"?zn(u,Q):Y==="dangerouslySetInnerHTML"?bn(u,Q):Y==="children"?wn(u,Q):T(u,Y,Q,O)}switch(N){case"input":Ot(u,p);break;case"textarea":On(u,p);break;case"select":var G=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?zt(u,!!p.multiple,re,!1):G!==!!p.multiple&&(p.defaultValue!=null?zt(u,!!p.multiple,p.defaultValue,!0):zt(u,!!p.multiple,p.multiple?[]:"",!1))}u[To]=p}catch(se){Ue(e,e.return,se)}}break;case 6:if(pn(n,e),jn(e),s&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,p=e.memoizedProps;try{u.nodeValue=p}catch(se){Ue(e,e.return,se)}}break;case 3:if(pn(n,e),jn(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{xo(n.containerInfo)}catch(se){Ue(e,e.return,se)}break;case 4:pn(n,e),jn(e);break;case 13:pn(n,e),jn(e),u=e.child,u.flags&8192&&(p=u.memoizedState!==null,u.stateNode.isHidden=p,!p||u.alternate!==null&&u.alternate.memoizedState!==null||(la=je())),s&4&&Yu(e);break;case 22:if(Y=r!==null&&r.memoizedState!==null,e.mode&1?(wt=(O=wt)||Y,pn(n,e),wt=O):pn(n,e),jn(e),s&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!Y&&(e.mode&1)!==0)for(le=e,Y=e.child;Y!==null;){for(Q=le=Y;le!==null;){switch(G=le,re=G.child,G.tag){case 0:case 11:case 14:case 15:Oo(4,G,G.return);break;case 1:Jr(G,G.return);var ie=G.stateNode;if(typeof ie.componentWillUnmount=="function"){s=G,r=G.return;try{n=s,ie.props=n.memoizedProps,ie.state=n.memoizedState,ie.componentWillUnmount()}catch(se){Ue(s,r,se)}}break;case 5:Jr(G,G.return);break;case 22:if(G.memoizedState!==null){Zu(Q);continue}}re!==null?(re.return=G,le=re):Zu(Q)}Y=Y.sibling}e:for(Y=null,Q=e;;){if(Q.tag===5){if(Y===null){Y=Q;try{u=Q.stateNode,O?(p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(N=Q.stateNode,A=Q.memoizedProps.style,w=A!=null&&A.hasOwnProperty("display")?A.display:null,N.style.display=Ar("display",w))}catch(se){Ue(e,e.return,se)}}}else if(Q.tag===6){if(Y===null)try{Q.stateNode.nodeValue=O?"":Q.memoizedProps}catch(se){Ue(e,e.return,se)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;Y===Q&&(Y=null),Q=Q.return}Y===Q&&(Y=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:pn(n,e),jn(e),s&4&&Yu(e);break;case 21:break;default:pn(n,e),jn(e)}}function jn(e){var n=e.flags;if(n&2){try{e:{for(var r=e.return;r!==null;){if(Ku(r)){var s=r;break e}r=r.return}throw Error(i(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(wn(u,""),s.flags&=-33);var p=Gu(e);na(e,p,u);break;case 3:case 4:var w=s.stateNode.containerInfo,N=Gu(e);ta(e,N,w);break;default:throw Error(i(161))}}catch(A){Ue(e,e.return,A)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fp(e,n,r){le=e,qu(e)}function qu(e,n,r){for(var s=(e.mode&1)!==0;le!==null;){var u=le,p=u.child;if(u.tag===22&&s){var w=u.memoizedState!==null||Yl;if(!w){var N=u.alternate,A=N!==null&&N.memoizedState!==null||wt;N=Yl;var O=wt;if(Yl=w,(wt=A)&&!O)for(le=u;le!==null;)w=le,A=w.child,w.tag===22&&w.memoizedState!==null?ed(u):A!==null?(A.return=w,le=A):ed(u);for(;p!==null;)le=p,qu(p),p=p.sibling;le=u,Yl=N,wt=O}Ju(e)}else(u.subtreeFlags&8772)!==0&&p!==null?(p.return=u,le=p):Ju(e)}}function Ju(e){for(;le!==null;){var n=le;if((n.flags&8772)!==0){var r=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:wt||Ql(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!wt)if(r===null)s.componentDidMount();else{var u=n.elementType===n.type?r.memoizedProps:fn(n.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&Zc(n,p,s);break;case 3:var w=n.updateQueue;if(w!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}Zc(n,w,r)}break;case 5:var N=n.stateNode;if(r===null&&n.flags&4){r=N;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&r.focus();break;case"img":A.src&&(r.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var O=n.alternate;if(O!==null){var Y=O.memoizedState;if(Y!==null){var Q=Y.dehydrated;Q!==null&&xo(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}wt||n.flags&512&&ea(n)}catch(G){Ue(n,n.return,G)}}if(n===e){le=null;break}if(r=n.sibling,r!==null){r.return=n.return,le=r;break}le=n.return}}function Zu(e){for(;le!==null;){var n=le;if(n===e){le=null;break}var r=n.sibling;if(r!==null){r.return=n.return,le=r;break}le=n.return}}function ed(e){for(;le!==null;){var n=le;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{Ql(4,n)}catch(A){Ue(n,r,A)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var u=n.return;try{s.componentDidMount()}catch(A){Ue(n,u,A)}}var p=n.return;try{ea(n)}catch(A){Ue(n,p,A)}break;case 5:var w=n.return;try{ea(n)}catch(A){Ue(n,w,A)}}}catch(A){Ue(n,n.return,A)}if(n===e){le=null;break}var N=n.sibling;if(N!==null){N.return=n.return,le=N;break}le=n.return}}var hp=Math.ceil,ql=R.ReactCurrentDispatcher,ra=R.ReactCurrentOwner,en=R.ReactCurrentBatchConfig,Te=0,st=null,Qe=null,pt=0,Gt=0,Zr=Qn(0),et=0,zo=null,kr=0,Jl=0,oa=0,Ho=null,Dt=null,la=0,eo=1/0,Pn=null,Zl=!1,ia=null,nr=null,ei=!1,rr=null,ti=0,Fo=0,sa=null,ni=-1,ri=0;function St(){return(Te&6)!==0?je():ni!==-1?ni:ni=je()}function or(e){return(e.mode&1)===0?1:(Te&2)!==0&&pt!==0?pt&-pt:Qh.transition!==null?(ri===0&&(ri=Ga()),ri):(e=Le,e!==0||(e=window.event,e=e===void 0?16:nc(e.type)),e)}function gn(e,n,r,s){if(50<Fo)throw Fo=0,sa=null,Error(i(185));fo(e,r,s),((Te&2)===0||e!==st)&&(e===st&&((Te&2)===0&&(Jl|=r),et===4&&lr(e,pt)),Pt(e,s),r===1&&Te===0&&(n.mode&1)===0&&(eo=je()+500,Ll&&Jn()))}function Pt(e,n){var r=e.callbackNode;Qf(e,n);var s=fl(e,e===st?pt:0);if(s===0)r!==null&&co(r),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(r!=null&&co(r),n===1)e.tag===0?Yh(nd.bind(null,e)):Hc(nd.bind(null,e)),Vh(function(){(Te&6)===0&&Jn()}),r=null;else{switch(Xa(s)){case 1:r=Lt;break;case 4:r=cn;break;case 16:r=Ft;break;case 536870912:r=$n;break;default:r=Ft}r=ud(r,td.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function td(e,n){if(ni=-1,ri=0,(Te&6)!==0)throw Error(i(327));var r=e.callbackNode;if(to()&&e.callbackNode!==r)return null;var s=fl(e,e===st?pt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||n)n=oi(e,s);else{n=s;var u=Te;Te|=2;var p=od();(st!==e||pt!==n)&&(Pn=null,eo=je()+500,Sr(e,n));do try{mp();break}catch(N){rd(e,N)}while(!0);js(),ql.current=p,Te=u,Qe!==null?n=0:(st=null,pt=0,n=et)}if(n!==0){if(n===2&&(u=Hi(e),u!==0&&(s=u,n=aa(e,u))),n===1)throw r=zo,Sr(e,0),lr(e,s),Pt(e,je()),r;if(n===6)lr(e,s);else{if(u=e.current.alternate,(s&30)===0&&!pp(u)&&(n=oi(e,s),n===2&&(p=Hi(e),p!==0&&(s=p,n=aa(e,p))),n===1))throw r=zo,Sr(e,0),lr(e,s),Pt(e,je()),r;switch(e.finishedWork=u,e.finishedLanes=s,n){case 0:case 1:throw Error(i(345));case 2:jr(e,Dt,Pn);break;case 3:if(lr(e,s),(s&130023424)===s&&(n=la+500-je(),10<n)){if(fl(e,0)!==0)break;if(u=e.suspendedLanes,(u&s)!==s){St(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=ps(jr.bind(null,e,Dt,Pn),n);break}jr(e,Dt,Pn);break;case 4:if(lr(e,s),(s&4194240)===s)break;for(n=e.eventTimes,u=-1;0<s;){var w=31-At(s);p=1<<w,w=n[w],w>u&&(u=w),s&=~p}if(s=u,s=je()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*hp(s/1960))-s,10<s){e.timeoutHandle=ps(jr.bind(null,e,Dt,Pn),s);break}jr(e,Dt,Pn);break;case 5:jr(e,Dt,Pn);break;default:throw Error(i(329))}}}return Pt(e,je()),e.callbackNode===r?td.bind(null,e):null}function aa(e,n){var r=Ho;return e.current.memoizedState.isDehydrated&&(Sr(e,n).flags|=256),e=oi(e,n),e!==2&&(n=Dt,Dt=r,n!==null&&ca(n)),e}function ca(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function pp(e){for(var n=e;;){if(n.flags&16384){var r=n.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],p=u.getSnapshot;u=u.value;try{if(!un(p(),u))return!1}catch{return!1}}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function lr(e,n){for(n&=~oa,n&=~Jl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-At(n),s=1<<r;e[r]=-1,n&=~s}}function nd(e){if((Te&6)!==0)throw Error(i(327));to();var n=fl(e,0);if((n&1)===0)return Pt(e,je()),null;var r=oi(e,n);if(e.tag!==0&&r===2){var s=Hi(e);s!==0&&(n=s,r=aa(e,s))}if(r===1)throw r=zo,Sr(e,0),lr(e,n),Pt(e,je()),r;if(r===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,jr(e,Dt,Pn),Pt(e,je()),null}function ua(e,n){var r=Te;Te|=1;try{return e(n)}finally{Te=r,Te===0&&(eo=je()+500,Ll&&Jn())}}function Cr(e){rr!==null&&rr.tag===0&&(Te&6)===0&&to();var n=Te;Te|=1;var r=en.transition,s=Le;try{if(en.transition=null,Le=1,e)return e()}finally{Le=s,en.transition=r,Te=n,(Te&6)===0&&Jn()}}function da(){Gt=Zr.current,Pe(Zr)}function Sr(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Uh(r)),Qe!==null)for(r=Qe.return;r!==null;){var s=r;switch(bs(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$l();break;case 3:Qr(),Pe(It),Pe(yt),Is();break;case 5:Ls(s);break;case 4:Qr();break;case 13:Pe(He);break;case 19:Pe(He);break;case 10:Es(s.type._context);break;case 22:case 23:da()}r=r.return}if(st=e,Qe=e=ir(e.current,null),pt=Gt=n,et=0,zo=null,oa=Jl=kr=0,Dt=Ho=null,vr!==null){for(n=0;n<vr.length;n++)if(r=vr[n],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,p=r.pending;if(p!==null){var w=p.next;p.next=u,s.next=w}r.pending=s}vr=null}return e}function rd(e,n){do{var r=Qe;try{if(js(),Hl.current=Vl,Fl){for(var s=Fe.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}Fl=!1}if(wr=0,it=Ze=Fe=null,Bo=!1,_o=0,ra.current=null,r===null||r.return===null){et=1,zo=n,Qe=null;break}e:{var p=e,w=r.return,N=r,A=n;if(n=pt,N.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var O=A,Y=N,Q=Y.tag;if((Y.mode&1)===0&&(Q===0||Q===11||Q===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var re=Tu(w);if(re!==null){re.flags&=-257,$u(re,w,N,p,n),re.mode&1&&Nu(p,O,n),n=re,A=O;var ie=n.updateQueue;if(ie===null){var se=new Set;se.add(A),n.updateQueue=se}else ie.add(A);break e}else{if((n&1)===0){Nu(p,O,n),fa();break e}A=Error(i(426))}}else if(Me&&N.mode&1){var Xe=Tu(w);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),$u(Xe,w,N,p,n),Cs(qr(A,N));break e}}p=A=qr(A,N),et!==4&&(et=2),Ho===null?Ho=[p]:Ho.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var _=ju(p,A,n);Jc(p,_);break e;case 1:N=A;var B=p.type,D=p.stateNode;if((p.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(nr===null||!nr.has(D)))){p.flags|=65536,n&=-n,p.lanes|=n;var J=Eu(p,N,n);Jc(p,J);break e}}p=p.return}while(p!==null)}id(r)}catch(ce){n=ce,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function od(){var e=ql.current;return ql.current=Vl,e===null?Vl:e}function fa(){(et===0||et===3||et===2)&&(et=4),st===null||(kr&268435455)===0&&(Jl&268435455)===0||lr(st,pt)}function oi(e,n){var r=Te;Te|=2;var s=od();(st!==e||pt!==n)&&(Pn=null,Sr(e,n));do try{gp();break}catch(u){rd(e,u)}while(!0);if(js(),Te=r,ql.current=s,Qe!==null)throw Error(i(261));return st=null,pt=0,et}function gp(){for(;Qe!==null;)ld(Qe)}function mp(){for(;Qe!==null&&!Ir();)ld(Qe)}function ld(e){var n=cd(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,n===null?id(e):Qe=n,ra.current=null}function id(e){var n=e;do{var r=n.alternate;if(e=n.return,(n.flags&32768)===0){if(r=ap(r,n,Gt),r!==null){Qe=r;return}}else{if(r=cp(r,n),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Qe=null;return}}if(n=n.sibling,n!==null){Qe=n;return}Qe=n=e}while(n!==null);et===0&&(et=5)}function jr(e,n,r){var s=Le,u=en.transition;try{en.transition=null,Le=1,xp(e,n,r,s)}finally{en.transition=u,Le=s}return null}function xp(e,n,r,s){do to();while(rr!==null);if((Te&6)!==0)throw Error(i(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var p=r.lanes|r.childLanes;if(qf(e,p),e===st&&(Qe=st=null,pt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||ei||(ei=!0,ud(Ft,function(){return to(),null})),p=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||p){p=en.transition,en.transition=null;var w=Le;Le=1;var N=Te;Te|=4,ra.current=null,dp(e,r),Qu(r,e),Ph(fs),gl=!!ds,fs=ds=null,e.current=r,fp(r),Se(),Te=N,Le=w,en.transition=p}else e.current=r;if(ei&&(ei=!1,rr=e,ti=u),p=e.pendingLanes,p===0&&(nr=null),Ka(r.stateNode),Pt(e,je()),n!==null)for(s=e.onRecoverableError,r=0;r<n.length;r++)u=n[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(Zl)throw Zl=!1,e=ia,ia=null,e;return(ti&1)!==0&&e.tag!==0&&to(),p=e.pendingLanes,(p&1)!==0?e===sa?Fo++:(Fo=0,sa=e):Fo=0,Jn(),null}function to(){if(rr!==null){var e=Xa(ti),n=en.transition,r=Le;try{if(en.transition=null,Le=16>e?16:e,rr===null)var s=!1;else{if(e=rr,rr=null,ti=0,(Te&6)!==0)throw Error(i(331));var u=Te;for(Te|=4,le=e.current;le!==null;){var p=le,w=p.child;if((le.flags&16)!==0){var N=p.deletions;if(N!==null){for(var A=0;A<N.length;A++){var O=N[A];for(le=O;le!==null;){var Y=le;switch(Y.tag){case 0:case 11:case 15:Oo(8,Y,p)}var Q=Y.child;if(Q!==null)Q.return=Y,le=Q;else for(;le!==null;){Y=le;var G=Y.sibling,re=Y.return;if(Vu(Y),Y===O){le=null;break}if(G!==null){G.return=re,le=G;break}le=re}}}var ie=p.alternate;if(ie!==null){var se=ie.child;if(se!==null){ie.child=null;do{var Xe=se.sibling;se.sibling=null,se=Xe}while(se!==null)}}le=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,le=w;else e:for(;le!==null;){if(p=le,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Oo(9,p,p.return)}var _=p.sibling;if(_!==null){_.return=p.return,le=_;break e}le=p.return}}var B=e.current;for(le=B;le!==null;){w=le;var D=w.child;if((w.subtreeFlags&2064)!==0&&D!==null)D.return=w,le=D;else e:for(w=B;le!==null;){if(N=le,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:Ql(9,N)}}catch(ce){Ue(N,N.return,ce)}if(N===w){le=null;break e}var J=N.sibling;if(J!==null){J.return=N.return,le=J;break e}le=N.return}}if(Te=u,Jn(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(Wt,e)}catch{}s=!0}return s}finally{Le=r,en.transition=n}}return!1}function sd(e,n,r){n=qr(r,n),n=ju(e,n,1),e=er(e,n,1),n=St(),e!==null&&(fo(e,1,n),Pt(e,n))}function Ue(e,n,r){if(e.tag===3)sd(e,e,r);else for(;n!==null;){if(n.tag===3){sd(n,e,r);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(nr===null||!nr.has(s))){e=qr(r,e),e=Eu(n,e,1),n=er(n,e,1),e=St(),n!==null&&(fo(n,1,e),Pt(n,e));break}}n=n.return}}function yp(e,n,r){var s=e.pingCache;s!==null&&s.delete(n),n=St(),e.pingedLanes|=e.suspendedLanes&r,st===e&&(pt&r)===r&&(et===4||et===3&&(pt&130023424)===pt&&500>je()-la?Sr(e,0):oa|=r),Pt(e,n)}function ad(e,n){n===0&&((e.mode&1)===0?n=1:(n=dl,dl<<=1,(dl&130023424)===0&&(dl=4194304)));var r=St();e=Bn(e,n),e!==null&&(fo(e,n,r),Pt(e,r))}function vp(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),ad(e,r)}function bp(e,n){var r=0;switch(e.tag){case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(n),ad(e,r)}var cd;cd=function(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps||It.current)_t=!0;else{if((e.lanes&r)===0&&(n.flags&128)===0)return _t=!1,sp(e,n,r);_t=(e.flags&131072)!==0}else _t=!1,Me&&(n.flags&1048576)!==0&&Fc(n,Il,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;Xl(e,n),e=n.pendingProps;var u=Wr(n,yt.current);Yr(n,r),u=Ds(null,n,s,e,u,r);var p=Ps();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Bt(s)?(p=!0,Rl(n)):p=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,$s(n),u.updater=Kl,n.stateNode=u,u._reactInternals=n,Ws(n,s,e,r),n=Gs(null,n,s,!0,p,r)):(n.tag=0,Me&&p&&vs(n),Ct(null,n,u,r),n=n.child),n;case 16:s=n.elementType;e:{switch(Xl(e,n),e=n.pendingProps,u=s._init,s=u(s._payload),n.type=s,u=n.tag=kp(s),e=fn(s,e),u){case 0:n=Ks(null,n,s,e,r);break e;case 1:n=_u(null,n,s,e,r);break e;case 11:n=Ru(null,n,s,e,r);break e;case 14:n=Lu(null,n,s,fn(s.type,e),r);break e}throw Error(i(306,s,""))}return n;case 0:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:fn(s,u),Ks(e,n,s,u,r);case 1:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:fn(s,u),_u(e,n,s,u,r);case 3:e:{if(Du(n),e===null)throw Error(i(387));s=n.pendingProps,p=n.memoizedState,u=p.element,qc(e,n),Ol(n,s,null,r);var w=n.memoizedState;if(s=w.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){u=qr(Error(i(423)),n),n=Pu(e,n,s,r,u);break e}else if(s!==u){u=qr(Error(i(424)),n),n=Pu(e,n,s,r,u);break e}else for(Kt=Yn(n.stateNode.containerInfo.firstChild),Vt=n,Me=!0,dn=null,r=Yc(n,null,s,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kr(),s===u){n=Dn(e,n,r);break e}Ct(e,n,s,r)}n=n.child}return n;case 5:return eu(n),e===null&&ks(n),s=n.type,u=n.pendingProps,p=e!==null?e.memoizedProps:null,w=u.children,hs(s,u)?w=null:p!==null&&hs(s,p)&&(n.flags|=32),Bu(e,n),Ct(e,n,w,r),n.child;case 6:return e===null&&ks(n),null;case 13:return Mu(e,n,r);case 4:return Rs(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Gr(n,null,s,r):Ct(e,n,s,r),n.child;case 11:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:fn(s,u),Ru(e,n,s,u,r);case 7:return Ct(e,n,n.pendingProps,r),n.child;case 8:return Ct(e,n,n.pendingProps.children,r),n.child;case 12:return Ct(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(s=n.type._context,u=n.pendingProps,p=n.memoizedProps,w=u.value,Ie(Dl,s._currentValue),s._currentValue=w,p!==null)if(un(p.value,w)){if(p.children===u.children&&!It.current){n=Dn(e,n,r);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var N=p.dependencies;if(N!==null){w=p.child;for(var A=N.firstContext;A!==null;){if(A.context===s){if(p.tag===1){A=_n(-1,r&-r),A.tag=2;var O=p.updateQueue;if(O!==null){O=O.shared;var Y=O.pending;Y===null?A.next=A:(A.next=Y.next,Y.next=A),O.pending=A}}p.lanes|=r,A=p.alternate,A!==null&&(A.lanes|=r),Ns(p.return,r,n),N.lanes|=r;break}A=A.next}}else if(p.tag===10)w=p.type===n.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=r,N=w.alternate,N!==null&&(N.lanes|=r),Ns(w,r,n),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}Ct(e,n,u.children,r),n=n.child}return n;case 9:return u=n.type,s=n.pendingProps.children,Yr(n,r),u=Jt(u),s=s(u),n.flags|=1,Ct(e,n,s,r),n.child;case 14:return s=n.type,u=fn(s,n.pendingProps),u=fn(s.type,u),Lu(e,n,s,u,r);case 15:return Au(e,n,n.type,n.pendingProps,r);case 17:return s=n.type,u=n.pendingProps,u=n.elementType===s?u:fn(s,u),Xl(e,n),n.tag=1,Bt(s)?(e=!0,Rl(n)):e=!1,Yr(n,r),Cu(n,s,u),Ws(n,s,u,r),Gs(null,n,s,!0,e,r);case 19:return zu(e,n,r);case 22:return Iu(e,n,r)}throw Error(i(156,n.tag))};function ud(e,n){return cl(e,n)}function wp(e,n,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,n,r,s){return new wp(e,n,r,s)}function ha(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kp(e){if(typeof e=="function")return ha(e)?1:0;if(e!=null){if(e=e.$$typeof,e===M)return 11;if(e===ue)return 14}return 2}function ir(e,n){var r=e.alternate;return r===null?(r=tn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function li(e,n,r,s,u,p){var w=2;if(s=e,typeof e=="function")ha(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case H:return Er(r.children,u,p,n);case W:w=8,u|=8;break;case q:return e=tn(12,r,n,u|2),e.elementType=q,e.lanes=p,e;case Z:return e=tn(13,r,n,u),e.elementType=Z,e.lanes=p,e;case ne:return e=tn(19,r,n,u),e.elementType=ne,e.lanes=p,e;case he:return ii(r,u,p,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:w=10;break e;case X:w=9;break e;case M:w=11;break e;case ue:w=14;break e;case ke:w=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=tn(w,r,n,u),n.elementType=e,n.type=s,n.lanes=p,n}function Er(e,n,r,s){return e=tn(7,e,s,n),e.lanes=r,e}function ii(e,n,r,s){return e=tn(22,e,s,n),e.elementType=he,e.lanes=r,e.stateNode={isHidden:!1},e}function pa(e,n,r){return e=tn(6,e,null,n),e.lanes=r,e}function ga(e,n,r){return n=tn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Cp(e,n,r,s,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fi(0),this.expirationTimes=Fi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ma(e,n,r,s,u,p,w,N,A){return e=new Cp(e,n,r,N,A),n===1?(n=1,p===!0&&(n|=8)):n=0,p=tn(3,null,null,n),e.current=p,p.stateNode=e,p.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(p),e}function Sp(e,n,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:s==null?null:""+s,children:e,containerInfo:n,implementation:r}}function dd(e){if(!e)return qn;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Bt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var r=e.type;if(Bt(r))return Oc(e,r,n)}return n}function fd(e,n,r,s,u,p,w,N,A){return e=ma(r,s,!0,e,u,p,w,N,A),e.context=dd(null),r=e.current,s=St(),u=or(r),p=_n(s,u),p.callback=n??null,er(r,p,u),e.current.lanes=u,fo(e,u,s),Pt(e,s),e}function si(e,n,r,s){var u=n.current,p=St(),w=or(u);return r=dd(r),n.context===null?n.context=r:n.pendingContext=r,n=_n(p,w),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=er(u,n,w),e!==null&&(gn(e,u,w,p),Ml(e,u,w)),w}function ai(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function hd(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function xa(e,n){hd(e,n),(e=e.alternate)&&hd(e,n)}function jp(){return null}var pd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ya(e){this._internalRoot=e}ci.prototype.render=ya.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));si(e,n,null,null)},ci.prototype.unmount=ya.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Cr(function(){si(null,e,null,null)}),n[Rn]=null}};function ci(e){this._internalRoot=e}ci.prototype.unstable_scheduleHydration=function(e){if(e){var n=qa();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Kn.length&&n!==0&&n<Kn[r].priority;r++);Kn.splice(r,0,e),r===0&&ec(e)}};function va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gd(){}function Ep(e,n,r,s,u){if(u){if(typeof s=="function"){var p=s;s=function(){var O=ai(w);p.call(O)}}var w=fd(n,s,e,0,null,!1,!1,"",gd);return e._reactRootContainer=w,e[Rn]=w.current,Eo(e.nodeType===8?e.parentNode:e),Cr(),w}for(;u=e.lastChild;)e.removeChild(u);if(typeof s=="function"){var N=s;s=function(){var O=ai(A);N.call(O)}}var A=ma(e,0,!1,null,null,!1,!1,"",gd);return e._reactRootContainer=A,e[Rn]=A.current,Eo(e.nodeType===8?e.parentNode:e),Cr(function(){si(n,A,r,s)}),A}function di(e,n,r,s,u){var p=r._reactRootContainer;if(p){var w=p;if(typeof u=="function"){var N=u;u=function(){var A=ai(w);N.call(A)}}si(n,w,e,u)}else w=Ep(r,n,e,u,s);return ai(w)}Ya=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=uo(n.pendingLanes);r!==0&&(Wi(n,r|1),Pt(n,je()),(Te&6)===0&&(eo=je()+500,Jn()))}break;case 13:Cr(function(){var s=Bn(e,1);if(s!==null){var u=St();gn(s,e,1,u)}}),xa(e,1)}},Ui=function(e){if(e.tag===13){var n=Bn(e,134217728);if(n!==null){var r=St();gn(n,e,134217728,r)}xa(e,134217728)}},Qa=function(e){if(e.tag===13){var n=or(e),r=Bn(e,n);if(r!==null){var s=St();gn(r,e,n,s)}xa(e,n)}},qa=function(){return Le},Ja=function(e,n){var r=Le;try{return Le=e,n()}finally{Le=r}},pr=function(e,n,r){switch(n){case"input":if(Ot(e,r),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var s=r[n];if(s!==e&&s.form===e.form){var u=Tl(s);if(!u)throw Error(i(90));Ye(s),Ot(s,u)}}}break;case"textarea":On(e,r);break;case"select":n=r.value,n!=null&&zt(e,!!r.multiple,n,!1)}},dt=ua,Je=Cr;var Np={usingClientEntryPoint:!1,Events:[$o,Hr,Tl,nt,Nt,ua]},Wo={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tp={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sl(e),e===null?null:e.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{Wt=fi.inject(Tp),lt=fi}catch{}}return Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np,Mt.createPortal=function(e,n){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!va(n))throw Error(i(200));return Sp(e,n,null,r)},Mt.createRoot=function(e,n){if(!va(e))throw Error(i(299));var r=!1,s="",u=pd;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=ma(e,1,!1,null,null,r,!1,s,u),e[Rn]=n.current,Eo(e.nodeType===8?e.parentNode:e),new ya(n)},Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=sl(n),e=e===null?null:e.stateNode,e},Mt.flushSync=function(e){return Cr(e)},Mt.hydrate=function(e,n,r){if(!ui(n))throw Error(i(200));return di(null,e,n,!0,r)},Mt.hydrateRoot=function(e,n,r){if(!va(e))throw Error(i(405));var s=r!=null&&r.hydratedSources||null,u=!1,p="",w=pd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(p=r.identifierPrefix),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),n=fd(n,null,e,1,r??null,u,!1,p,w),e[Rn]=n.current,Eo(e),s)for(e=0;e<s.length;e++)r=s[e],u=r._getVersion,u=u(r._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[r,u]:n.mutableSourceEagerHydrationData.push(r,u);return new ci(n)},Mt.render=function(e,n,r){if(!ui(n))throw Error(i(200));return di(null,e,n,!1,r)},Mt.unmountComponentAtNode=function(e){if(!ui(e))throw Error(i(40));return e._reactRootContainer?(Cr(function(){di(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1},Mt.unstable_batchedUpdates=ua,Mt.unstable_renderSubtreeIntoContainer=function(e,n,r,s){if(!ui(r))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return di(e,n,r,!1,s)},Mt.version="18.3.1-next-f1338f8080-20240426",Mt}var Cd;function Qd(){if(Cd)return ka.exports;Cd=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(l){console.error(l)}}return t(),ka.exports=Dp(),ka.exports}var cr=Qd();const Pp=Da(cr),hC=_a({__proto__:null,default:Pp},[cr]);var hi={},Sd;function Mp(){if(Sd)return hi;Sd=1;var t=Qd();return hi.createRoot=t.createRoot,hi.hydrateRoot=t.hydrateRoot,hi}var pC=Mp();function Op(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return x.useMemo(()=>a=>{l.forEach(c=>c(a))},l)}const Li=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lo(t){const l=Object.prototype.toString.call(t);return l==="[object Window]"||l==="[object global]"}function Ma(t){return"nodeType"in t}function jt(t){var l,i;return t?lo(t)?t:Ma(t)&&(l=(i=t.ownerDocument)==null?void 0:i.defaultView)!=null?l:window:window}function Oa(t){const{Document:l}=jt(t);return t instanceof l}function el(t){return lo(t)?!1:t instanceof jt(t).HTMLElement}function qd(t){return t instanceof jt(t).SVGElement}function io(t){return t?lo(t)?t.document:Ma(t)?Oa(t)?t:el(t)||qd(t)?t.ownerDocument:document:document:document}const mn=Li?x.useLayoutEffect:x.useEffect;function Ai(t){const l=x.useRef(t);return mn(()=>{l.current=t}),x.useCallback(function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return l.current==null?void 0:l.current(...a)},[])}function zp(){const t=x.useRef(null),l=x.useCallback((a,c)=>{t.current=setInterval(a,c)},[]),i=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[l,i]}function Qo(t,l){l===void 0&&(l=[t]);const i=x.useRef(t);return mn(()=>{i.current!==t&&(i.current=t)},l),i}function tl(t,l){const i=x.useRef();return x.useMemo(()=>{const a=t(i.current);return i.current=a,a},[...l])}function Si(t){const l=Ai(t),i=x.useRef(null),a=x.useCallback(c=>{c!==i.current&&l?.(c,i.current),i.current=c},[]);return[i,a]}function ji(t){const l=x.useRef();return x.useEffect(()=>{l.current=t},[t]),l.current}let ja={};function nl(t,l){return x.useMemo(()=>{if(l)return l;const i=ja[t]==null?0:ja[t]+1;return ja[t]=i,t+"-"+i},[t,l])}function Jd(t){return function(l){for(var i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return a.reduce((d,h)=>{const m=Object.entries(h);for(const[g,y]of m){const b=d[g];b!=null&&(d[g]=b+t*y)}return d},{...l})}}const ro=Jd(1),Ei=Jd(-1);function Hp(t){return"clientX"in t&&"clientY"in t}function Ii(t){if(!t)return!1;const{KeyboardEvent:l}=jt(t.target);return l&&t instanceof l}function Fp(t){if(!t)return!1;const{TouchEvent:l}=jt(t.target);return l&&t instanceof l}function Ni(t){if(Fp(t)){if(t.touches&&t.touches.length){const{clientX:l,clientY:i}=t.touches[0];return{x:l,y:i}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:l,clientY:i}=t.changedTouches[0];return{x:l,y:i}}}return Hp(t)?{x:t.clientX,y:t.clientY}:null}const Mn=Object.freeze({Translate:{toString(t){if(!t)return;const{x:l,y:i}=t;return"translate3d("+(l?Math.round(l):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:l,scaleY:i}=t;return"scaleX("+l+") scaleY("+i+")"}},Transform:{toString(t){if(t)return[Mn.Translate.toString(t),Mn.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:l,duration:i,easing:a}=t;return l+" "+i+"ms "+a}}}),jd="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Wp(t){return t.matches(jd)?t:t.querySelector(jd)}const Up={display:"none"};function Vp(t){let{id:l,value:i}=t;return Oe.createElement("div",{id:l,style:Up},i)}function Kp(t){let{id:l,announcement:i,ariaLiveType:a="assertive"}=t;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Oe.createElement("div",{id:l,style:c,role:"status","aria-live":a,"aria-atomic":!0},i)}function Gp(){const[t,l]=x.useState("");return{announce:x.useCallback(a=>{a!=null&&l(a)},[]),announcement:t}}const Zd=x.createContext(null);function Xp(t){const l=x.useContext(Zd);x.useEffect(()=>{if(!l)throw new Error("useDndMonitor must be used within a children of <DndContext>");return l(t)},[t,l])}function Yp(){const[t]=x.useState(()=>new Set),l=x.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[x.useCallback(a=>{let{type:c,event:d}=a;t.forEach(h=>{var m;return(m=h[c])==null?void 0:m.call(h,d)})},[t]),l]}const Qp={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},qp={onDragStart(t){let{active:l}=t;return"Picked up draggable item "+l.id+"."},onDragOver(t){let{active:l,over:i}=t;return i?"Draggable item "+l.id+" was moved over droppable area "+i.id+".":"Draggable item "+l.id+" is no longer over a droppable area."},onDragEnd(t){let{active:l,over:i}=t;return i?"Draggable item "+l.id+" was dropped over droppable area "+i.id:"Draggable item "+l.id+" was dropped."},onDragCancel(t){let{active:l}=t;return"Dragging was cancelled. Draggable item "+l.id+" was dropped."}};function Jp(t){let{announcements:l=qp,container:i,hiddenTextDescribedById:a,screenReaderInstructions:c=Qp}=t;const{announce:d,announcement:h}=Gp(),m=nl("DndLiveRegion"),[g,y]=x.useState(!1);if(x.useEffect(()=>{y(!0)},[]),Xp(x.useMemo(()=>({onDragStart(v){let{active:j}=v;d(l.onDragStart({active:j}))},onDragMove(v){let{active:j,over:E}=v;l.onDragMove&&d(l.onDragMove({active:j,over:E}))},onDragOver(v){let{active:j,over:E}=v;d(l.onDragOver({active:j,over:E}))},onDragEnd(v){let{active:j,over:E}=v;d(l.onDragEnd({active:j,over:E}))},onDragCancel(v){let{active:j,over:E}=v;d(l.onDragCancel({active:j,over:E}))}}),[d,l])),!g)return null;const b=Oe.createElement(Oe.Fragment,null,Oe.createElement(Vp,{id:a,value:c.draggable}),Oe.createElement(Kp,{id:m,announcement:h}));return i?cr.createPortal(b,i):b}var tt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(tt||(tt={}));function Ti(){}function Zp(t,l){return x.useMemo(()=>({sensor:t,options:l??{}}),[t,l])}function eg(){for(var t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return x.useMemo(()=>[...l].filter(a=>a!=null),[...l])}const xn=Object.freeze({x:0,y:0});function ef(t,l){return Math.sqrt(Math.pow(t.x-l.x,2)+Math.pow(t.y-l.y,2))}function tg(t,l){const i=Ni(t);if(!i)return"0 0";const a={x:(i.x-l.left)/l.width*100,y:(i.y-l.top)/l.height*100};return a.x+"% "+a.y+"%"}function tf(t,l){let{data:{value:i}}=t,{data:{value:a}}=l;return i-a}function ng(t,l){let{data:{value:i}}=t,{data:{value:a}}=l;return a-i}function rg(t){let{left:l,top:i,height:a,width:c}=t;return[{x:l,y:i},{x:l+c,y:i},{x:l,y:i+a},{x:l+c,y:i+a}]}function og(t,l){if(!t||t.length===0)return null;const[i]=t;return i[l]}function Ed(t,l,i){return l===void 0&&(l=t.left),i===void 0&&(i=t.top),{x:l+t.width*.5,y:i+t.height*.5}}const lg=t=>{let{collisionRect:l,droppableRects:i,droppableContainers:a}=t;const c=Ed(l,l.left,l.top),d=[];for(const h of a){const{id:m}=h,g=i.get(m);if(g){const y=ef(Ed(g),c);d.push({id:m,data:{droppableContainer:h,value:y}})}}return d.sort(tf)};function ig(t,l){const i=Math.max(l.top,t.top),a=Math.max(l.left,t.left),c=Math.min(l.left+l.width,t.left+t.width),d=Math.min(l.top+l.height,t.top+t.height),h=c-a,m=d-i;if(a<c&&i<d){const g=l.width*l.height,y=t.width*t.height,b=h*m,v=b/(g+y-b);return Number(v.toFixed(4))}return 0}const sg=t=>{let{collisionRect:l,droppableRects:i,droppableContainers:a}=t;const c=[];for(const d of a){const{id:h}=d,m=i.get(h);if(m){const g=ig(m,l);g>0&&c.push({id:h,data:{droppableContainer:d,value:g}})}}return c.sort(ng)};function ag(t,l){const{top:i,left:a,bottom:c,right:d}=l;return i<=t.y&&t.y<=c&&a<=t.x&&t.x<=d}const cg=t=>{let{droppableContainers:l,droppableRects:i,pointerCoordinates:a}=t;if(!a)return[];const c=[];for(const d of l){const{id:h}=d,m=i.get(h);if(m&&ag(a,m)){const y=rg(m).reduce((v,j)=>v+ef(a,j),0),b=Number((y/4).toFixed(4));c.push({id:h,data:{droppableContainer:d,value:b}})}}return c.sort(tf)};function ug(t,l,i){return{...t,scaleX:l&&i?l.width/i.width:1,scaleY:l&&i?l.height/i.height:1}}function nf(t,l){return t&&l?{x:t.left-l.left,y:t.top-l.top}:xn}function dg(t){return function(i){for(var a=arguments.length,c=new Array(a>1?a-1:0),d=1;d<a;d++)c[d-1]=arguments[d];return c.reduce((h,m)=>({...h,top:h.top+t*m.y,bottom:h.bottom+t*m.y,left:h.left+t*m.x,right:h.right+t*m.x}),{...i})}}const fg=dg(1);function rf(t){if(t.startsWith("matrix3d(")){const l=t.slice(9,-1).split(/, /);return{x:+l[12],y:+l[13],scaleX:+l[0],scaleY:+l[5]}}else if(t.startsWith("matrix(")){const l=t.slice(7,-1).split(/, /);return{x:+l[4],y:+l[5],scaleX:+l[0],scaleY:+l[3]}}return null}function hg(t,l,i){const a=rf(l);if(!a)return t;const{scaleX:c,scaleY:d,x:h,y:m}=a,g=t.left-h-(1-c)*parseFloat(i),y=t.top-m-(1-d)*parseFloat(i.slice(i.indexOf(" ")+1)),b=c?t.width/c:t.width,v=d?t.height/d:t.height;return{width:b,height:v,top:y,right:g+b,bottom:y+v,left:g}}const pg={ignoreTransform:!1};function so(t,l){l===void 0&&(l=pg);let i=t.getBoundingClientRect();if(l.ignoreTransform){const{transform:y,transformOrigin:b}=jt(t).getComputedStyle(t);y&&(i=hg(i,y,b))}const{top:a,left:c,width:d,height:h,bottom:m,right:g}=i;return{top:a,left:c,width:d,height:h,bottom:m,right:g}}function Nd(t){return so(t,{ignoreTransform:!0})}function gg(t){const l=t.innerWidth,i=t.innerHeight;return{top:0,left:0,right:l,bottom:i,width:l,height:i}}function mg(t,l){return l===void 0&&(l=jt(t).getComputedStyle(t)),l.position==="fixed"}function xg(t,l){l===void 0&&(l=jt(t).getComputedStyle(t));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const d=l[c];return typeof d=="string"?i.test(d):!1})}function za(t,l){const i=[];function a(c){if(l!=null&&i.length>=l||!c)return i;if(Oa(c)&&c.scrollingElement!=null&&!i.includes(c.scrollingElement))return i.push(c.scrollingElement),i;if(!el(c)||qd(c)||i.includes(c))return i;const d=jt(t).getComputedStyle(c);return c!==t&&xg(c,d)&&i.push(c),mg(c,d)?i:a(c.parentNode)}return t?a(t):i}function of(t){const[l]=za(t,1);return l??null}function Ea(t){return!Li||!t?null:lo(t)?t:Ma(t)?Oa(t)||t===io(t).scrollingElement?window:el(t)?t:null:null}function lf(t){return lo(t)?t.scrollX:t.scrollLeft}function sf(t){return lo(t)?t.scrollY:t.scrollTop}function $a(t){return{x:lf(t),y:sf(t)}}var ct;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ct||(ct={}));function af(t){return!Li||!t?!1:t===document.scrollingElement}function cf(t){const l={x:0,y:0},i=af(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-i.width,y:t.scrollHeight-i.height},c=t.scrollTop<=l.y,d=t.scrollLeft<=l.x,h=t.scrollTop>=a.y,m=t.scrollLeft>=a.x;return{isTop:c,isLeft:d,isBottom:h,isRight:m,maxScroll:a,minScroll:l}}const yg={x:.2,y:.2};function vg(t,l,i,a,c){let{top:d,left:h,right:m,bottom:g}=i;a===void 0&&(a=10),c===void 0&&(c=yg);const{isTop:y,isBottom:b,isLeft:v,isRight:j}=cf(t),E={x:0,y:0},L={x:0,y:0},k={height:l.height*c.y,width:l.width*c.x};return!y&&d<=l.top+k.height?(E.y=ct.Backward,L.y=a*Math.abs((l.top+k.height-d)/k.height)):!b&&g>=l.bottom-k.height&&(E.y=ct.Forward,L.y=a*Math.abs((l.bottom-k.height-g)/k.height)),!j&&m>=l.right-k.width?(E.x=ct.Forward,L.x=a*Math.abs((l.right-k.width-m)/k.width)):!v&&h<=l.left+k.width&&(E.x=ct.Backward,L.x=a*Math.abs((l.left+k.width-h)/k.width)),{direction:E,speed:L}}function bg(t){if(t===document.scrollingElement){const{innerWidth:d,innerHeight:h}=window;return{top:0,left:0,right:d,bottom:h,width:d,height:h}}const{top:l,left:i,right:a,bottom:c}=t.getBoundingClientRect();return{top:l,left:i,right:a,bottom:c,width:t.clientWidth,height:t.clientHeight}}function uf(t){return t.reduce((l,i)=>ro(l,$a(i)),xn)}function wg(t){return t.reduce((l,i)=>l+lf(i),0)}function kg(t){return t.reduce((l,i)=>l+sf(i),0)}function df(t,l){if(l===void 0&&(l=so),!t)return;const{top:i,left:a,bottom:c,right:d}=l(t);of(t)&&(c<=0||d<=0||i>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const Cg=[["x",["left","right"],wg],["y",["top","bottom"],kg]];class Ha{constructor(l,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=za(i),c=uf(a);this.rect={...l},this.width=l.width,this.height=l.height;for(const[d,h,m]of Cg)for(const g of h)Object.defineProperty(this,g,{get:()=>{const y=m(a),b=c[d]-y;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Go{constructor(l){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...i)})},this.target=l}add(l,i,a){var c;(c=this.target)==null||c.addEventListener(l,i,a),this.listeners.push([l,i,a])}}function Sg(t){const{EventTarget:l}=jt(t);return t instanceof l?t:io(t)}function Na(t,l){const i=Math.abs(t.x),a=Math.abs(t.y);return typeof l=="number"?Math.sqrt(i**2+a**2)>l:"x"in l&&"y"in l?i>l.x&&a>l.y:"x"in l?i>l.x:"y"in l?a>l.y:!1}var nn;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(nn||(nn={}));function Td(t){t.preventDefault()}function jg(t){t.stopPropagation()}var Re;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Re||(Re={}));const ff={start:[Re.Space,Re.Enter],cancel:[Re.Esc],end:[Re.Space,Re.Enter,Re.Tab]},Eg=(t,l)=>{let{currentCoordinates:i}=l;switch(t.code){case Re.Right:return{...i,x:i.x+25};case Re.Left:return{...i,x:i.x-25};case Re.Down:return{...i,y:i.y+25};case Re.Up:return{...i,y:i.y-25}}};class hf{constructor(l){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=l;const{event:{target:i}}=l;this.props=l,this.listeners=new Go(io(i)),this.windowListeners=new Go(jt(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(nn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:l,onStart:i}=this.props,a=l.node.current;a&&df(a),i(xn)}handleKeyDown(l){if(Ii(l)){const{active:i,context:a,options:c}=this.props,{keyboardCodes:d=ff,coordinateGetter:h=Eg,scrollBehavior:m="smooth"}=c,{code:g}=l;if(d.end.includes(g)){this.handleEnd(l);return}if(d.cancel.includes(g)){this.handleCancel(l);return}const{collisionRect:y}=a.current,b=y?{x:y.left,y:y.top}:xn;this.referenceCoordinates||(this.referenceCoordinates=b);const v=h(l,{active:i,context:a.current,currentCoordinates:b});if(v){const j=Ei(v,b),E={x:0,y:0},{scrollableAncestors:L}=a.current;for(const k of L){const C=l.code,{isTop:S,isRight:$,isLeft:T,isBottom:R,maxScroll:P,minScroll:z}=cf(k),H=bg(k),W={x:Math.min(C===Re.Right?H.right-H.width/2:H.right,Math.max(C===Re.Right?H.left:H.left+H.width/2,v.x)),y:Math.min(C===Re.Down?H.bottom-H.height/2:H.bottom,Math.max(C===Re.Down?H.top:H.top+H.height/2,v.y))},q=C===Re.Right&&!$||C===Re.Left&&!T,K=C===Re.Down&&!R||C===Re.Up&&!S;if(q&&W.x!==v.x){const X=k.scrollLeft+j.x,M=C===Re.Right&&X<=P.x||C===Re.Left&&X>=z.x;if(M&&!j.y){k.scrollTo({left:X,behavior:m});return}M?E.x=k.scrollLeft-X:E.x=C===Re.Right?k.scrollLeft-P.x:k.scrollLeft-z.x,E.x&&k.scrollBy({left:-E.x,behavior:m});break}else if(K&&W.y!==v.y){const X=k.scrollTop+j.y,M=C===Re.Down&&X<=P.y||C===Re.Up&&X>=z.y;if(M&&!j.x){k.scrollTo({top:X,behavior:m});return}M?E.y=k.scrollTop-X:E.y=C===Re.Down?k.scrollTop-P.y:k.scrollTop-z.y,E.y&&k.scrollBy({top:-E.y,behavior:m});break}}this.handleMove(l,ro(Ei(v,this.referenceCoordinates),E))}}}handleMove(l,i){const{onMove:a}=this.props;l.preventDefault(),a(i)}handleEnd(l){const{onEnd:i}=this.props;l.preventDefault(),this.detach(),i()}handleCancel(l){const{onCancel:i}=this.props;l.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hf.activators=[{eventName:"onKeyDown",handler:(t,l,i)=>{let{keyboardCodes:a=ff,onActivation:c}=l,{active:d}=i;const{code:h}=t.nativeEvent;if(a.start.includes(h)){const m=d.activatorNode.current;return m&&t.target!==m?!1:(t.preventDefault(),c?.({event:t.nativeEvent}),!0)}return!1}}];function $d(t){return!!(t&&"distance"in t)}function Rd(t){return!!(t&&"delay"in t)}class Fa{constructor(l,i,a){var c;a===void 0&&(a=Sg(l.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=l,this.events=i;const{event:d}=l,{target:h}=d;this.props=l,this.events=i,this.document=io(h),this.documentListeners=new Go(this.document),this.listeners=new Go(a),this.windowListeners=new Go(jt(h)),this.initialCoordinates=(c=Ni(d))!=null?c:xn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:l,props:{options:{activationConstraint:i,bypassActivationConstraint:a}}}=this;if(this.listeners.add(l.move.name,this.handleMove,{passive:!1}),this.listeners.add(l.end.name,this.handleEnd),l.cancel&&this.listeners.add(l.cancel.name,this.handleCancel),this.windowListeners.add(nn.Resize,this.handleCancel),this.windowListeners.add(nn.DragStart,Td),this.windowListeners.add(nn.VisibilityChange,this.handleCancel),this.windowListeners.add(nn.ContextMenu,Td),this.documentListeners.add(nn.Keydown,this.handleKeydown),i){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Rd(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if($d(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(l,i){const{active:a,onPending:c}=this.props;c(a,l,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:l}=this,{onStart:i}=this.props;l&&(this.activated=!0,this.documentListeners.add(nn.Click,jg,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(nn.SelectionChange,this.removeTextSelection),i(l))}handleMove(l){var i;const{activated:a,initialCoordinates:c,props:d}=this,{onMove:h,options:{activationConstraint:m}}=d;if(!c)return;const g=(i=Ni(l))!=null?i:xn,y=Ei(c,g);if(!a&&m){if($d(m)){if(m.tolerance!=null&&Na(y,m.tolerance))return this.handleCancel();if(Na(y,m.distance))return this.handleStart()}if(Rd(m)&&Na(y,m.tolerance))return this.handleCancel();this.handlePending(m,y);return}l.cancelable&&l.preventDefault(),h(g)}handleEnd(){const{onAbort:l,onEnd:i}=this.props;this.detach(),this.activated||l(this.props.active),i()}handleCancel(){const{onAbort:l,onCancel:i}=this.props;this.detach(),this.activated||l(this.props.active),i()}handleKeydown(l){l.code===Re.Esc&&this.handleCancel()}removeTextSelection(){var l;(l=this.document.getSelection())==null||l.removeAllRanges()}}const Ng={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wa extends Fa{constructor(l){const{event:i}=l,a=io(i.target);super(l,Ng,a)}}Wa.activators=[{eventName:"onPointerDown",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:a}=l;return!i.isPrimary||i.button!==0?!1:(a?.({event:i}),!0)}}];const Tg={move:{name:"mousemove"},end:{name:"mouseup"}};var Ra;(function(t){t[t.RightClick=2]="RightClick"})(Ra||(Ra={}));class $g extends Fa{constructor(l){super(l,Tg,io(l.event.target))}}$g.activators=[{eventName:"onMouseDown",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:a}=l;return i.button===Ra.RightClick?!1:(a?.({event:i}),!0)}}];const Ta={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Rg extends Fa{constructor(l){super(l,Ta)}static setup(){return window.addEventListener(Ta.move.name,l,{capture:!1,passive:!1}),function(){window.removeEventListener(Ta.move.name,l)};function l(){}}}Rg.activators=[{eventName:"onTouchStart",handler:(t,l)=>{let{nativeEvent:i}=t,{onActivation:a}=l;const{touches:c}=i;return c.length>1?!1:(a?.({event:i}),!0)}}];var Xo;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Xo||(Xo={}));var $i;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})($i||($i={}));function Lg(t){let{acceleration:l,activator:i=Xo.Pointer,canScroll:a,draggingRect:c,enabled:d,interval:h=5,order:m=$i.TreeOrder,pointerCoordinates:g,scrollableAncestors:y,scrollableAncestorRects:b,delta:v,threshold:j}=t;const E=Ig({delta:v,disabled:!d}),[L,k]=zp(),C=x.useRef({x:0,y:0}),S=x.useRef({x:0,y:0}),$=x.useMemo(()=>{switch(i){case Xo.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Xo.DraggableRect:return c}},[i,c,g]),T=x.useRef(null),R=x.useCallback(()=>{const z=T.current;if(!z)return;const H=C.current.x*S.current.x,W=C.current.y*S.current.y;z.scrollBy(H,W)},[]),P=x.useMemo(()=>m===$i.TreeOrder?[...y].reverse():y,[m,y]);x.useEffect(()=>{if(!d||!y.length||!$){k();return}for(const z of P){if(a?.(z)===!1)continue;const H=y.indexOf(z),W=b[H];if(!W)continue;const{direction:q,speed:K}=vg(z,W,$,l,j);for(const X of["x","y"])E[X][q[X]]||(K[X]=0,q[X]=0);if(K.x>0||K.y>0){k(),T.current=z,L(R,h),C.current=K,S.current=q;return}}C.current={x:0,y:0},S.current={x:0,y:0},k()},[l,R,a,k,d,h,JSON.stringify($),JSON.stringify(E),L,y,P,b,JSON.stringify(j)])}const Ag={x:{[ct.Backward]:!1,[ct.Forward]:!1},y:{[ct.Backward]:!1,[ct.Forward]:!1}};function Ig(t){let{delta:l,disabled:i}=t;const a=ji(l);return tl(c=>{if(i||!a||!c)return Ag;const d={x:Math.sign(l.x-a.x),y:Math.sign(l.y-a.y)};return{x:{[ct.Backward]:c.x[ct.Backward]||d.x===-1,[ct.Forward]:c.x[ct.Forward]||d.x===1},y:{[ct.Backward]:c.y[ct.Backward]||d.y===-1,[ct.Forward]:c.y[ct.Forward]||d.y===1}}},[i,l,a])}function Bg(t,l){const i=l!=null?t.get(l):void 0,a=i?i.node.current:null;return tl(c=>{var d;return l==null?null:(d=a??c)!=null?d:null},[a,l])}function _g(t,l){return x.useMemo(()=>t.reduce((i,a)=>{const{sensor:c}=a,d=c.activators.map(h=>({eventName:h.eventName,handler:l(h.handler,a)}));return[...i,...d]},[]),[t,l])}var qo;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(qo||(qo={}));var La;(function(t){t.Optimized="optimized"})(La||(La={}));const Ld=new Map;function Dg(t,l){let{dragging:i,dependencies:a,config:c}=l;const[d,h]=x.useState(null),{frequency:m,measure:g,strategy:y}=c,b=x.useRef(t),v=C(),j=Qo(v),E=x.useCallback(function(S){S===void 0&&(S=[]),!j.current&&h($=>$===null?S:$.concat(S.filter(T=>!$.includes(T))))},[j]),L=x.useRef(null),k=tl(S=>{if(v&&!i)return Ld;if(!S||S===Ld||b.current!==t||d!=null){const $=new Map;for(let T of t){if(!T)continue;if(d&&d.length>0&&!d.includes(T.id)&&T.rect.current){$.set(T.id,T.rect.current);continue}const R=T.node.current,P=R?new Ha(g(R),R):null;T.rect.current=P,P&&$.set(T.id,P)}return $}return S},[t,d,i,v,g]);return x.useEffect(()=>{b.current=t},[t]),x.useEffect(()=>{v||E()},[i,v]),x.useEffect(()=>{d&&d.length>0&&h(null)},[JSON.stringify(d)]),x.useEffect(()=>{v||typeof m!="number"||L.current!==null||(L.current=setTimeout(()=>{E(),L.current=null},m))},[m,v,E,...a]),{droppableRects:k,measureDroppableContainers:E,measuringScheduled:d!=null};function C(){switch(y){case qo.Always:return!1;case qo.BeforeDragging:return i;default:return!i}}}function Ua(t,l){return tl(i=>t?i||(typeof l=="function"?l(t):t):null,[l,t])}function Pg(t,l){return Ua(t,l)}function Mg(t){let{callback:l,disabled:i}=t;const a=Ai(l),c=x.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(a)},[a,i]);return x.useEffect(()=>()=>c?.disconnect(),[c]),c}function Bi(t){let{callback:l,disabled:i}=t;const a=Ai(l),c=x.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(a)},[i]);return x.useEffect(()=>()=>c?.disconnect(),[c]),c}function Og(t){return new Ha(so(t),t)}function Ad(t,l,i){l===void 0&&(l=Og);const[a,c]=x.useState(null);function d(){c(g=>{if(!t)return null;if(t.isConnected===!1){var y;return(y=g??i)!=null?y:null}const b=l(t);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const h=Mg({callback(g){if(t)for(const y of g){const{type:b,target:v}=y;if(b==="childList"&&v instanceof HTMLElement&&v.contains(t)){d();break}}}}),m=Bi({callback:d});return mn(()=>{d(),t?(m?.observe(t),h?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),h?.disconnect())},[t]),a}function zg(t){const l=Ua(t);return nf(t,l)}const Id=[];function Hg(t){const l=x.useRef(t),i=tl(a=>t?a&&a!==Id&&t&&l.current&&t.parentNode===l.current.parentNode?a:za(t):Id,[t]);return x.useEffect(()=>{l.current=t},[t]),i}function Fg(t){const[l,i]=x.useState(null),a=x.useRef(t),c=x.useCallback(d=>{const h=Ea(d.target);h&&i(m=>m?(m.set(h,$a(h)),new Map(m)):null)},[]);return x.useEffect(()=>{const d=a.current;if(t!==d){h(d);const m=t.map(g=>{const y=Ea(g);return y?(y.addEventListener("scroll",c,{passive:!0}),[y,$a(y)]):null}).filter(g=>g!=null);i(m.length?new Map(m):null),a.current=t}return()=>{h(t),h(d)};function h(m){m.forEach(g=>{const y=Ea(g);y?.removeEventListener("scroll",c)})}},[c,t]),x.useMemo(()=>t.length?l?Array.from(l.values()).reduce((d,h)=>ro(d,h),xn):uf(t):xn,[t,l])}function Bd(t,l){l===void 0&&(l=[]);const i=x.useRef(null);return x.useEffect(()=>{i.current=null},l),x.useEffect(()=>{const a=t!==xn;a&&!i.current&&(i.current=t),!a&&i.current&&(i.current=null)},[t]),i.current?Ei(t,i.current):xn}function Wg(t){x.useEffect(()=>{if(!Li)return;const l=t.map(i=>{let{sensor:a}=i;return a.setup==null?void 0:a.setup()});return()=>{for(const i of l)i?.()}},t.map(l=>{let{sensor:i}=l;return i}))}function Ug(t,l){return x.useMemo(()=>t.reduce((i,a)=>{let{eventName:c,handler:d}=a;return i[c]=h=>{d(h,l)},i},{}),[t,l])}function pf(t){return x.useMemo(()=>t?gg(t):null,[t])}const _d=[];function Vg(t,l){l===void 0&&(l=so);const[i]=t,a=pf(i?jt(i):null),[c,d]=x.useState(_d);function h(){d(()=>t.length?t.map(g=>af(g)?a:new Ha(l(g),g)):_d)}const m=Bi({callback:h});return mn(()=>{m?.disconnect(),h(),t.forEach(g=>m?.observe(g))},[t]),c}function gf(t){if(!t)return null;if(t.children.length>1)return t;const l=t.children[0];return el(l)?l:t}function Kg(t){let{measure:l}=t;const[i,a]=x.useState(null),c=x.useCallback(y=>{for(const{target:b}of y)if(el(b)){a(v=>{const j=l(b);return v?{...v,width:j.width,height:j.height}:j});break}},[l]),d=Bi({callback:c}),h=x.useCallback(y=>{const b=gf(y);d?.disconnect(),b&&d?.observe(b),a(b?l(b):null)},[l,d]),[m,g]=Si(h);return x.useMemo(()=>({nodeRef:m,rect:i,setRef:g}),[i,m,g])}const Gg=[{sensor:Wa,options:{}},{sensor:hf,options:{}}],Xg={current:{}},Ci={draggable:{measure:Nd},droppable:{measure:Nd,strategy:qo.WhileDragging,frequency:La.Optimized},dragOverlay:{measure:so}};class Yo extends Map{get(l){var i;return l!=null&&(i=super.get(l))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(l=>{let{disabled:i}=l;return!i})}getNodeFor(l){var i,a;return(i=(a=this.get(l))==null?void 0:a.node.current)!=null?i:void 0}}const Yg={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Yo,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ti},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Ci,measureDroppableContainers:Ti,windowRect:null,measuringScheduled:!1},mf={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ti,draggableNodes:new Map,over:null,measureDroppableContainers:Ti},rl=x.createContext(mf),xf=x.createContext(Yg);function Qg(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Yo}}}function qg(t,l){switch(l.type){case tt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:l.initialCoordinates,active:l.active}};case tt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:l.coordinates.x-t.draggable.initialCoordinates.x,y:l.coordinates.y-t.draggable.initialCoordinates.y}}};case tt.DragEnd:case tt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tt.RegisterDroppable:{const{element:i}=l,{id:a}=i,c=new Yo(t.droppable.containers);return c.set(a,i),{...t,droppable:{...t.droppable,containers:c}}}case tt.SetDroppableDisabled:{const{id:i,key:a,disabled:c}=l,d=t.droppable.containers.get(i);if(!d||a!==d.key)return t;const h=new Yo(t.droppable.containers);return h.set(i,{...d,disabled:c}),{...t,droppable:{...t.droppable,containers:h}}}case tt.UnregisterDroppable:{const{id:i,key:a}=l,c=t.droppable.containers.get(i);if(!c||a!==c.key)return t;const d=new Yo(t.droppable.containers);return d.delete(i),{...t,droppable:{...t.droppable,containers:d}}}default:return t}}function Jg(t){let{disabled:l}=t;const{active:i,activatorEvent:a,draggableNodes:c}=x.useContext(rl),d=ji(a),h=ji(i?.id);return x.useEffect(()=>{if(!l&&!a&&d&&h!=null){if(!Ii(d)||document.activeElement===d.target)return;const m=c.get(h);if(!m)return;const{activatorNode:g,node:y}=m;if(!g.current&&!y.current)return;requestAnimationFrame(()=>{for(const b of[g.current,y.current]){if(!b)continue;const v=Wp(b);if(v){v.focus();break}}})}},[a,l,c,h,d]),null}function yf(t,l){let{transform:i,...a}=l;return t!=null&&t.length?t.reduce((c,d)=>d({transform:c,...a}),i):i}function Zg(t){return x.useMemo(()=>({draggable:{...Ci.draggable,...t?.draggable},droppable:{...Ci.droppable,...t?.droppable},dragOverlay:{...Ci.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function em(t){let{activeNode:l,measure:i,initialRect:a,config:c=!0}=t;const d=x.useRef(!1),{x:h,y:m}=typeof c=="boolean"?{x:c,y:c}:c;mn(()=>{if(!h&&!m||!l){d.current=!1;return}if(d.current||!a)return;const y=l?.node.current;if(!y||y.isConnected===!1)return;const b=i(y),v=nf(b,a);if(h||(v.x=0),m||(v.y=0),d.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const j=of(y);j&&j.scrollBy({top:v.y,left:v.x})}},[l,h,m,a,i])}const _i=x.createContext({...xn,scaleX:1,scaleY:1});var ar;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(ar||(ar={}));const tm=x.memo(function(l){var i,a,c,d;let{id:h,accessibility:m,autoScroll:g=!0,children:y,sensors:b=Gg,collisionDetection:v=sg,measuring:j,modifiers:E,...L}=l;const k=x.useReducer(qg,void 0,Qg),[C,S]=k,[$,T]=Yp(),[R,P]=x.useState(ar.Uninitialized),z=R===ar.Initialized,{draggable:{active:H,nodes:W,translate:q},droppable:{containers:K}}=C,X=H!=null?W.get(H):null,M=x.useRef({initial:null,translated:null}),Z=x.useMemo(()=>{var Be;return H!=null?{id:H,data:(Be=X?.data)!=null?Be:Xg,rect:M}:null},[H,X]),ne=x.useRef(null),[ue,ke]=x.useState(null),[he,U]=x.useState(null),ee=Qo(L,Object.values(L)),V=nl("DndDescribedBy",h),I=x.useMemo(()=>K.getEnabled(),[K]),F=Zg(j),{droppableRects:oe,measureDroppableContainers:te,measuringScheduled:fe}=Dg(I,{dragging:z,dependencies:[q.x,q.y],config:F.droppable}),ae=Bg(W,H),Ce=x.useMemo(()=>he?Ni(he):null,[he]),xe=ln(),be=Pg(ae,F.draggable.measure);em({activeNode:H!=null?W.get(H):null,config:xe.layoutShiftCompensation,initialRect:be,measure:F.draggable.measure});const we=Ad(ae,F.draggable.measure,be),Et=Ad(ae?ae.parentElement:null),Ye=x.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:W,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),kt=K.getNodeFor((i=Ye.current.over)==null?void 0:i.id),Ee=Kg({measure:F.dragOverlay.measure}),gt=(a=Ee.nodeRef.current)!=null?a:ae,Xt=z?(c=Ee.rect)!=null?c:we:null,Ot=!!(Ee.nodeRef.current&&Ee.rect),yn=zg(Ot?null:we),En=pf(gt?jt(gt):null),mt=Hg(z?kt??ae:null),zt=Vg(mt),vn=yf(E,{transform:{x:q.x-yn.x,y:q.y-yn.y,scaleX:1,scaleY:1},activatorEvent:he,active:Z,activeNodeRect:we,containerNodeRect:Et,draggingNodeRect:Xt,over:Ye.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:mt,scrollableAncestorRects:zt,windowRect:En}),ur=Ce?ro(Ce,q):null,On=Fg(mt),$r=Bd(On),Rr=Bd(On,[we]),Yt=ro(vn,$r),Ht=Xt?fg(Xt,vn):null,bn=Z&&Ht?v({active:Z,collisionRect:Ht,droppableRects:oe,droppableContainers:I,pointerCoordinates:ur}):null,wn=og(bn,"id"),[ut,Lr]=x.useState(null),Ar=Ot?vn:ro(vn,Rr),zn=ug(Ar,(d=ut?.rect)!=null?d:null,we),dr=x.useRef(null),Hn=x.useCallback((Be,qe)=>{let{sensor:nt,options:Nt}=qe;if(ne.current==null)return;const dt=W.get(ne.current);if(!dt)return;const Je=Be.nativeEvent,ft=new nt({active:ne.current,activeNode:dt,event:Je,options:Nt,context:Ye,onAbort(Ae){if(!W.get(Ae))return;const{onDragAbort:_e}=ee.current,$t={id:Ae};_e?.($t),$({type:"onDragAbort",event:$t})},onPending(Ae,Tt,_e,$t){if(!W.get(Ae))return;const{onDragPending:Rt}=ee.current,xt={id:Ae,constraint:Tt,initialCoordinates:_e,offset:$t};Rt?.(xt),$({type:"onDragPending",event:xt})},onStart(Ae){const Tt=ne.current;if(Tt==null)return;const _e=W.get(Tt);if(!_e)return;const{onDragStart:$t}=ee.current,rt={activatorEvent:Je,active:{id:Tt,data:_e.data,rect:M}};cr.unstable_batchedUpdates(()=>{$t?.(rt),P(ar.Initializing),S({type:tt.DragStart,initialCoordinates:Ae,active:Tt}),$({type:"onDragStart",event:rt}),ke(dr.current),U(Je)})},onMove(Ae){S({type:tt.DragMove,coordinates:Ae})},onEnd:sn(tt.DragEnd),onCancel:sn(tt.DragCancel)});dr.current=ft;function sn(Ae){return async function(){const{active:_e,collisions:$t,over:rt,scrollAdjustedTranslate:Rt}=Ye.current;let xt=null;if(_e&&Rt){const{cancelDrop:an}=ee.current;xt={activatorEvent:Je,active:_e,collisions:$t,delta:Rt,over:rt},Ae===tt.DragEnd&&typeof an=="function"&&await Promise.resolve(an(xt))&&(Ae=tt.DragCancel)}ne.current=null,cr.unstable_batchedUpdates(()=>{S({type:Ae}),P(ar.Uninitialized),Lr(null),ke(null),U(null),dr.current=null;const an=Ae===tt.DragEnd?"onDragEnd":"onDragCancel";if(xt){const ot=ee.current[an];ot?.(xt),$({type:an,event:xt})}})}}},[W]),fr=x.useCallback((Be,qe)=>(nt,Nt)=>{const dt=nt.nativeEvent,Je=W.get(Nt);if(ne.current!==null||!Je||dt.dndKit||dt.defaultPrevented)return;const ft={active:Je};Be(nt,qe.options,ft)===!0&&(dt.dndKit={capturedBy:qe.sensor},ne.current=Nt,Hn(nt,qe))},[W,Hn]),Fn=_g(b,fr);Wg(b),mn(()=>{we&&R===ar.Initializing&&P(ar.Initialized)},[we,R]),x.useEffect(()=>{const{onDragMove:Be}=ee.current,{active:qe,activatorEvent:nt,collisions:Nt,over:dt}=Ye.current;if(!qe||!nt)return;const Je={active:qe,activatorEvent:nt,collisions:Nt,delta:{x:Yt.x,y:Yt.y},over:dt};cr.unstable_batchedUpdates(()=>{Be?.(Je),$({type:"onDragMove",event:Je})})},[Yt.x,Yt.y]),x.useEffect(()=>{const{active:Be,activatorEvent:qe,collisions:nt,droppableContainers:Nt,scrollAdjustedTranslate:dt}=Ye.current;if(!Be||ne.current==null||!qe||!dt)return;const{onDragOver:Je}=ee.current,ft=Nt.get(wn),sn=ft&&ft.rect.current?{id:ft.id,rect:ft.rect.current,data:ft.data,disabled:ft.disabled}:null,Ae={active:Be,activatorEvent:qe,collisions:nt,delta:{x:dt.x,y:dt.y},over:sn};cr.unstable_batchedUpdates(()=>{Lr(sn),Je?.(Ae),$({type:"onDragOver",event:Ae})})},[wn]),mn(()=>{Ye.current={activatorEvent:he,active:Z,activeNode:ae,collisionRect:Ht,collisions:bn,droppableRects:oe,draggableNodes:W,draggingNode:gt,draggingNodeRect:Xt,droppableContainers:K,over:ut,scrollableAncestors:mt,scrollAdjustedTranslate:Yt},M.current={initial:Xt,translated:Ht}},[Z,ae,bn,Ht,W,gt,Xt,oe,K,ut,mt,Yt]),Lg({...xe,delta:q,draggingRect:Ht,pointerCoordinates:ur,scrollableAncestors:mt,scrollableAncestorRects:zt});const hr=x.useMemo(()=>({active:Z,activeNode:ae,activeNodeRect:we,activatorEvent:he,collisions:bn,containerNodeRect:Et,dragOverlay:Ee,draggableNodes:W,droppableContainers:K,droppableRects:oe,over:ut,measureDroppableContainers:te,scrollableAncestors:mt,scrollableAncestorRects:zt,measuringConfiguration:F,measuringScheduled:fe,windowRect:En}),[Z,ae,we,he,bn,Et,Ee,W,K,oe,ut,te,mt,zt,F,fe,En]),pr=x.useMemo(()=>({activatorEvent:he,activators:Fn,active:Z,activeNodeRect:we,ariaDescribedById:{draggable:V},dispatch:S,draggableNodes:W,over:ut,measureDroppableContainers:te}),[he,Fn,Z,we,S,V,W,ut,te]);return Oe.createElement(Zd.Provider,{value:T},Oe.createElement(rl.Provider,{value:pr},Oe.createElement(xf.Provider,{value:hr},Oe.createElement(_i.Provider,{value:zn},y)),Oe.createElement(Jg,{disabled:m?.restoreFocus===!1})),Oe.createElement(Jp,{...m,hiddenTextDescribedById:V}));function ln(){const Be=ue?.autoScrollEnabled===!1,qe=typeof g=="object"?g.enabled===!1:g===!1,nt=z&&!Be&&!qe;return typeof g=="object"?{...g,enabled:nt}:{enabled:nt}}}),nm=x.createContext(null),Dd="button",rm="Draggable";function vf(t){let{id:l,data:i,disabled:a=!1,attributes:c}=t;const d=nl(rm),{activators:h,activatorEvent:m,active:g,activeNodeRect:y,ariaDescribedById:b,draggableNodes:v,over:j}=x.useContext(rl),{role:E=Dd,roleDescription:L="draggable",tabIndex:k=0}=c??{},C=g?.id===l,S=x.useContext(C?_i:nm),[$,T]=Si(),[R,P]=Si(),z=Ug(h,l),H=Qo(i);mn(()=>(v.set(l,{id:l,key:d,node:$,activatorNode:R,data:H}),()=>{const q=v.get(l);q&&q.key===d&&v.delete(l)}),[v,l]);const W=x.useMemo(()=>({role:E,tabIndex:k,"aria-disabled":a,"aria-pressed":C&&E===Dd?!0:void 0,"aria-roledescription":L,"aria-describedby":b.draggable}),[a,E,k,C,L,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:y,attributes:W,isDragging:C,listeners:a?void 0:z,node:$,over:j,setNodeRef:T,setActivatorNodeRef:P,transform:S}}function bf(){return x.useContext(xf)}const om="Droppable",lm={timeout:25};function Di(t){let{data:l,disabled:i=!1,id:a,resizeObserverConfig:c}=t;const d=nl(om),{active:h,dispatch:m,over:g,measureDroppableContainers:y}=x.useContext(rl),b=x.useRef({disabled:i}),v=x.useRef(!1),j=x.useRef(null),E=x.useRef(null),{disabled:L,updateMeasurementsFor:k,timeout:C}={...lm,...c},S=Qo(k??a),$=x.useCallback(()=>{if(!v.current){v.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{y(Array.isArray(S.current)?S.current:[S.current]),E.current=null},C)},[C]),T=Bi({callback:$,disabled:L||!h}),R=x.useCallback((W,q)=>{T&&(q&&(T.unobserve(q),v.current=!1),W&&T.observe(W))},[T]),[P,z]=Si(R),H=Qo(l);return x.useEffect(()=>{!T||!P.current||(T.disconnect(),v.current=!1,T.observe(P.current))},[P,T]),x.useEffect(()=>(m({type:tt.RegisterDroppable,element:{id:a,key:d,disabled:i,node:P,rect:j,data:H}}),()=>m({type:tt.UnregisterDroppable,key:d,id:a})),[a]),x.useEffect(()=>{i!==b.current.disabled&&(m({type:tt.SetDroppableDisabled,id:a,key:d,disabled:i}),b.current.disabled=i)},[a,d,i,m]),{active:h,rect:j,isOver:g?.id===a,node:P,over:g,setNodeRef:z}}function im(t){let{animation:l,children:i}=t;const[a,c]=x.useState(null),[d,h]=x.useState(null),m=ji(i);return!i&&!a&&m&&c(m),mn(()=>{if(!d)return;const g=a?.key,y=a?.props.id;if(g==null||y==null){c(null);return}Promise.resolve(l(y,d)).then(()=>{c(null)})},[l,a,d]),Oe.createElement(Oe.Fragment,null,i,a?x.cloneElement(a,{ref:h}):null)}const sm={x:0,y:0,scaleX:1,scaleY:1};function am(t){let{children:l}=t;return Oe.createElement(rl.Provider,{value:mf},Oe.createElement(_i.Provider,{value:sm},l))}const cm={position:"fixed",touchAction:"none"},um=t=>Ii(t)?"transform 250ms ease":void 0,dm=x.forwardRef((t,l)=>{let{as:i,activatorEvent:a,adjustScale:c,children:d,className:h,rect:m,style:g,transform:y,transition:b=um}=t;if(!m)return null;const v=c?y:{...y,scaleX:1,scaleY:1},j={...cm,width:m.width,height:m.height,top:m.top,left:m.left,transform:Mn.Transform.toString(v),transformOrigin:c&&a?tg(a,m):void 0,transition:typeof b=="function"?b(a):b,...g};return Oe.createElement(i,{className:h,style:j,ref:l},d)}),fm=t=>l=>{let{active:i,dragOverlay:a}=l;const c={},{styles:d,className:h}=t;if(d!=null&&d.active)for(const[m,g]of Object.entries(d.active))g!==void 0&&(c[m]=i.node.style.getPropertyValue(m),i.node.style.setProperty(m,g));if(d!=null&&d.dragOverlay)for(const[m,g]of Object.entries(d.dragOverlay))g!==void 0&&a.node.style.setProperty(m,g);return h!=null&&h.active&&i.node.classList.add(h.active),h!=null&&h.dragOverlay&&a.node.classList.add(h.dragOverlay),function(){for(const[g,y]of Object.entries(c))i.node.style.setProperty(g,y);h!=null&&h.active&&i.node.classList.remove(h.active)}},hm=t=>{let{transform:{initial:l,final:i}}=t;return[{transform:Mn.Transform.toString(l)},{transform:Mn.Transform.toString(i)}]},pm={duration:250,easing:"ease",keyframes:hm,sideEffects:fm({styles:{active:{opacity:"0"}}})};function gm(t){let{config:l,draggableNodes:i,droppableContainers:a,measuringConfiguration:c}=t;return Ai((d,h)=>{if(l===null)return;const m=i.get(d);if(!m)return;const g=m.node.current;if(!g)return;const y=gf(h);if(!y)return;const{transform:b}=jt(h).getComputedStyle(h),v=rf(b);if(!v)return;const j=typeof l=="function"?l:mm(l);return df(g,c.draggable.measure),j({active:{id:d,data:m.data,node:g,rect:c.draggable.measure(g)},draggableNodes:i,dragOverlay:{node:h,rect:c.dragOverlay.measure(y)},droppableContainers:a,measuringConfiguration:c,transform:v})})}function mm(t){const{duration:l,easing:i,sideEffects:a,keyframes:c}={...pm,...t};return d=>{let{active:h,dragOverlay:m,transform:g,...y}=d;if(!l)return;const b={x:m.rect.left-h.rect.left,y:m.rect.top-h.rect.top},v={scaleX:g.scaleX!==1?h.rect.width*g.scaleX/m.rect.width:1,scaleY:g.scaleY!==1?h.rect.height*g.scaleY/m.rect.height:1},j={x:g.x-b.x,y:g.y-b.y,...v},E=c({...y,active:h,dragOverlay:m,transform:{initial:g,final:j}}),[L]=E,k=E[E.length-1];if(JSON.stringify(L)===JSON.stringify(k))return;const C=a?.({active:h,dragOverlay:m,...y}),S=m.node.animate(E,{duration:l,easing:i,fill:"forwards"});return new Promise($=>{S.onfinish=()=>{C?.(),$()}})}}let Pd=0;function xm(t){return x.useMemo(()=>{if(t!=null)return Pd++,Pd},[t])}const ym=Oe.memo(t=>{let{adjustScale:l=!1,children:i,dropAnimation:a,style:c,transition:d,modifiers:h,wrapperElement:m="div",className:g,zIndex:y=999}=t;const{activatorEvent:b,active:v,activeNodeRect:j,containerNodeRect:E,draggableNodes:L,droppableContainers:k,dragOverlay:C,over:S,measuringConfiguration:$,scrollableAncestors:T,scrollableAncestorRects:R,windowRect:P}=bf(),z=x.useContext(_i),H=xm(v?.id),W=yf(h,{activatorEvent:b,active:v,activeNodeRect:j,containerNodeRect:E,draggingNodeRect:C.rect,over:S,overlayNodeRect:C.rect,scrollableAncestors:T,scrollableAncestorRects:R,transform:z,windowRect:P}),q=Ua(j),K=gm({config:a,draggableNodes:L,droppableContainers:k,measuringConfiguration:$}),X=q?C.setRef:void 0;return Oe.createElement(am,null,Oe.createElement(im,{animation:K},v&&H?Oe.createElement(dm,{key:H,id:v.id,ref:X,as:m,activatorEvent:b,adjustScale:l,className:g,transition:d,rect:q,style:{zIndex:y,...c},transform:W},i):null))});class vm{constructor(){this.filters=new Map,this.actions=new Map,this.debug=!1}setDebug(l){this.debug=l}_log(l,i,...a){this.debug&&console.log(`[LaraHooks] ${l}: ${i}`,...a)}addFilter(l,i,a=10){return typeof i!="function"?(console.error(`[LaraHooks] addFilter: callback must be a function for hook "${l}"`),this):(this.filters.has(l)||this.filters.set(l,[]),this.filters.get(l).push({callback:i,priority:a}),this.filters.get(l).sort((c,d)=>c.priority-d.priority),this._log("Filter added",l,{priority:a}),this)}applyFilters(l,i,...a){const c=this.filters.get(l);return!c||c.length===0?i:(this._log("Applying filters",l,{hookCount:c.length}),c.reduce((d,{callback:h})=>{try{const m=h(d,...a);return m!==void 0?m:d}catch(m){return console.error(`[LaraHooks] Error in filter "${l}":`,m),d}},i))}addAction(l,i,a=10){return typeof i!="function"?(console.error(`[LaraHooks] addAction: callback must be a function for hook "${l}"`),this):(this.actions.has(l)||this.actions.set(l,[]),this.actions.get(l).push({callback:i,priority:a}),this.actions.get(l).sort((c,d)=>c.priority-d.priority),this._log("Action added",l,{priority:a}),this)}doAction(l,...i){const a=this.actions.get(l);!a||a.length===0||(this._log("Executing action",l,{hookCount:a.length}),a.forEach(({callback:c})=>{try{c(...i)}catch(d){console.error(`[LaraHooks] Error in action "${l}":`,d)}}))}removeFilter(l,i){const a=this.filters.get(l);if(a){const c=a.findIndex(d=>d.callback===i);c>-1&&(a.splice(c,1),this._log("Filter removed",l))}return this}removeAction(l,i){const a=this.actions.get(l);if(a){const c=a.findIndex(d=>d.callback===i);c>-1&&(a.splice(c,1),this._log("Action removed",l))}return this}removeAllFilters(l){return this.filters.delete(l),this._log("All filters removed",l),this}removeAllActions(l){return this.actions.delete(l),this._log("All actions removed",l),this}hasHook(l,i="filter"){const c=(i==="filter"?this.filters:this.actions).get(l);return c&&c.length>0}getHookCount(l,i="filter"){const c=(i==="filter"?this.filters:this.actions).get(l);return c?c.length:0}getRegisteredHooks(l="all"){const i=[];return(l==="all"||l==="filter")&&i.push(...Array.from(this.filters.keys()).map(a=>`filter:${a}`)),(l==="all"||l==="action")&&i.push(...Array.from(this.actions.keys()).map(a=>`action:${a}`)),i}reset(){this.filters.clear(),this.actions.clear(),this._log("System reset","all hooks cleared")}}const de=new vm;typeof window<"u"&&(window.LaraHooks=de);const ye={FILTER_CONFIG:"builder.config",FILTER_CONFIG_EMAIL:"builder.config.email",FILTER_CONFIG_PAGE:"builder.config.page",FILTER_CONFIG_CAMPAIGN:"builder.config.campaign",FILTER_BLOCKS:"builder.blocks",FILTER_BLOCKS_EMAIL:"builder.blocks.email",FILTER_BLOCKS_PAGE:"builder.blocks.page",FILTER_BLOCKS_CAMPAIGN:"builder.blocks.campaign",FILTER_BLOCK_CATEGORIES:"builder.blocks.categories",FILTER_BLOCK_PROPS:"builder.block.props",FILTER_BLOCK_RENDER:"builder.block.render",FILTER_BLOCK_COMPONENT:"builder.block.component",FILTER_HTML_GENERATED:"builder.html.generated",FILTER_HTML_BLOCK:"builder.html.block",FILTER_HTML_WRAPPER:"builder.html.wrapper",FILTER_PROPERTY_FIELDS:"builder.properties.fields",FILTER_PROPERTY_FIELD:"builder.properties.field",FILTER_CANVAS_SETTINGS:"builder.canvas.settings",FILTER_CANVAS_DEFAULT_SETTINGS:"builder.canvas.defaultSettings",FILTER_HEADER:"builder.ui.header",FILTER_LEFT_PANEL:"builder.ui.panel.left",FILTER_RIGHT_PANEL:"builder.ui.panel.right",FILTER_TOOLBAR:"builder.ui.toolbar",FILTER_BLOCK_TOOLBAR:"builder.ui.blockToolbar",FILTER_MORE_TEXT_CONTROLS:"builder.ui.moreTextControls",FILTER_INITIAL_STATE:"builder.state.initial",FILTER_STATE_BEFORE_SAVE:"builder.state.beforeSave",FILTER_STATE_AFTER_LOAD:"builder.state.afterLoad",FILTER_SAVE_DATA:"builder.data.save",FILTER_LOAD_DATA:"builder.data.load",ACTION_INIT:"builder.init",ACTION_READY:"builder.ready",ACTION_DESTROY:"builder.destroy",ACTION_BEFORE_SAVE:"builder.save.before",ACTION_AFTER_SAVE:"builder.save.after",ACTION_SAVE_ERROR:"builder.save.error",ACTION_BLOCK_REGISTERED:"builder.block.registered",ACTION_BLOCK_UNREGISTERED:"builder.block.unregistered",ACTION_BLOCK_ADDED:"builder.block.added",ACTION_BLOCK_REMOVED:"builder.block.removed",ACTION_BLOCK_UPDATED:"builder.block.updated",ACTION_BLOCK_MOVED:"builder.block.moved",ACTION_BLOCK_DUPLICATED:"builder.block.duplicated",ACTION_BLOCK_SELECTED:"builder.block.selected",ACTION_BLOCK_DESELECTED:"builder.block.deselected",ACTION_UNDO:"builder.history.undo",ACTION_REDO:"builder.history.redo",ACTION_HISTORY_CHANGED:"builder.history.changed",ACTION_CANVAS_SETTINGS_CHANGED:"builder.canvas.settingsChanged",ACTION_HTML_BEFORE_GENERATE:"builder.html.beforeGenerate",ACTION_HTML_AFTER_GENERATE:"builder.html.afterGenerate",ACTION_DRAG_START:"builder.dnd.dragStart",ACTION_DRAG_END:"builder.dnd.dragEnd",ACTION_DROP:"builder.dnd.drop",ACTION_IMAGE_UPLOADED:"builder.media.imageUploaded",ACTION_VIDEO_UPLOADED:"builder.media.videoUploaded",ACTION_KEYBOARD_SHORTCUT:"builder.keyboard.shortcut"};function Aa(t,l){return`${t}.${l}`}const Md=50,me={SET_BLOCKS:"SET_BLOCKS",ADD_BLOCK:"ADD_BLOCK",UPDATE_BLOCK:"UPDATE_BLOCK",DELETE_BLOCK:"DELETE_BLOCK",MOVE_BLOCK:"MOVE_BLOCK",DUPLICATE_BLOCK:"DUPLICATE_BLOCK",ADD_NESTED_BLOCK:"ADD_NESTED_BLOCK",UPDATE_NESTED_BLOCK:"UPDATE_NESTED_BLOCK",DELETE_NESTED_BLOCK:"DELETE_NESTED_BLOCK",MOVE_NESTED_BLOCK:"MOVE_NESTED_BLOCK",SELECT_BLOCK:"SELECT_BLOCK",DESELECT_ALL:"DESELECT_ALL",UPDATE_CANVAS_SETTINGS:"UPDATE_CANVAS_SETTINGS",UNDO:"UNDO",REDO:"REDO",CLEAR_HISTORY:"CLEAR_HISTORY",SET_DIRTY:"SET_DIRTY",MARK_SAVED:"MARK_SAVED",RESET_STATE:"RESET_STATE",LOAD_STATE:"LOAD_STATE"},wf={blocks:[],selectedBlockId:null,canvasSettings:{},past:[],future:[],isDirty:!1,context:"email",config:{}};function Nr(t){return JSON.parse(JSON.stringify(t))}function Ko(){return`block-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function kf(){return{id:Ko(),type:"text",props:{content:"",align:"left",color:"#666666",fontSize:"16px",lineHeight:"1.6"}}}function Cf(t,l){for(const i of t){if(i.id===l)return i;if(i.props?.children)for(const a of i.props.children){const c=Cf(a,l);if(c)return c}}return null}function Ia(t,l,i){return t.map(a=>a.id===l?{...a,props:{...a.props,...i}}:a.props?.children?{...a,props:{...a.props,children:a.props.children.map(c=>Ia(c,l,i))}}:a)}function Sf(t,l){return t.filter(i=>i.id!==l).map(i=>i.props?.children?{...i,props:{...i.props,children:i.props.children.map(a=>Sf(a,l))}}:i)}function Od(t,l,i){const a=[...t];return a.splice(i,0,l),a}function bm(t,l,i){const a=[...t],[c]=a.splice(l,1);return a.splice(i,0,c),a}function wm(t,l){const i=[...t,{blocks:Nr(l.blocks),canvasSettings:Nr(l.canvasSettings),selectedBlockId:l.selectedBlockId}];return i.length>Md?i.slice(-Md):i}function km(t){return[me.SET_BLOCKS,me.ADD_BLOCK,me.UPDATE_BLOCK,me.DELETE_BLOCK,me.MOVE_BLOCK,me.DUPLICATE_BLOCK,me.ADD_NESTED_BLOCK,me.UPDATE_NESTED_BLOCK,me.DELETE_NESTED_BLOCK,me.MOVE_NESTED_BLOCK,me.UPDATE_CANVAS_SETTINGS].includes(t.type)}function Cm(t,l){l=de.applyFilters("builder.action.before",l,t);let i=t;const c=km(l)?wm(t.past,t):t.past;switch(l.type){case me.SET_BLOCKS:i={...t,blocks:l.payload,past:c,future:[],isDirty:!0};break;case me.ADD_BLOCK:{const{block:d,index:h=t.blocks.length}=l.payload,m={...d,id:d.id||Ko()};i={...t,blocks:Od(t.blocks,m,h),selectedBlockId:m.id,past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_BLOCK_ADDED,m,t.context);break}case me.UPDATE_BLOCK:{const{id:d,props:h}=l.payload;i={...t,blocks:Ia(t.blocks,d,h),past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_BLOCK_UPDATED,d,h,t.context);break}case me.DELETE_BLOCK:{const{id:d}=l.payload;let h=Sf(t.blocks,d),m=t.selectedBlockId;if(h.length===0){const g=kf();h=[g],m=g.id}else if(t.selectedBlockId===d){const g=t.blocks.findIndex(y=>y.id===d);g!==-1?g>0?m=t.blocks[g-1].id:t.blocks.length>1?m=t.blocks[g+1].id:m=h[0]?.id||null:m=h[0]?.id||null}i={...t,blocks:h,selectedBlockId:m,past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_BLOCK_REMOVED,d,t.context);break}case me.MOVE_BLOCK:{const{fromIndex:d,toIndex:h}=l.payload;i={...t,blocks:bm(t.blocks,d,h),past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_BLOCK_MOVED,d,h,t.context);break}case me.DUPLICATE_BLOCK:{const{id:d}=l.payload,h=Cf(t.blocks,d);if(h){const m=Nr(h);m.id=Ko(),m.props?.children&&(m.props.children=m.props.children.map(y=>y.map(b=>({...b,id:Ko()}))));const g=t.blocks.findIndex(y=>y.id===d);i={...t,blocks:Od(t.blocks,m,g+1),selectedBlockId:m.id,past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_BLOCK_DUPLICATED,m,t.context)}break}case me.ADD_NESTED_BLOCK:{const{parentId:d,columnIndex:h,block:m,index:g}=l.payload,y={...m,id:m.id||Ko()},b=t.blocks.map(v=>{if(v.id===d&&v.props?.children){const j=[...v.props.children],E=[...j[h]];return E.splice(g??E.length,0,y),j[h]=E,{...v,props:{...v.props,children:j}}}return v});i={...t,blocks:b,selectedBlockId:y.id,past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_BLOCK_ADDED,y,t.context);break}case me.UPDATE_NESTED_BLOCK:{const{id:d,props:h}=l.payload;i={...t,blocks:Ia(t.blocks,d,h),past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_BLOCK_UPDATED,d,h,t.context);break}case me.DELETE_NESTED_BLOCK:{const{parentId:d,columnIndex:h,blockId:m}=l.payload;let g=t.selectedBlockId;if(t.selectedBlockId===m){const b=t.blocks.find(v=>v.id===d);if(b?.props?.children?.[h]){const v=b.props.children[h],j=v.findIndex(E=>E.id===m);j!==-1?j>0?g=v[j-1].id:v.length>1?g=v[j+1].id:g=d:g=d}else g=null}const y=t.blocks.map(b=>{if(b.id===d&&b.props?.children){const v=[...b.props.children];return v[h]=v[h].filter(j=>j.id!==m),{...b,props:{...b.props,children:v}}}return b});i={...t,blocks:y,selectedBlockId:g,past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_BLOCK_REMOVED,m,t.context);break}case me.MOVE_NESTED_BLOCK:{const{parentId:d,fromColumn:h,fromIndex:m,toColumn:g,toIndex:y}=l.payload,b=t.blocks.map(v=>{if(v.id===d&&v.props?.children){const j=v.props.children.map(L=>[...L]),[E]=j[h].splice(m,1);return j[g].splice(y,0,E),{...v,props:{...v.props,children:j}}}return v});i={...t,blocks:b,past:c,future:[],isDirty:!0};break}case me.SELECT_BLOCK:i={...t,selectedBlockId:l.payload},de.doAction(ye.ACTION_BLOCK_SELECTED,l.payload,t.context);break;case me.DESELECT_ALL:t.selectedBlockId&&de.doAction(ye.ACTION_BLOCK_DESELECTED,t.selectedBlockId,t.context),i={...t,selectedBlockId:null};break;case me.UPDATE_CANVAS_SETTINGS:i={...t,canvasSettings:{...t.canvasSettings,...l.payload},past:c,future:[],isDirty:!0},de.doAction(ye.ACTION_CANVAS_SETTINGS_CHANGED,i.canvasSettings,t.context);break;case me.UNDO:{if(t.past.length===0)break;const d=t.past[t.past.length-1],h=t.past.slice(0,-1);i={...t,blocks:d.blocks,canvasSettings:d.canvasSettings,selectedBlockId:d.selectedBlockId,past:h,future:[{blocks:Nr(t.blocks),canvasSettings:Nr(t.canvasSettings),selectedBlockId:t.selectedBlockId},...t.future],isDirty:!0},de.doAction(ye.ACTION_UNDO,i,t.context),de.doAction(ye.ACTION_HISTORY_CHANGED,i.past.length,i.future.length);break}case me.REDO:{if(t.future.length===0)break;const d=t.future[0],h=t.future.slice(1);i={...t,blocks:d.blocks,canvasSettings:d.canvasSettings,selectedBlockId:d.selectedBlockId,past:[...t.past,{blocks:Nr(t.blocks),canvasSettings:Nr(t.canvasSettings),selectedBlockId:t.selectedBlockId}],future:h,isDirty:!0},de.doAction(ye.ACTION_REDO,i,t.context),de.doAction(ye.ACTION_HISTORY_CHANGED,i.past.length,i.future.length);break}case me.CLEAR_HISTORY:i={...t,past:[],future:[]};break;case me.SET_DIRTY:i={...t,isDirty:l.payload};break;case me.MARK_SAVED:i={...t,isDirty:!1};break;case me.RESET_STATE:i={...wf,context:t.context,config:t.config};break;case me.LOAD_STATE:{const{blocks:d,canvasSettings:h}=l.payload;i={...t,blocks:d||[],canvasSettings:h||{},past:[],future:[],isDirty:!1,selectedBlockId:null},i=de.applyFilters(ye.FILTER_STATE_AFTER_LOAD,i,t.context);break}}return i=de.applyFilters("builder.state.after",i,l),i}const Ve={setBlocks:t=>({type:me.SET_BLOCKS,payload:t}),addBlock:(t,l)=>({type:me.ADD_BLOCK,payload:{block:t,index:l}}),updateBlock:(t,l)=>({type:me.UPDATE_BLOCK,payload:{id:t,props:l}}),deleteBlock:t=>({type:me.DELETE_BLOCK,payload:{id:t}}),moveBlock:(t,l)=>({type:me.MOVE_BLOCK,payload:{fromIndex:t,toIndex:l}}),duplicateBlock:t=>({type:me.DUPLICATE_BLOCK,payload:{id:t}}),addNestedBlock:(t,l,i,a)=>({type:me.ADD_NESTED_BLOCK,payload:{parentId:t,columnIndex:l,block:i,index:a}}),updateNestedBlock:(t,l)=>({type:me.UPDATE_NESTED_BLOCK,payload:{id:t,props:l}}),deleteNestedBlock:(t,l,i)=>({type:me.DELETE_NESTED_BLOCK,payload:{parentId:t,columnIndex:l,blockId:i}}),moveNestedBlock:(t,l,i,a,c)=>({type:me.MOVE_NESTED_BLOCK,payload:{parentId:t,fromColumn:l,fromIndex:i,toColumn:a,toIndex:c}}),selectBlock:t=>({type:me.SELECT_BLOCK,payload:t}),deselectAll:()=>({type:me.DESELECT_ALL}),updateCanvasSettings:t=>({type:me.UPDATE_CANVAS_SETTINGS,payload:t}),undo:()=>({type:me.UNDO}),redo:()=>({type:me.REDO}),clearHistory:()=>({type:me.CLEAR_HISTORY}),setDirty:t=>({type:me.SET_DIRTY,payload:t}),markSaved:()=>({type:me.MARK_SAVED}),resetState:()=>({type:me.RESET_STATE}),loadState:(t,l)=>({type:me.LOAD_STATE,payload:{blocks:t,canvasSettings:l}})};class Sm{constructor(){this.adapters=new Map,this.defaultAdapter=null}register(l,i){return i?(this.adapters.set(l,i),this.defaultAdapter||(this.defaultAdapter=l),this):(console.error(`[OutputAdapterRegistry] Adapter is required for context: ${l}`),this)}get(l){return this.adapters.has(l)?this.adapters.get(l):this.defaultAdapter?this.adapters.get(this.defaultAdapter):null}has(l){return this.adapters.has(l)}getContexts(){return Array.from(this.adapters.keys())}setDefault(l){return this.adapters.has(l)?this.defaultAdapter=l:console.warn(`[OutputAdapterRegistry] Context not found: ${l}`),this}generateHtml(l,i,a={}){const c=this.get(l);if(!c)return console.error(`[OutputAdapterRegistry] No adapter found for context: ${l}`),"";de.doAction(ye.ACTION_HTML_BEFORE_GENERATE,i,a,l);let d=c.generateHtml(i,a);return d=de.applyFilters(ye.FILTER_HTML_GENERATED,d,i,a,l),de.doAction(ye.ACTION_HTML_AFTER_GENERATE,d,i,a,l),d}getDefaultSettings(l){const i=this.get(l);if(!i)return{};let a=i.getDefaultSettings();return a=de.applyFilters(ye.FILTER_CANVAS_DEFAULT_SETTINGS,a,l),a}unregister(l){return this.adapters.delete(l),this.defaultAdapter===l&&(this.defaultAdapter=this.adapters.keys().next().value||null),this}reset(){this.adapters.clear(),this.defaultAdapter=null}}const oo=new Sm;typeof window<"u"&&(window.LaraBuilderOutputAdapterRegistry=oo);const jf=x.createContext(null);function jm({children:t,context:l="post",config:i={},initialData:a=null,onStateChange:c=null}){const d=x.useMemo(()=>oo.getDefaultSettings(l),[l]),h=x.useMemo(()=>{const T=a?.blocks?.length>0?a.blocks:[kf()],R=T[0]?.id||null;let P={...wf,context:l,config:i,canvasSettings:{...d,...a?.canvasSettings},blocks:T,selectedBlockId:R};return P=de.applyFilters(ye.FILTER_INITIAL_STATE,P,l),P},[l,i,a,d]),[m,g]=x.useReducer(Cm,h);x.useEffect(()=>{c&&c(m)},[m,c]),x.useEffect(()=>(de.doAction(ye.ACTION_INIT,m,l),()=>{de.doAction(ye.ACTION_DESTROY,m,l)}),[l]);const y=x.useMemo(()=>({setBlocks:T=>g(Ve.setBlocks(T)),addBlock:(T,R)=>g(Ve.addBlock(T,R)),updateBlock:(T,R)=>g(Ve.updateBlock(T,R)),deleteBlock:T=>g(Ve.deleteBlock(T)),moveBlock:(T,R)=>g(Ve.moveBlock(T,R)),duplicateBlock:T=>g(Ve.duplicateBlock(T)),addNestedBlock:(T,R,P,z)=>g(Ve.addNestedBlock(T,R,P,z)),updateNestedBlock:(T,R)=>g(Ve.updateNestedBlock(T,R)),deleteNestedBlock:(T,R,P)=>g(Ve.deleteNestedBlock(T,R,P)),moveNestedBlock:(T,R,P,z,H)=>g(Ve.moveNestedBlock(T,R,P,z,H)),selectBlock:T=>g(Ve.selectBlock(T)),deselectAll:()=>g(Ve.deselectAll()),updateCanvasSettings:T=>g(Ve.updateCanvasSettings(T)),undo:()=>g(Ve.undo()),redo:()=>g(Ve.redo()),clearHistory:()=>g(Ve.clearHistory()),setDirty:T=>g(Ve.setDirty(T)),markSaved:()=>g(Ve.markSaved()),resetState:()=>g(Ve.resetState()),loadState:(T,R)=>g(Ve.loadState(T,R))}),[g]),b=m.past.length>0,v=m.future.length>0,j=x.useCallback(()=>{b&&g(Ve.undo())},[b]),E=x.useCallback(()=>{v&&g(Ve.redo())},[v]),L=x.useCallback(()=>oo.generateHtml(l,m.blocks,m.canvasSettings),[l,m.blocks,m.canvasSettings]),k=x.useCallback(()=>{if(!m.selectedBlockId)return null;for(const T of m.blocks){if(T.id===m.selectedBlockId)return T;if(T.props?.children)for(const R of T.props.children){const P=R.find(z=>z.id===m.selectedBlockId);if(P)return P}}return null},[m.blocks,m.selectedBlockId]),C=x.useCallback(T=>{const R=P=>{for(const z of P){if(z.id===T)return z;if(z.props?.children)for(const H of z.props.children){const W=R(H);if(W)return W}}return null};return R(m.blocks)},[m.blocks]),S=x.useCallback(()=>{let T={blocks:m.blocks,canvasSettings:m.canvasSettings,version:1};return T=de.applyFilters(ye.FILTER_STATE_BEFORE_SAVE,T,l),T},[m.blocks,m.canvasSettings,l]),$=x.useMemo(()=>({state:m,dispatch:g,actions:y,canUndo:b,canRedo:v,undo:j,redo:E,historyLength:m.past.length,futureLength:m.future.length,getHtml:L,getSelectedBlock:k,findBlockById:C,getSaveData:S,context:l,config:i}),[m,g,y,b,v,j,E,L,k,C,S,l,i]);return o.jsx(jf.Provider,{value:$,children:t})}function Pi(){const t=x.useContext(jf);if(!t)throw new Error("useBuilder must be used within a BuilderProvider");return t}function Em(t={}){const{enableKeyboardShortcuts:l=!0,preventDefault:i=!0}=t,{canUndo:a,canRedo:c,undo:d,redo:h,historyLength:m,futureLength:g,state:y}=Pi(),b=x.useCallback(v=>{if(v.metaKey||v.ctrlKey){if(v.key==="z"&&!v.shiftKey){a&&(i&&v.preventDefault(),d(),de.doAction(ye.ACTION_KEYBOARD_SHORTCUT,"undo",v));return}if(v.key==="z"&&v.shiftKey){c&&(i&&v.preventDefault(),h(),de.doAction(ye.ACTION_KEYBOARD_SHORTCUT,"redo",v));return}if(v.key==="y"){c&&(i&&v.preventDefault(),h(),de.doAction(ye.ACTION_KEYBOARD_SHORTCUT,"redo",v));return}}},[a,c,d,h,i]);return x.useEffect(()=>{if(l)return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[l,b]),{canUndo:a,canRedo:c,historyLength:m,futureLength:g,undo:d,redo:h,isAtStart:m===0,isAtEnd:g===0,totalHistory:m+g}}class Nm{constructor(){this.blocks=new Map,this.categories=new Map,this.components=new Map,this.initialized=!1}register(l){if(!l.type)return console.error("[BlockRegistry] Block type is required"),this;if(!l.label)return console.error(`[BlockRegistry] Block label is required for type: ${l.type}`),this;const i={type:l.type,label:l.label,category:l.category||"Content",icon:l.icon||"lucide:box",contexts:l.contexts||["*"],defaultProps:l.defaultProps||{},block:l.block||null,editor:l.editor||null,fields:l.fields||[],save:l.save||{},validate:l.validate||(()=>!0),transform:l.transform||null,description:l.description||"",keywords:l.keywords||[],supports:{align:!0,spacing:!0,colors:!0,nesting:!1,html:!0,duplicate:!0,remove:!0,...l.supports}};this.blocks.set(l.type,i),this.categories.has(i.category)||this.categories.set(i.category,[]);const a=this.categories.get(i.category),c=a.findIndex(d=>d.type===i.type);return c>-1?a[c]=i:a.push(i),i.block&&this.components.set(l.type,i.block),de.doAction(ye.ACTION_BLOCK_REGISTERED,i),this}registerMany(l){return l.forEach(i=>this.register(i)),this}unregister(l){const i=this.blocks.get(l);if(i){this.blocks.delete(l),this.components.delete(l);const a=this.categories.get(i.category);if(a){const c=a.findIndex(d=>d.type===l);c>-1&&a.splice(c,1)}de.doAction(ye.ACTION_BLOCK_UNREGISTERED,l)}return this}get(l){return this.blocks.get(l)}has(l){return this.blocks.has(l)}getAll(){return Array.from(this.blocks.values())}getBlocksForContext(l){let i=Array.from(this.blocks.values()).filter(a=>a.contexts.includes("*")||a.contexts.includes(l));return i=de.applyFilters(`${ye.FILTER_BLOCKS}.${l}`,i,l),i=de.applyFilters(ye.FILTER_BLOCKS,i,l),i}getByCategory(l=null){const i=l?this.getBlocksForContext(l):this.getAll(),a={};return i.forEach(c=>{a[c.category]||(a[c.category]=[]),a[c.category].push(c)}),de.applyFilters(ye.FILTER_BLOCK_CATEGORIES,a,l)}getCategories(){return Array.from(this.categories.keys())}getComponent(l){return this.components.get(l)||null}setComponent(l,i){this.components.set(l,i);const a=this.blocks.get(l);a&&(a.block=i)}search(l,i=null){const a=l.toLowerCase();return(i?this.getBlocksForContext(i):this.getAll()).filter(d=>!!(d.label.toLowerCase().includes(a)||d.type.toLowerCase().includes(a)||d.category.toLowerCase().includes(a)||d.keywords.some(h=>h.toLowerCase().includes(a))||d.description.toLowerCase().includes(a)))}createInstance(l,i={}){const a=this.blocks.get(l);return a?{id:this._generateId(),type:a.type,props:{...JSON.parse(JSON.stringify(a.defaultProps)),...i}}:(console.error(`[BlockRegistry] Block type not found: ${l}`),null)}validate(l,i){const a=this.blocks.get(l);if(!a)return!1;try{return a.validate(i)}catch(c){return console.error(`[BlockRegistry] Validation error for ${l}:`,c),!1}}getDefaultProps(l){const i=this.blocks.get(l);return i?{...i.defaultProps}:{}}supports(l,i){return this.blocks.get(l)?.supports?.[i]??!1}getHtmlGenerator(l,i){const a=this.blocks.get(l);return a?a.save[i]?a.save[i]:a.save["*"]?a.save["*"]:null:null}_generateId(){return`block-${Date.now()}-${Math.random().toString(36).substring(2,11)}`}reset(){this.blocks.clear(),this.categories.clear(),this.components.clear(),this.initialized=!1}toJSON(){return{blocks:Array.from(this.blocks.entries()),categories:Array.from(this.categories.entries())}}}const Ke=new Nm;typeof window<"u"&&(window.LaraBuilderBlockRegistry=Ke);function Tm(){const{state:t,actions:l,context:i}=Pi(),{blocks:a,selectedBlockId:c}=t,d=x.useMemo(()=>{if(!c)return null;const C=S=>{for(const $ of S){if($.id===c)return $;if($.props?.children)for(const T of $.props.children){const R=C(T);if(R)return R}}return null};return C(a)},[a,c]),h=x.useCallback((C,S,$={})=>{const T=Ke.createInstance(C,$);return T?(l.addBlock(T,S),T):null},[l]),m=x.useCallback((C,S={})=>{const $=a.findIndex(R=>R.id===c),T=$>-1?$+1:a.length;return h(C,T,S)},[a,c,h]),g=x.useCallback(C=>a.findIndex(S=>S.id===C),[a]),y=x.useCallback(C=>g(C)>0,[g]),b=x.useCallback(C=>{const S=g(C);return S>-1&&S<a.length-1},[a.length,g]),v=x.useCallback(C=>{const S=g(C);S>0&&l.moveBlock(S,S-1)},[g,l]),j=x.useCallback(C=>{const S=g(C);S>-1&&S<a.length-1&&l.moveBlock(S,S+1)},[a.length,g,l]),E=x.useCallback(C=>a.filter(S=>S.type===C),[a]),L=a.length>0,k=x.useMemo(()=>{let C=0;const S=$=>{for(const T of $)if(C++,T.props?.children)for(const R of T.props.children)S(R)};return S(a),C},[a]);return{blocks:a,selectedBlockId:c,selectedBlock:d,hasBlocks:L,totalBlockCount:k,addBlock:l.addBlock,updateBlock:l.updateBlock,deleteBlock:l.deleteBlock,moveBlock:l.moveBlock,duplicateBlock:l.duplicateBlock,selectBlock:l.selectBlock,deselectAll:l.deselectAll,addBlockByType:h,addBlockAfterSelected:m,canMoveUp:y,canMoveDown:b,moveBlockUp:v,moveBlockDown:j,getBlockIndex:g,getBlocksByType:E,context:i}}function $m({templateData:t,isEmailContext:l}){const[i,a]=x.useState(t?.name||""),[c,d]=x.useState(t?.subject||""),[h,m]=x.useState(t?.is_active!==void 0?t.is_active:!0),g=x.useRef({name:t?.name||"",subject:t?.subject||"",is_active:t?.is_active!==void 0?t.is_active:!0}),[y,b]=x.useState(!1);return x.useEffect(()=>{if(!l){b(!1);return}const j=i!==g.current.name||c!==g.current.subject||h!==g.current.is_active;b(j)},[i,c,h,l]),{templateName:i,templateSubject:c,templateStatus:h,templateDirty:y,setTemplateName:a,setTemplateSubject:d,setTemplateStatus:m,markEmailSaved:()=>{g.current={name:i,subject:c,is_active:h},b(!1)}}}function Rm({postData:t,initialSelectedTerms:l,isPostContext:i}){const[a,c]=x.useState(t?.title||""),[d,h]=x.useState(t?.slug||""),[m,g]=x.useState(t?.status||"draft"),[y,b]=x.useState(t?.excerpt||""),[v,j]=x.useState(t?.published_at||""),[E,L]=x.useState(String(t?.parent_id||"")),[k,C]=x.useState(l||{}),[S,$]=x.useState(t?.featured_image_url||""),[T,R]=x.useState(!1),[P,z]=x.useState(()=>({title:t?.title||"",slug:t?.slug||"",status:t?.status||"draft",excerpt:t?.excerpt||"",publishedAt:t?.published_at||"",parentId:String(t?.parent_id||""),featuredImage:t?.featured_image_url||""})),H=x.useMemo(()=>i?a!==P.title||d!==P.slug||m!==P.status||y!==P.excerpt||v!==P.publishedAt||E!==P.parentId||S!==P.featuredImage||T:!1,[i,a,d,m,y,v,E,S,T,P]),W=x.useCallback(()=>{const K=a.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();h(K)},[a]);return{title:a,slug:d,status:m,excerpt:y,publishedAt:v,parentId:E,selectedTerms:k,featuredImage:S,removeFeaturedImage:T,postDirty:H,setTitle:c,setSlug:h,setStatus:g,setExcerpt:b,setPublishedAt:j,setParentId:L,setSelectedTerms:C,setFeaturedImage:$,setRemoveFeaturedImage:R,generateSlug:W,markPostSaved:()=>{z({title:a,slug:d,status:m,excerpt:y,publishedAt:v,parentId:E,featuredImage:S}),R(!1)}}}function Lm({blocks:t,actions:l,addBlockAfterSelected:i}){const a=x.useCallback(k=>{const C=t.find(S=>S.id===k);if(C)return C;for(const S of t)if(S.type==="columns"&&S.props.children)for(const $ of S.props.children){const T=$.find(R=>R.id===k);if(T)return T}return null},[t]),c=x.useCallback(k=>{let C=t.findIndex(S=>S.id===k);if(C!==-1)return{isNested:!1,parentBlockId:null,columnIndex:null,blockIndex:C};for(const S of t)if(S.type==="columns"&&S.props.children)for(let $=0;$<S.props.children.length;$++){const R=S.props.children[$].findIndex(P=>P.id===k);if(R!==-1)return{isNested:!0,parentBlockId:S.id,columnIndex:$,blockIndex:R}}return null},[t]),d=x.useCallback((k,C)=>{l.updateBlock(k,C)},[l]),h=x.useCallback(k=>{l.deleteBlock(k)},[l]),m=x.useCallback((k,C,S)=>{l.deleteNestedBlock(C,S,k)},[l]),g=x.useCallback((k,C)=>{const S=t.findIndex(T=>T.id===k);if(S===-1)return;const $=C==="up"?S-1:S+1;$<0||$>=t.length||l.moveBlock(S,$)},[t,l]),y=x.useCallback((k,C,S,$)=>{const T=t.find(H=>H.id===C);if(!T?.props?.children?.[S])return;const R=T.props.children[S],P=R.findIndex(H=>H.id===k);if(P===-1)return;const z=$==="up"?P-1:P+1;z<0||z>=R.length||l.moveNestedBlock(C,S,P,S,z)},[t,l]),b=x.useCallback(k=>{l.duplicateBlock(k)},[l]),v=x.useCallback((k,C,S)=>{const $=t.find(z=>z.id===C);if(!$?.props?.children?.[S])return;const T=$.props.children[S],R=T.find(z=>z.id===k);if(!R)return;const P=Ke.createInstance(R.type,R.props);if(P){const z=T.findIndex(H=>H.id===k);l.addNestedBlock(C,S,P,z+1)}},[t,l]),j=x.useCallback(k=>{i(k)},[i]),E=x.useCallback((k,C)=>{const S=Ke.createInstance(C);if(!S)return;const $=t.findIndex(T=>T.id===k);if($!==-1){l.addBlock(S,$+1),l.selectBlock(S.id);return}for(const T of t)if(T.type==="columns"&&T.props.children)for(let R=0;R<T.props.children.length;R++){const z=T.props.children[R].findIndex(H=>H.id===k);if(z!==-1){l.addNestedBlock(T.id,R,S,z+1),l.selectBlock(S.id);return}}},[t,l]),L=x.useCallback((k,C)=>{const S=Ke.createInstance(C);if(!S)return;const $=t.findIndex(T=>T.id===k);if($!==-1){l.deleteBlock(k),setTimeout(()=>{l.addBlock(S,$),l.selectBlock(S.id)},0);return}for(const T of t)if(T.type==="columns"&&T.props.children)for(let R=0;R<T.props.children.length;R++){const z=T.props.children[R].findIndex(H=>H.id===k);if(z!==-1){l.deleteNestedBlock(T.id,R,k),setTimeout(()=>{l.addNestedBlock(T.id,R,S,z),l.selectBlock(S.id)},0);return}}},[t,l]);return{findBlock:a,findBlockLocation:c,handleUpdateBlock:d,handleDeleteBlock:h,handleDeleteNestedBlock:m,handleMoveBlock:g,handleMoveNestedBlock:y,handleDuplicateBlock:b,handleDuplicateNestedBlock:v,handleAddBlock:j,handleInsertBlockAfter:E,handleReplaceBlock:L}}function Am({blocks:t,actions:l}){const[i,a]=x.useState(null),c=x.useCallback(m=>{a(m.active.id),de.doAction(ye.ACTION_DRAG_START,m)},[]),d=x.useCallback(m=>{const{active:g,over:y}=m;if(a(null),de.doAction(ye.ACTION_DRAG_END,m),!y)return;const b=y.id,v=y.data.current;if(g.data.current?.type==="palette"){const j=g.data.current.blockType;if(j==="columns"&&v?.type==="column")return;const E=Ke.createInstance(j);if(!E)return;if(v?.type==="column"){const{parentId:L,columnIndex:k}=v;l.addNestedBlock(L,k,E);return}if(b==="canvas")l.addBlock(E);else if(b.toString().startsWith("dropzone-")){const L=parseInt(b.toString().replace("dropzone-",""),10);l.addBlock(E,L)}else{const L=t.findIndex(k=>k.id===b);L!==-1?l.addBlock(E,L):l.addBlock(E)}de.doAction(ye.ACTION_DROP,E,m);return}if(g.data.current?.type==="nested"){const{parentId:j,columnIndex:E}=g.data.current;if(g.id!==y.id&&v?.type==="nested"){const{parentId:L,columnIndex:k}=v;if(j===L&&E===k){const C=t.find(T=>T.id===j)?.props?.children?.[E]||[],S=C.findIndex(T=>T.id===g.id),$=C.findIndex(T=>T.id===y.id);S!==-1&&$!==-1&&l.moveNestedBlock(j,E,S,E,$);return}}v?.type}if(g.id!==y.id){const j=t.findIndex(L=>L.id===g.id),E=t.findIndex(L=>L.id===y.id);j!==-1&&E!==-1&&l.moveBlock(j,E)}},[t,l]),h=x.useCallback(m=>{const g=cg(m);if(g.length>0){const y=g.find(v=>v.data?.droppableContainer?.data?.current?.type==="nested");if(y)return[y];const b=g.find(v=>v.id.toString().startsWith("column-"));return b?[b]:[g[0]]}return lg(m)},[]);return{activeId:i,handleDragStart:c,handleDragEnd:d,customCollisionDetection:h}}let Jo={};function Im(t=null){t?Jo=t:typeof window<"u"&&(Jo=window.__translations||window.LaraBuilderTranslations||{})}function Ef(t){return Jo[t]??t}function Va(t,l){return typeof t!="string"||Object.keys(l).length===0||Object.entries(l).forEach(([i,a])=>{t=t.replace(new RegExp(`:${i}`,"gi"),String(a))}),t}function f(t,l={}){const i=Ef(t);return Va(i,l)}function Bm(t,l,i,a={}){const d=Ef(i===1?t:l);return Va(d,{count:i,...a})}function _m(t,l,i={}){const a=`${t}|${l}`,c=Jo[a]??Jo[t]??t;return Va(c,i)}function Dm(t,...l){if(typeof t!="string")return t;let i=0;return t.replace(/%(%|s|d|f|\.\d+f)/g,a=>{if(a==="%%")return"%";const c=l[i++];if(c===void 0)return a;if(a==="%s")return String(c);if(a==="%d")return parseInt(c,10).toString();if(a==="%f")return parseFloat(c).toString();const d=a.match(/^%\.(\d+)f$/);return d?parseFloat(c).toFixed(parseInt(d[1],10)):a})}typeof window<"u"&&(Im(),window.__=window.__||f,window._n=window._n||Bm,window._x=window._x||_m,window.sprintf=window.sprintf||Dm);function Nf(t,l,i){const a=t.slice();return a.splice(i<0?a.length+i:i,0,a.splice(l,1)[0]),a}function Pm(t,l){return t.reduce((i,a,c)=>{const d=l.get(a);return d&&(i[c]=d),i},Array(t.length))}function pi(t){return t!==null&&t>=0}function Mm(t,l){if(t===l)return!0;if(t.length!==l.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==l[i])return!1;return!0}function Om(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const Tf=t=>{let{rects:l,activeIndex:i,overIndex:a,index:c}=t;const d=Nf(l,a,i),h=l[c],m=d[c];return!m||!h?null:{x:m.left-h.left,y:m.top-h.top,scaleX:m.width/h.width,scaleY:m.height/h.height}},gi={scaleX:1,scaleY:1},$f=t=>{var l;let{activeIndex:i,activeNodeRect:a,index:c,rects:d,overIndex:h}=t;const m=(l=d[i])!=null?l:a;if(!m)return null;if(c===i){const y=d[h];return y?{x:0,y:i<h?y.top+y.height-(m.top+m.height):y.top-m.top,...gi}:null}const g=zm(d,c,i);return c>i&&c<=h?{x:0,y:-m.height-g,...gi}:c<i&&c>=h?{x:0,y:m.height+g,...gi}:{x:0,y:0,...gi}};function zm(t,l,i){const a=t[l],c=t[l-1],d=t[l+1];return a?i<l?c?a.top-(c.top+c.height):d?d.top-(a.top+a.height):0:d?d.top-(a.top+a.height):c?a.top-(c.top+c.height):0:0}const Rf="Sortable",Lf=Oe.createContext({activeIndex:-1,containerId:Rf,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Tf,disabled:{draggable:!1,droppable:!1}});function Af(t){let{children:l,id:i,items:a,strategy:c=Tf,disabled:d=!1}=t;const{active:h,dragOverlay:m,droppableRects:g,over:y,measureDroppableContainers:b}=bf(),v=nl(Rf,i),j=m.rect!==null,E=x.useMemo(()=>a.map(z=>typeof z=="object"&&"id"in z?z.id:z),[a]),L=h!=null,k=h?E.indexOf(h.id):-1,C=y?E.indexOf(y.id):-1,S=x.useRef(E),$=!Mm(E,S.current),T=C!==-1&&k===-1||$,R=Om(d);mn(()=>{$&&L&&b(E)},[$,E,L,b]),x.useEffect(()=>{S.current=E},[E]);const P=x.useMemo(()=>({activeIndex:k,containerId:v,disabled:R,disableTransforms:T,items:E,overIndex:C,useDragOverlay:j,sortedRects:Pm(E,g),strategy:c}),[k,v,R.draggable,R.droppable,T,E,C,g,j,c]);return Oe.createElement(Lf.Provider,{value:P},l)}const Hm=t=>{let{id:l,items:i,activeIndex:a,overIndex:c}=t;return Nf(i,a,c).indexOf(l)},Fm=t=>{let{containerId:l,isSorting:i,wasDragging:a,index:c,items:d,newIndex:h,previousItems:m,previousContainerId:g,transition:y}=t;return!y||!a||m!==d&&c===h?!1:i?!0:h!==c&&l===g},Wm={duration:200,easing:"ease"},If="transform",Um=Mn.Transition.toString({property:If,duration:0,easing:"linear"}),Vm={roleDescription:"sortable"};function Km(t){let{disabled:l,index:i,node:a,rect:c}=t;const[d,h]=x.useState(null),m=x.useRef(i);return mn(()=>{if(!l&&i!==m.current&&a.current){const g=c.current;if(g){const y=so(a.current,{ignoreTransform:!0}),b={x:g.left-y.left,y:g.top-y.top,scaleX:g.width/y.width,scaleY:g.height/y.height};(b.x||b.y)&&h(b)}}i!==m.current&&(m.current=i)},[l,i,a,c]),x.useEffect(()=>{d&&h(null)},[d]),d}function Bf(t){let{animateLayoutChanges:l=Fm,attributes:i,disabled:a,data:c,getNewIndex:d=Hm,id:h,strategy:m,resizeObserverConfig:g,transition:y=Wm}=t;const{items:b,containerId:v,activeIndex:j,disabled:E,disableTransforms:L,sortedRects:k,overIndex:C,useDragOverlay:S,strategy:$}=x.useContext(Lf),T=Gm(a,E),R=b.indexOf(h),P=x.useMemo(()=>({sortable:{containerId:v,index:R,items:b},...c}),[v,c,R,b]),z=x.useMemo(()=>b.slice(b.indexOf(h)),[b,h]),{rect:H,node:W,isOver:q,setNodeRef:K}=Di({id:h,data:P,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:z,...g}}),{active:X,activatorEvent:M,activeNodeRect:Z,attributes:ne,setNodeRef:ue,listeners:ke,isDragging:he,over:U,setActivatorNodeRef:ee,transform:V}=vf({id:h,data:P,attributes:{...Vm,...i},disabled:T.draggable}),I=Op(K,ue),F=!!X,oe=F&&!L&&pi(j)&&pi(C),te=!S&&he,fe=te&&oe?V:null,Ce=oe?fe??(m??$)({rects:k,activeNodeRect:Z,activeIndex:j,overIndex:C,index:R}):null,xe=pi(j)&&pi(C)?d({id:h,items:b,activeIndex:j,overIndex:C}):R,be=X?.id,we=x.useRef({activeId:be,items:b,newIndex:xe,containerId:v}),Et=b!==we.current.items,Ye=l({active:X,containerId:v,isDragging:he,isSorting:F,id:h,index:R,items:b,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:y,wasDragging:we.current.activeId!=null}),kt=Km({disabled:!Ye,index:R,node:W,rect:H});return x.useEffect(()=>{F&&we.current.newIndex!==xe&&(we.current.newIndex=xe),v!==we.current.containerId&&(we.current.containerId=v),b!==we.current.items&&(we.current.items=b)},[F,xe,v,b]),x.useEffect(()=>{if(be===we.current.activeId)return;if(be!=null&&we.current.activeId==null){we.current.activeId=be;return}const gt=setTimeout(()=>{we.current.activeId=be},50);return()=>clearTimeout(gt)},[be]),{active:X,activeIndex:j,attributes:ne,data:P,rect:H,index:R,newIndex:xe,items:b,isOver:q,isSorting:F,isDragging:he,listeners:ke,node:W,overIndex:C,over:U,setNodeRef:I,setActivatorNodeRef:ee,setDroppableNodeRef:K,setDraggableNodeRef:ue,transform:kt??Ce,transition:Ee()};function Ee(){if(kt||Et&&we.current.newIndex===R)return Um;if(!(te&&!Ii(M)||!y)&&(F||Ye))return Mn.Transition.toString({...y,property:If})}}function Gm(t,l){var i,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(i=t?.draggable)!=null?i:l.draggable,droppable:(a=t?.droppable)!=null?a:l.droppable}}Re.Down,Re.Right,Re.Up,Re.Left;const Xm={margin:{top:"",right:"",bottom:"",left:""},padding:{top:"",right:"",bottom:"",left:""},width:"",minWidth:"",maxWidth:"",height:"",minHeight:"",maxHeight:""},Ym={align:!0,spacing:!0,colors:!0,nesting:!1,html:!0,duplicate:!0,remove:!0,layout:!0};function Qm(t){if(!t.type)throw new Error("[createBlock] Block type is required");if(!t.label)throw new Error(`[createBlock] Block label is required for type: ${t.type}`);if(!t.block)throw new Error(`[createBlock] Block component is required for type: ${t.type}`);const l={...Ym,...t.supports},i={...t.defaultProps,layoutStyles:{...Xm,...t.defaultProps?.layoutStyles}};return{type:t.type,label:t.label,category:t.category||"Content",icon:t.icon||"lucide:box",description:t.description||"",keywords:t.keywords||[],contexts:t.contexts||["*"],supports:l,fields:t.fields||[],defaultProps:i,block:t.block,editor:t.editor||null,save:t.save||{},validate:t.validate||(()=>!0),transform:t.transform||null}}function Ge(t,l={}){return Qm({...t,...l})}class qm{constructor(){this.modalId="laraBuilderMediaModal",this.callbackName="handleLaraBuilderMediaSelection",this.pendingResolve=null,this.pendingReject=null,this.isInitialized=!1}initialize(){this.isInitialized||(window[this.callbackName]=l=>{this.pendingResolve&&(this.pendingResolve(l),this.pendingResolve=null,this.pendingReject=null)},document.addEventListener("keydown",l=>{l.key==="Escape"&&this.pendingReject&&(this.pendingReject(new Error("Selection cancelled")),this.pendingResolve=null,this.pendingReject=null)}),this.isInitialized=!0)}open(l={}){this.initialize();const{multiple:i=!1,allowedTypes:a="images",onSelect:c=null,onCancel:d=null}=l;return new Promise((h,m)=>{if(this.pendingResolve=g=>{c&&c(g),h(g)},this.pendingReject=g=>{d&&d(),m(g)},typeof window.openMediaModal=="function")document.getElementById(this.modalId)||console.warn(`[MediaLibrary] Modal element #${this.modalId} not found in DOM`),window.openMediaModal(this.modalId,i,a,this.callbackName);else{const g=new Error("Media modal not available. Ensure x-media-modal component is included in your Blade template.");console.error("[MediaLibrary]",g.message),this.pendingReject(g)}})}async selectImage(){try{return(await this.open({multiple:!1,allowedTypes:"images"}))[0]||null}catch(l){return console.error("[MediaLibrary] selectImage error:",l),null}}async selectImages(){try{return await this.open({multiple:!0,allowedTypes:"images"})}catch{return[]}}async selectVideo(){try{return(await this.open({multiple:!1,allowedTypes:"videos"}))[0]||null}catch{return null}}async selectFiles(l=!1){try{return await this.open({multiple:l,allowedTypes:"all"})}catch{return l?[]:null}}}const Zo=new qm,Jm=({title:t,children:l})=>o.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:f(t)}),l]}),Zm=({children:t,htmlFor:l})=>o.jsx("label",{htmlFor:l,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:typeof t=="string"?f(t):t}),ex=({value:t,onChange:l,id:i})=>o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",id:i,value:t||"#000000",onChange:a=>l(a.target.value),className:"w-12 h-9 rounded border border-gray-300 dark:border-gray-600 cursor-pointer"}),o.jsx("input",{type:"text",value:t||"",onChange:a=>l(a.target.value),placeholder:"#000000",className:"form-control flex-1 font-mono text-sm"})]}),tx=({value:t,onChange:l,min:i=0,max:a=100,step:c=1,id:d,showValue:h=!0})=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"range",id:d,value:t||i,onChange:m=>l(parseFloat(m.target.value)),min:i,max:a,step:c,className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),h&&o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 min-w-[3rem] text-right",children:t||i})]}),nx=({type:t,name:l,label:i,value:a,onChange:c,options:d=[],placeholder:h,min:m,max:g,step:y,rows:b=3,help:v,required:j=!1,showLabel:E=!0,className:L=""})=>{const k=`field-${l}`,C=h?f(h):void 0,S=()=>{switch(t){case"text":return o.jsx("input",{type:"text",id:k,value:a||"",onChange:R=>c(R.target.value),placeholder:C,required:j,className:"form-control"});case"textarea":return o.jsx("textarea",{id:k,value:a||"",onChange:R=>c(R.target.value),placeholder:C,rows:b,required:j,className:"form-control"});case"number":return o.jsx("input",{type:"number",id:k,value:a??"",onChange:R=>c(R.target.value?parseFloat(R.target.value):""),placeholder:C,min:m,max:g,step:y,required:j,className:"form-control"});case"url":return o.jsx("input",{type:"url",id:k,value:a||"",onChange:R=>c(R.target.value),placeholder:C||"https://...",required:j,className:"form-control"});case"email":return o.jsx("input",{type:"email",id:k,value:a||"",onChange:R=>c(R.target.value),placeholder:C,required:j,className:"form-control"});case"select":return o.jsx("select",{id:k,value:a||"",onChange:R=>c(R.target.value),required:j,className:"form-control",children:d.map(R=>o.jsx("option",{value:R.value,children:f(R.label)},R.value))});case"color":return o.jsx(ex,{value:a,onChange:c,id:k});case"checkbox":return o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",id:k,checked:a||!1,onChange:R=>c(R.target.checked),className:"rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary"}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:f(i)})]});case"toggle":return o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",id:k,checked:a||!1,onChange:R=>c(R.target.checked),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary"}),o.jsx("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-300",children:f(i)})]});case"range":return o.jsx(tx,{value:a,onChange:c,min:m,max:g,step:y,id:k});case"image":const T=async()=>{try{const R=await Zo.selectImage();R&&c(R.url)}catch{}};return o.jsxs("div",{className:"space-y-2",children:[a?o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:a,alt:"",className:"w-full h-32 object-contain rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"}),o.jsx("button",{type:"button",onClick:()=>c(""),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:f("Remove"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]}):o.jsxs("div",{onClick:T,className:"flex flex-col items-center justify-center p-6 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-primary hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[o.jsx("iconify-icon",{icon:"mdi:image-plus",className:"text-3xl text-gray-400 mb-2"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:f("Click to select image")})]}),a&&o.jsxs("button",{type:"button",onClick:T,className:"btn btn-default w-full flex items-center justify-center gap-2",children:[o.jsx("iconify-icon",{icon:"mdi:image-edit",width:"16",height:"16"}),f("Change Image")]}),o.jsxs("details",{className:"mt-2",children:[o.jsx("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",children:f("Or enter URL manually")}),o.jsx("input",{type:"url",value:a||"",onChange:R=>c(R.target.value),placeholder:"https://...",className:"form-control mt-2"})]})]});case"align":return o.jsx("div",{className:"flex gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["left","center","right","justify"].map(R=>o.jsx("button",{type:"button",onClick:()=>c(R),className:`flex-1 p-2 rounded-md transition-colors ${a===R?"bg-white dark:bg-gray-700 shadow-sm text-primary":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,title:f(R.charAt(0).toUpperCase()+R.slice(1)),children:o.jsx("iconify-icon",{icon:`mdi:format-align-${R}`,width:"18",height:"18",className:"mx-auto"})},R))});case"date":return o.jsx("input",{type:"date",id:k,value:a||"",onChange:R=>c(R.target.value),required:j,className:"form-control"});case"time":return o.jsx("input",{type:"time",id:k,value:a||"23:59",onChange:R=>c(R.target.value),required:j,className:"form-control"});case"info":return o.jsxs("div",{className:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:[o.jsx("iconify-icon",{icon:"mdi:information",width:"18",height:"18",class:"text-blue-500 flex-shrink-0 mt-0.5"}),o.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:f(a||"")})]});default:return console.warn(`[EditorField] Unknown field type: ${t}`),o.jsx("input",{type:"text",id:k,value:a||"",onChange:R=>c(R.target.value),className:"form-control"})}},$=t==="checkbox"||t==="toggle";return o.jsxs("div",{className:`mb-3 last:mb-0 ${L}`,children:[E&&i&&!$&&o.jsx(Zm,{htmlFor:k,children:i}),S(),v&&o.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:f(v)})]})},rx=(t,l)=>l.includes(".")?l.split(".").reduce((i,a)=>i?.[a],t):t?.[l],zd=(t,l,i)=>{if(!l.includes("."))return{...t,[l]:i};const a=l.split("."),c={...t};let d=c;for(let h=0;h<a.length-1;h++){const m=a[h];d[m]={...d[m]},d=d[m]}return d[a[a.length-1]]=i,c},ox=({fields:t=[],blockProps:l,onUpdate:i})=>{const a=(d,h,m)=>{let g=zd(l,d,h);m?.linkedFields&&Object.entries(m.linkedFields).forEach(([y,b])=>{const v=typeof b=="function"?b(h):b;g=zd(g,y,v)}),i(g)},c=t.reduce((d,h)=>{const m=h.section||"Content";return d[m]||(d[m]=[]),d[m].push(h),d},{});return o.jsx("div",{className:"space-y-4",children:Object.entries(c).map(([d,h])=>o.jsx(Jm,{title:d,children:h.map(m=>o.jsx(nx,{type:m.type,name:m.name,label:m.label,value:rx(l,m.name),onChange:g=>a(m.name,g,m),options:m.options,placeholder:m.placeholder,min:m.min,max:m.max,step:m.step,rows:m.rows,help:m.help,required:m.required},m.name))},d))})},lx=[{value:"",label:"Auto"},{value:"100%",label:"100%"},{value:"75%",label:"75%"},{value:"50%",label:"50%"},{value:"25%",label:"25%"},{value:"100px",label:"100px"},{value:"150px",label:"150px"},{value:"200px",label:"200px"},{value:"250px",label:"250px"},{value:"300px",label:"300px"},{value:"400px",label:"400px"},{value:"500px",label:"500px"}],ix=[{value:"cover",label:"Cover"},{value:"contain",label:"Contain"},{value:"auto",label:"Auto"},{value:"100% 100%",label:"100%"}],sx=[{value:"center",label:"Center"},{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"},{value:"right",label:"Right"},{value:"top left",label:"Top Left"},{value:"top right",label:"Top Right"},{value:"bottom left",label:"Bottom Left"},{value:"bottom right",label:"Bottom Right"}],ax=[{value:"no-repeat",label:"No Repeat"},{value:"repeat",label:"Repeat"},{value:"repeat-x",label:"Repeat X"},{value:"repeat-y",label:"Repeat Y"}],cx=[{value:"",label:"Inherit"},{value:"Arial, sans-serif",label:"Arial"},{value:"Helvetica, Arial, sans-serif",label:"Helvetica"},{value:"Georgia, serif",label:"Georgia"},{value:"'Times New Roman', Times, serif",label:"Times New Roman"},{value:"Verdana, Geneva, sans-serif",label:"Verdana"},{value:"'Trebuchet MS', sans-serif",label:"Trebuchet MS"},{value:"'Courier New', Courier, monospace",label:"Courier New"},{value:"system-ui, -apple-system, sans-serif",label:"System UI"}],Hd=[{value:"",label:"Inherit"},{value:"10px",label:"10px"},{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"},{value:"20px",label:"20px"},{value:"24px",label:"24px"},{value:"28px",label:"28px"},{value:"32px",label:"32px"},{value:"36px",label:"36px"},{value:"48px",label:"48px"},{value:"64px",label:"64px"}],ux=[{value:"",label:"Inherit"},{value:"100",label:"Thin (100)"},{value:"200",label:"Extra Light (200)"},{value:"300",label:"Light (300)"},{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi Bold (600)"},{value:"700",label:"Bold (700)"},{value:"800",label:"Extra Bold (800)"},{value:"900",label:"Black (900)"}],dx=[{value:"",label:"Inherit"},{value:"normal",label:"Normal"},{value:"italic",label:"Italic"},{value:"oblique",label:"Oblique"}],Fd=[{value:"",label:"Inherit"},{value:"1",label:"1"},{value:"1.2",label:"1.2"},{value:"1.4",label:"1.4"},{value:"1.5",label:"1.5"},{value:"1.6",label:"1.6"},{value:"1.8",label:"1.8"},{value:"2",label:"2"}],Wd=[{value:"",label:"Inherit"},{value:"-1px",label:"-1px"},{value:"-0.5px",label:"-0.5px"},{value:"0",label:"0"},{value:"0.5px",label:"0.5px"},{value:"1px",label:"1px"},{value:"2px",label:"2px"},{value:"3px",label:"3px"}],fx=[{value:"",label:"Inherit",icon:"Aa"},{value:"uppercase",label:"Uppercase",icon:"AA"},{value:"lowercase",label:"Lowercase",icon:"aa"},{value:"capitalize",label:"Capitalize",icon:"Aa"},{value:"none",label:"None",icon:"x"}],hx=[{value:"",label:"Inherit",icon:"mdi:format-text"},{value:"underline",label:"Underline",icon:"mdi:format-underline"},{value:"overline",label:"Overline",icon:"mdi:format-overline"},{value:"line-through",label:"Strikethrough",icon:"mdi:format-strikethrough"},{value:"none",label:"None",icon:"mdi:close"}],px=({background:t={},onChange:l,onImageUpload:i})=>{const[a,c]=x.useState(!1),d=y=>{l({...t,color:y})},h=y=>{l({...t,image:y})},m=async()=>{c(!0);try{const y=await Zo.selectImage();y?.url&&h(y.url)}catch(y){console.error("Failed to select image:",y)}finally{c(!1)}},g=()=>{l({...t,image:"",size:"",position:"",repeat:""})};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Background color")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:t.color||"#ffffff",onChange:y=>d(y.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer bg-gray-100"}),o.jsx("input",{type:"text",value:t.color||"",onChange:y=>d(y.target.value),placeholder:"transparent",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),t.color&&o.jsx("button",{type:"button",onClick:()=>d(""),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Clear"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Background image")}),t.image&&o.jsxs("div",{className:"mb-2 relative",children:[o.jsx("img",{src:t.image,alt:"Background preview",className:"w-full h-16 object-cover rounded border border-gray-200"}),o.jsx("button",{type:"button",onClick:g,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",title:f("Remove image"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"12",height:"12"})})]}),o.jsx("button",{type:"button",onClick:m,disabled:a,className:"w-full border-2 border-dashed border-gray-200 rounded-lg p-3 text-center hover:border-primary/50 hover:bg-primary/5 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500",children:a?o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:loading",width:"16",height:"16",class:"animate-spin"}),o.jsx("span",{children:f("Selecting...")})]}):o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:image-plus",width:"16",height:"16",class:"text-primary"}),o.jsx("span",{className:"font-medium",children:f("Select from Media Library")})]})})}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-xs text-gray-400",children:f("or")}),o.jsx("input",{type:"text",value:t.image||"",onChange:y=>h(y.target.value),placeholder:"Enter image URL...",className:"flex-1 px-2 py-1.5 text-xs bg-gray-50 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),t.image&&o.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Size")}),o.jsx("select",{value:t.size||"cover",onChange:y=>l({...t,size:y.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ix.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Position")}),o.jsx("select",{value:t.position||"center",onChange:y=>l({...t,position:y.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:sx.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Repeat")}),o.jsx("select",{value:t.repeat||"no-repeat",onChange:y=>l({...t,repeat:y.target.value}),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ax.map(y=>o.jsx("option",{value:y.value,children:y.label},y.value))})]})]})]})},gx=({typography:t={},onChange:l})=>{const i=(a,c)=>{l({...t,[a]:c})};return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Color")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:t.color||"#000000",onChange:a=>i("color",a.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer bg-gray-100"}),o.jsx("input",{type:"text",value:t.color||"",onChange:a=>i("color",a.target.value),placeholder:"inherit",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),t.color&&o.jsx("button",{type:"button",onClick:()=>i("color",""),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Clear"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font size")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:Hd.some(a=>a.value===t.fontSize)?t.fontSize:"custom",onChange:a=>{a.target.value!=="custom"&&i("fontSize",a.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Hd.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value)),o.jsx("option",{value:"custom",children:f("Custom")})]}),o.jsx("input",{type:"text",value:t.fontSize||"",onChange:a=>i("fontSize",a.target.value),placeholder:"e.g., 16px",className:"w-20 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text align")}),o.jsx("div",{className:"flex gap-1",children:[{value:"left",icon:"mdi:format-align-left"},{value:"center",icon:"mdi:format-align-center"},{value:"right",icon:"mdi:format-align-right"},{value:"justify",icon:"mdi:format-align-justify"}].map(({value:a,icon:c})=>o.jsx("button",{type:"button",onClick:()=>i("textAlign",a),className:`flex-1 p-2 rounded transition-colors ${t.textAlign===a?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:a.charAt(0).toUpperCase()+a.slice(1),children:o.jsx("iconify-icon",{icon:c,width:"16",height:"16"})},a))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text transform")}),o.jsx("div",{className:"flex gap-1",children:fx.slice(0,4).map(({value:a,label:c,icon:d})=>o.jsx("button",{type:"button",onClick:()=>i("textTransform",a),className:`flex-1 p-2 rounded text-xs font-medium transition-colors ${(t.textTransform||"")===a?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c,children:d},a||"inherit"))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font family")}),o.jsx("select",{value:t.fontFamily||"",onChange:a=>i("fontFamily",a.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:cx.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font weight")}),o.jsx("select",{value:t.fontWeight||"",onChange:a=>i("fontWeight",a.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:ux.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Font style")}),o.jsx("select",{value:t.fontStyle||"",onChange:a=>i("fontStyle",a.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:dx.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Line height")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:Fd.some(a=>a.value===t.lineHeight)?t.lineHeight:"custom",onChange:a=>{a.target.value!=="custom"&&i("lineHeight",a.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Fd.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value)),o.jsx("option",{value:"custom",children:f("Custom")})]}),o.jsx("input",{type:"text",value:t.lineHeight||"",onChange:a=>i("lineHeight",a.target.value),placeholder:"-",className:"w-16 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Letter spacing")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:Wd.some(a=>a.value===t.letterSpacing)?t.letterSpacing:"custom",onChange:a=>{a.target.value!=="custom"&&i("letterSpacing",a.target.value)},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[Wd.map(a=>o.jsx("option",{value:a.value,children:a.label},a.value)),o.jsx("option",{value:"custom",children:f("Custom")})]}),o.jsx("input",{type:"text",value:t.letterSpacing||"",onChange:a=>i("letterSpacing",a.target.value),placeholder:"-",className:"w-16 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Text decoration")}),o.jsx("div",{className:"flex gap-1",children:hx.slice(0,4).map(({value:a,label:c,icon:d})=>o.jsx("button",{type:"button",onClick:()=>i("textDecoration",a),className:`flex-1 p-2 rounded transition-colors ${(t.textDecoration||"")===a?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:c,children:o.jsx("iconify-icon",{icon:d,width:"16",height:"16"})},a||"inherit"))})]})]})},mi=({value:t,onChange:l,placeholder:i=""})=>o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:t||"",onChange:a=>l(a.target.value),placeholder:i,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),o.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"14",height:"14",class:"text-gray-400"})})]}),Ud=({label:t,values:l,onChange:i,linkSides:a,onToggleLink:c})=>{const{top:d="",right:h="",bottom:m="",left:g=""}=l||{},y=(b,v)=>{i(a?{top:v,right:v,bottom:v,left:v}:{...l,[b]:v})};return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:t}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:c,className:`p-1 rounded transition-colors ${a?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(a?"Unlink sides":"Link all sides"),children:o.jsx("iconify-icon",{icon:a?"mdi:link":"mdi:link-off",width:"14",height:"14"})}),o.jsx("button",{type:"button",onClick:()=>i({top:"",right:"",bottom:"",left:""}),className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",title:f("Reset"),children:o.jsx("iconify-icon",{icon:"mdi:refresh",width:"14",height:"14"})})]})]}),o.jsxs("div",{className:"relative bg-gray-100 rounded-lg p-3",children:[o.jsx("div",{className:"flex justify-center mb-2",children:o.jsx(mi,{value:d,onChange:b=>y("top",b),placeholder:"0"})}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"w-20",children:o.jsx(mi,{value:g,onChange:b=>y("left",b),placeholder:"0"})}),o.jsx("div",{className:"flex-1 h-12 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-gray-500",children:f("Content")})}),o.jsx("div",{className:"w-20",children:o.jsx(mi,{value:h,onChange:b=>y("right",b),placeholder:"0"})})]}),o.jsx("div",{className:"flex justify-center mt-2",children:o.jsx(mi,{value:m,onChange:b=>y("bottom",b),placeholder:"0"})})]})]})},mx=({margin:t,padding:l,onMarginChange:i,onPaddingChange:a})=>{const[c,d]=x.useState(!1),[h,m]=x.useState(!1);return o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Spacing")}),o.jsx(Ud,{label:f("Margin"),values:t||{},onChange:i,linkSides:c,onToggleLink:()=>d(!c)}),o.jsx(Ud,{label:f("Padding"),values:l||{},onChange:a,linkSides:h,onToggleLink:()=>m(!h)})]})},no=({label:t,value:l,onChange:i,presets:a=lx})=>{const[c,d]=x.useState(l&&!a.some(h=>h.value===l));return o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:t}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:c?"custom":l||"",onChange:h=>{h.target.value==="custom"?d(!0):(d(!1),i(h.target.value))},className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:[a.map(h=>o.jsx("option",{value:h.value,children:h.label},h.value)),o.jsx("option",{value:"custom",children:f("Custom")})]}),c&&o.jsx("input",{type:"text",value:l||"",onChange:h=>i(h.target.value),placeholder:"e.g., 200px",className:"w-24 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),o.jsx("div",{className:"flex items-center",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"14",height:"14",class:"text-gray-400"})})]})]})},xx=({layoutStyles:t={},onChange:l})=>{const i=(a,c)=>{l(a,c)};return o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Sizing")}),o.jsx(no,{label:f("Width"),value:t.width||"",onChange:a=>i("width",a)}),o.jsx(no,{label:f("Min. width"),value:t.minWidth||"",onChange:a=>i("minWidth",a)}),o.jsx(no,{label:f("Max. width"),value:t.maxWidth||"",onChange:a=>i("maxWidth",a)}),o.jsx(no,{label:f("Height"),value:t.height||"",onChange:a=>i("height",a)}),o.jsx(no,{label:f("Min. height"),value:t.minHeight||"",onChange:a=>i("minHeight",a)}),o.jsx(no,{label:f("Max. height"),value:t.maxHeight||"",onChange:a=>i("maxHeight",a)})]})},yx=[{value:"",label:f("Default")},{value:"none",label:f("None")},{value:"solid",label:f("Solid")},{value:"dashed",label:f("Dashed")},{value:"dotted",label:f("Dotted")},{value:"double",label:f("Double")}],xi=({value:t,onChange:l,placeholder:i="0"})=>o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",value:t||"",onChange:a=>l(a.target.value),placeholder:i,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),o.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]}),yi=({label:t,value:l,onChange:i})=>o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-xs text-gray-500 mb-1 uppercase",children:t}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:l||"",onChange:a=>i(a.target.value),placeholder:"0",className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),o.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]})]}),vx=({border:t={},onChange:l})=>{const[i,a]=x.useState(!1),[c,d]=x.useState(!0),[h,m]=x.useState(!0),{width:g={},style:y="",color:b="",radius:v={}}=t,j=(S,$)=>{l(c?{...t,width:{top:$,right:$,bottom:$,left:$}}:{...t,width:{...g,[S]:$}})},E=(S,$)=>{l(h?{...t,radius:{topLeft:$,topRight:$,bottomLeft:$,bottomRight:$}}:{...t,radius:{...v,[S]:$}})},L=S=>{l({...t,style:S})},k=S=>{l({...t,color:S})},C=g.top||g.right||g.bottom||g.left||y||b;return o.jsxs("div",{className:"mb-3",children:[o.jsxs("button",{type:"button",onClick:()=>a(!i),className:"flex items-center justify-between w-full text-left py-2 group",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Border")}),o.jsxs("div",{className:"flex items-center gap-2",children:[C&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),o.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"16",height:"16",class:"text-gray-400 group-hover:text-gray-600"})]})]}),i&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Width")}),o.jsx("button",{type:"button",onClick:()=>d(!c),className:`p-1 rounded transition-colors ${c?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(c?"Unlink sides":"Link all sides"),children:o.jsx("iconify-icon",{icon:c?"mdi:link":"mdi:link-off",width:"14",height:"14"})})]}),o.jsx("div",{className:"flex justify-center mb-2",children:o.jsx(xi,{value:g.top,onChange:S=>j("top",S)})}),o.jsxs("div",{className:"flex gap-2 mb-2",children:[o.jsx(xi,{value:g.left,onChange:S=>j("left",S)}),o.jsx(xi,{value:g.right,onChange:S=>j("right",S)})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(xi,{value:g.bottom,onChange:S=>j("bottom",S)})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Style")}),o.jsx("select",{value:y,onChange:S=>L(S.target.value),className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 focus:border-primary focus:outline-none",children:yx.map(S=>o.jsx("option",{value:S.value,children:S.label},S.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:f("Color")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:b||"#000000",onChange:S=>k(S.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:b,onChange:S=>k(S.target.value),placeholder:"#000000",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),b&&o.jsx("button",{type:"button",onClick:()=>k(""),className:"p-1 text-gray-400 hover:text-gray-600",title:f("Clear"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Radius")}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:`p-1 rounded transition-colors ${h?"text-primary bg-primary/20":"text-gray-400 hover:text-gray-600"}`,title:f(h?"Unlink corners":"Link all corners"),children:o.jsx("iconify-icon",{icon:h?"mdi:link":"mdi:link-off",width:"14",height:"14"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(yi,{label:f("Top Left"),value:v.topLeft,onChange:S=>E("topLeft",S)}),o.jsx(yi,{label:f("Top Right"),value:v.topRight,onChange:S=>E("topRight",S)}),o.jsx(yi,{label:f("Bottom Left"),value:v.bottomLeft,onChange:S=>E("bottomLeft",S)}),o.jsx(yi,{label:f("Bottom Right"),value:v.bottomRight,onChange:S=>E("bottomRight",S)})]})]}),C&&o.jsx("button",{type:"button",onClick:()=>l({}),className:"w-full px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:f("Reset Border")})]})]})},vi=({label:t,value:l,onChange:i,placeholder:a="0"})=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500 w-12 uppercase",children:t}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx("input",{type:"text",value:l||"",onChange:c=>i(c.target.value),placeholder:a,className:"w-full px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"}),o.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2",children:o.jsx("iconify-icon",{icon:"mdi:shield-outline",width:"12",height:"12",class:"text-gray-400"})})]})]}),bx=({boxShadow:t={},onChange:l})=>{const[i,a]=x.useState(!1),{x:c="",y:d="",blur:h="",spread:m="",color:g="",inset:y=!1}=t,b=(j,E)=>{l({...t,[j]:E})},v=c||d||h||m||g;return o.jsxs("div",{className:"mb-3",children:[o.jsxs("button",{type:"button",onClick:()=>a(!i),className:"flex items-center justify-between w-full text-left py-2 group",children:[o.jsx("span",{className:"text-xs font-medium text-gray-600",children:f("Box shadow")}),o.jsxs("div",{className:"flex items-center gap-2",children:[v&&o.jsx("span",{className:"w-2 h-2 rounded-full bg-primary"}),o.jsx("iconify-icon",{icon:"mdi:pencil-outline",width:"16",height:"16",class:"text-gray-400 group-hover:text-gray-600"})]})]}),i&&o.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg space-y-3",children:[o.jsx("div",{className:"text-xs font-medium text-gray-600 mb-2",children:f("Box shadow")}),o.jsx(vi,{label:"X",value:c,onChange:j=>b("x",j),placeholder:"0px"}),o.jsx(vi,{label:"Y",value:d,onChange:j=>b("y",j),placeholder:"4px"}),o.jsx(vi,{label:f("Blur"),value:h,onChange:j=>b("blur",j),placeholder:"6px"}),o.jsx(vi,{label:f("Spread"),value:m,onChange:j=>b("spread",j),placeholder:"0px"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-500 w-12",children:f("Color")}),o.jsxs("div",{className:"flex-1 flex gap-2",children:[o.jsx("input",{type:"color",value:g||"#000000",onChange:j=>b("color",j.target.value),className:"h-8 w-10 border border-gray-200 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:g,onChange:j=>b("color",j.target.value),placeholder:"rgba(0,0,0,0.1)",className:"flex-1 px-2 py-1.5 text-xs bg-gray-100 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:border-primary focus:outline-none"})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-gray-500",children:f("Inset")}),o.jsx("button",{type:"button",onClick:()=>b("inset",!y),className:`relative w-10 h-5 rounded-full transition-colors ${y?"bg-primary":"bg-gray-300"}`,children:o.jsx("span",{className:`absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform ${y?"translate-x-5":"translate-x-0.5"}`})})]}),v&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:f("Preview")}),o.jsx("div",{className:"w-full h-16 bg-white rounded-lg border border-gray-200",style:{boxShadow:`${y?"inset ":""}${c||"0px"} ${d||"4px"} ${h||"6px"} ${m||"0px"} ${g||"rgba(0,0,0,0.1)"}`}})]}),o.jsxs("div",{className:"pt-2",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-2",children:f("Quick presets")}),o.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"1px",blur:"3px",spread:"0px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Subtle")}),o.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"4px",blur:"6px",spread:"-1px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Medium")}),o.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"10px",blur:"15px",spread:"-3px",color:"rgba(0,0,0,0.1)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("Large")}),o.jsx("button",{type:"button",onClick:()=>l({x:"0px",y:"25px",blur:"50px",spread:"-12px",color:"rgba(0,0,0,0.25)",inset:!1}),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded transition-colors",children:f("XL")})]})]}),v&&o.jsx("button",{type:"button",onClick:()=>l({}),className:"w-full px-3 py-1.5 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:f("Reset Shadow")})]})]})},wx=({customCSS:t="",customClass:l="",onChange:i,onClassChange:a})=>{const[c,d]=x.useState(t),[h,m]=x.useState(l),g=x.useCallback(j=>{const E=j.target.value;d(E),i(E)},[i]),y=x.useCallback(j=>{const E=j.target.value;m(E),a?.(E)},[a]),b=[{label:f("Shadow"),css:"box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"},{label:f("Rounded"),css:"border-radius: 12px;"},{label:f("Border"),css:"border: 2px solid #e5e7eb;"},{label:f("Opacity"),css:"opacity: 0.9;"}],v=j=>{const E=c?`${c}
${j}`:j;d(E),i(E)};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:f("Quick Add")}),o.jsx("div",{className:"flex flex-wrap gap-1.5",children:b.map(j=>o.jsx("button",{type:"button",onClick:()=>v(j.css),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:j.label},j.label))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:f("CSS Properties")}),o.jsx("textarea",{value:c,onChange:g,placeholder:"e.g., box-shadow: 0 4px 6px rgba(0,0,0,0.1);",className:"w-full h-24 px-3 py-2 text-xs font-mono bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md focus:ring-2 focus:ring-primary/20 focus:border-primary resize-y",spellCheck:!1}),o.jsx("p",{className:"mt-1 text-xs text-gray-400",children:f("CSS properties separated by semicolons")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1.5",children:f("Custom Class")}),o.jsx("input",{type:"text",value:h,onChange:y,placeholder:"my-custom-class",className:"w-full px-3 py-2 text-xs font-mono bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md focus:ring-2 focus:ring-primary/20 focus:border-primary"}),o.jsxs("p",{className:"mt-1 text-xs text-gray-400",children:[f("Added alongside")," ",o.jsxs("code",{className:"px-1 py-0.5 bg-gray-100 rounded",children:["lb-","{type}"]})]})]})]})},ze=(t,l)=>{const i=Tr(l||{}),a={...t};return Object.entries(i).forEach(([c,d])=>{d!=null&&d!==""&&(a[c]=d)}),a},Tr=(t={})=>{const l={};if(t.background){const{color:i,image:a,size:c,position:d,repeat:h}=t.background;i&&(l.backgroundColor=i),a&&(l.backgroundImage=`url(${a})`,l.backgroundSize=c||"cover",l.backgroundPosition=d||"center",l.backgroundRepeat=h||"no-repeat")}if(t.margin){const{top:i,right:a,bottom:c,left:d}=t.margin;(i||a||c||d)&&(l.marginTop=i||"0",l.marginRight=a||"0",l.marginBottom=c||"0",l.marginLeft=d||"0")}if(t.padding){const{top:i,right:a,bottom:c,left:d}=t.padding;(i||a||c||d)&&(l.paddingTop=i||"0",l.paddingRight=a||"0",l.paddingBottom=c||"0",l.paddingLeft=d||"0")}if(t.width&&(l.width=t.width),t.minWidth&&(l.minWidth=t.minWidth),t.maxWidth&&(l.maxWidth=t.maxWidth),t.height&&(l.height=t.height),t.minHeight&&(l.minHeight=t.minHeight),t.maxHeight&&(l.maxHeight=t.maxHeight),t.typography){const{color:i,fontSize:a,textAlign:c,textTransform:d,fontFamily:h,fontWeight:m,fontStyle:g,lineHeight:y,letterSpacing:b,textDecoration:v}=t.typography;i&&(l.color=i),a&&(l.fontSize=a),c&&(l.textAlign=c),d&&(l.textTransform=d),h&&(l.fontFamily=h),m&&(l.fontWeight=m),g&&(l.fontStyle=g),y&&(l.lineHeight=y),b&&(l.letterSpacing=b),v&&(l.textDecoration=v)}if(t.border){const{width:i={},style:a,color:c,radius:d={}}=t.border;i.top&&(l.borderTopWidth=i.top),i.right&&(l.borderRightWidth=i.right),i.bottom&&(l.borderBottomWidth=i.bottom),i.left&&(l.borderLeftWidth=i.left),a&&(l.borderStyle=a),c&&(l.borderColor=c),d.topLeft&&(l.borderTopLeftRadius=d.topLeft),d.topRight&&(l.borderTopRightRadius=d.topRight),d.bottomLeft&&(l.borderBottomLeftRadius=d.bottomLeft),d.bottomRight&&(l.borderBottomRightRadius=d.bottomRight)}if(t.boxShadow){const{x:i,y:a,blur:c,spread:d,color:h,inset:m}=t.boxShadow;if(i||a||c||d||h){const g=`${m?"inset ":""}${i||"0px"} ${a||"0px"} ${c||"0px"} ${d||"0px"} ${h||"rgba(0,0,0,0.1)"}`;l.boxShadow=g}}return l},Ri=(t={})=>{const l=[];if(t.background){const{color:i,image:a,size:c,position:d,repeat:h}=t.background;i&&l.push(`background-color: ${i}`),a&&(l.push(`background-image: url(${a})`),l.push(`background-size: ${c||"cover"}`),l.push(`background-position: ${d||"center"}`),l.push(`background-repeat: ${h||"no-repeat"}`))}if(t.margin){const{top:i,right:a,bottom:c,left:d}=t.margin;i&&l.push(`margin-top: ${i}`),a&&l.push(`margin-right: ${a}`),c&&l.push(`margin-bottom: ${c}`),d&&l.push(`margin-left: ${d}`)}if(t.padding){const{top:i,right:a,bottom:c,left:d}=t.padding;i&&l.push(`padding-top: ${i}`),a&&l.push(`padding-right: ${a}`),c&&l.push(`padding-bottom: ${c}`),d&&l.push(`padding-left: ${d}`)}if(t.width&&l.push(`width: ${t.width}`),t.minWidth&&l.push(`min-width: ${t.minWidth}`),t.maxWidth&&l.push(`max-width: ${t.maxWidth}`),t.height&&l.push(`height: ${t.height}`),t.minHeight&&l.push(`min-height: ${t.minHeight}`),t.maxHeight&&l.push(`max-height: ${t.maxHeight}`),t.typography){const{color:i,fontSize:a,textAlign:c,textTransform:d,fontFamily:h,fontWeight:m,fontStyle:g,lineHeight:y,letterSpacing:b,textDecoration:v}=t.typography;i&&l.push(`color: ${i}`),a&&l.push(`font-size: ${a}`),c&&l.push(`text-align: ${c}`),d&&l.push(`text-transform: ${d}`),h&&l.push(`font-family: ${h}`),m&&l.push(`font-weight: ${m}`),g&&l.push(`font-style: ${g}`),y&&l.push(`line-height: ${y}`),b&&l.push(`letter-spacing: ${b}`),v&&l.push(`text-decoration: ${v}`)}if(t.border){const{width:i={},style:a,color:c,radius:d={}}=t.border;i.top&&l.push(`border-top-width: ${i.top}`),i.right&&l.push(`border-right-width: ${i.right}`),i.bottom&&l.push(`border-bottom-width: ${i.bottom}`),i.left&&l.push(`border-left-width: ${i.left}`),a&&l.push(`border-style: ${a}`),c&&l.push(`border-color: ${c}`),d.topLeft&&l.push(`border-top-left-radius: ${d.topLeft}`),d.topRight&&l.push(`border-top-right-radius: ${d.topRight}`),d.bottomLeft&&l.push(`border-bottom-left-radius: ${d.bottomLeft}`),d.bottomRight&&l.push(`border-bottom-right-radius: ${d.bottomRight}`)}if(t.boxShadow){const{x:i,y:a,blur:c,spread:d,color:h,inset:m}=t.boxShadow;if(i||a||c||d||h){const g=`${m?"inset ":""}${i||"0px"} ${a||"0px"} ${c||"0px"} ${d||"0px"} ${h||"rgba(0,0,0,0.1)"}`;l.push(`box-shadow: ${g}`)}}return l.join("; ")},Vo=({icon:t,iconColor:l="text-primary/100",title:i,isExpanded:a,onToggle:c})=>o.jsxs("button",{type:"button",onClick:c,className:"flex items-center justify-between w-full text-left mb-3 group py-2.5 px-3 rounded-lg border border-transparent hover:bg-gray-50 dark:hover:bg-gray-800/50 focus:outline-none focus:border-primary/40 focus:bg-gray-50/50 dark:focus:bg-gray-800/50 transition-all",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("iconify-icon",{icon:t,width:"16",height:"16",class:l}),o.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:i})]}),o.jsx("iconify-icon",{icon:a?"mdi:chevron-up":"mdi:chevron-down",width:"18",height:"18",class:"text-gray-400 group-hover:text-gray-600 transition-colors"})]}),bi=({layoutStyles:t={},onUpdate:l,onImageUpload:i,defaultCollapsed:a=!0,customCSS:c="",customClass:d="",onCustomCSSChange:h,onCustomClassChange:m})=>{const[g,y]=x.useState(!1),[b,v]=x.useState(!1),[j,E]=x.useState(!a),[L,k]=x.useState(!1),[C,S]=x.useState(!1),$=(q,K)=>{l({...t,[q]:K})},T=q=>{l({...t,margin:q})},R=q=>{l({...t,padding:q})},P=q=>{l({...t,background:q})},z=q=>{l({...t,typography:q})},H=q=>{l({...t,border:q})},W=q=>{l({...t,boxShadow:q})};return o.jsxs("div",{className:"border-t border-gray-200 mt-4 pt-4 space-y-4",children:[o.jsxs("div",{children:[o.jsx(Vo,{icon:"mdi:palette-outline",title:f("Background"),isExpanded:g,onToggle:()=>y(!g)}),g&&o.jsx(px,{background:t.background||{},onChange:P,onImageUpload:i})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx(Vo,{icon:"mdi:format-font",title:f("Typography"),isExpanded:b,onToggle:()=>v(!b)}),b&&o.jsx(gx,{typography:t.typography||{},onChange:z})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx(Vo,{icon:"mdi:view-dashboard-outline",title:f("Layout"),isExpanded:j,onToggle:()=>E(!j)}),j&&o.jsxs("div",{className:"space-y-4",children:[o.jsx(mx,{margin:t.margin||{},padding:t.padding||{},onMarginChange:T,onPaddingChange:R}),o.jsx(xx,{layoutStyles:t,onChange:$})]})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx(Vo,{icon:"mdi:checkbox-blank-outline",title:f("Border / Box Shadow"),isExpanded:L,onToggle:()=>k(!L)}),L&&o.jsxs("div",{children:[o.jsx(vx,{border:t.border||{},onChange:H}),o.jsx(bx,{boxShadow:t.boxShadow||{},onChange:W})]})]}),h&&o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx(Vo,{icon:"mdi:code-braces",title:f("Custom CSS"),isExpanded:C,onToggle:()=>S(!C)}),C&&o.jsx(wx,{customCSS:c,customClass:d,onChange:h,onClassChange:m})]})]})},kx=t=>`lb-${t.toLowerCase()}`,rn=(t,l={})=>{const i=["lb-block",kx(t)];return l.customClass&&i.push(l.customClass),i.join(" ")},on=(t,l="")=>{const i=Ri(t?.layoutStyles),a=t?.customCSS||"";return[i,l,a].filter(Boolean).join("; ")},Cx=(t="20px")=>`
<table width="100%" cellpadding="0" cellspacing="0" border="0" role="presentation">
    <tr>
        <td style="height: ${t}; line-height: ${t}; font-size: 1px;">&nbsp;</td>
    </tr>
</table>`.trim(),Sx="heading",jx="1.0.0",Ex="Heading",Nx="Content",Tx="mdi:format-header-1",$x="Add a heading to your content",Rx=["heading","title","h1","h2","h3"],Lx=["email","page","campaign"],Ax={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,headingLevel:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Ix={text:"",level:"h1",align:"left",color:"#333333",fontSize:"32px",fontWeight:"bold",lineHeight:"1.2",letterSpacing:"0"},Bx={type:Sx,version:jx,label:Ex,category:Nx,icon:Tx,description:$x,keywords:Rx,contexts:Lx,supports:Ax,defaultProps:Ix};function _f({isOpen:t,searchQuery:l="",onSelect:i,onClose:a,position:c={top:0,left:0},context:d="post"}){const[h,m]=x.useState(0),g=x.useRef(null),y=x.useRef([]),v=Ke.getBlocksForContext(d).filter(k=>{if(!l)return!0;const C=l.toLowerCase();return k.label.toLowerCase().includes(C)||k.type.toLowerCase().includes(C)||k.keywords&&k.keywords.some(S=>S.toLowerCase().includes(C))});x.useEffect(()=>{m(0)},[l]),x.useEffect(()=>{y.current[h]&&y.current[h].scrollIntoView({block:"nearest"})},[h]);const j=x.useCallback(k=>{if(t)switch(k.key){case"ArrowDown":k.preventDefault(),m(C=>C<v.length-1?C+1:C);break;case"ArrowUp":k.preventDefault(),m(C=>C>0?C-1:C);break;case"Enter":k.preventDefault(),v[h]&&i(v[h].type);break;case"Escape":k.preventDefault(),a();break}},[t,v,h,i,a]);if(x.useEffect(()=>{if(t)return document.addEventListener("keydown",j,!0),()=>document.removeEventListener("keydown",j,!0)},[t,j]),x.useEffect(()=>{if(!t)return;const k=C=>{g.current&&!g.current.contains(C.target)&&a()};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[t,a]),!t)return null;const E=v.reduce((k,C)=>{const S=C.category||"Other";return k[S]||(k[S]=[]),k[S].push(C),k},{});let L=0;return o.jsx("div",{ref:g,className:"absolute z-50 bg-white rounded-lg shadow-lg border border-gray-200 w-72 max-h-80 overflow-y-auto",style:{top:c.top,left:c.left},children:v.length===0?o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:f("No blocks found")}):o.jsx("div",{className:"py-2",children:Object.entries(E).map(([k,C])=>o.jsxs("div",{children:[o.jsx("div",{className:"px-3 py-1.5 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(k)}),C.map(S=>{const $=L++,T=$===h;return o.jsxs("button",{ref:R=>y.current[$]=R,className:`w-full px-3 py-2 flex items-center gap-3 text-left transition-colors ${T?"bg-primary/10 text-primary":"hover:bg-gray-50 text-gray-700"}`,onClick:()=>i(S.type),onMouseEnter:()=>m($),children:[S.icon&&o.jsx("iconify-icon",{icon:S.icon,width:"20",height:"20",className:T?"text-primary":"text-gray-400"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:f(S.label)}),S.description&&o.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:f(S.description)})]})]},S.type)})]},k))})})}function Vd(t){return!t||t==="<br>"||t==="<br/>"?!0:t.replace(/<br\s*\/?>/gi,"").trim()===""}function Kd(t){return t?t.trim()==="":!0}function Gd(t,l,i){const a=i(t),c=i(l);return a&&c?!1:a!==c?!0:l!==t}function ol({editorRef:t,contentKey:l="content",useInnerHTML:i=!0,propsRef:a,onUpdateRef:c,lastContentRef:d}){const h=x.useCallback(b=>i?Vd(b):Kd(b),[i]),m=x.useCallback(()=>t.current?i?t.current.innerHTML:t.current.textContent:"",[t,i]),g=x.useCallback(()=>{if(!t.current)return!1;const b=m(),v=d.current;return Gd(v,b,h)?(d.current=b,c.current({...a.current,[l]:b}),!0):!1},[t,m,d,h,c,a,l]),y=x.useCallback(()=>h(m()),[h,m]);return{handleContentChange:g,getContent:m,isEmpty:h,isCurrentContentEmpty:y,isHtmlContentEmpty:Vd,isTextContentEmpty:Kd,hasContentChanged:(b,v)=>Gd(b,v,h)}}const _x=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a,onInsertBlockAfter:c,onDelete:d,onReplaceBlock:h,context:m="post"})=>{const g=x.useRef(null),y=x.useRef(t.text),b=x.useRef(t),v=x.useRef(l),[j,E]=x.useState(!1),[L,k]=x.useState(""),[C,S]=x.useState({top:0,left:0});b.current=t,v.current=l;const $=x.useRef(c);$.current=c;const T=x.useRef(d);T.current=d;const R=x.useRef(h);R.current=h;const P=x.useCallback(()=>g.current&&g.current.textContent||"",[]),z=x.useCallback(()=>g.current?{top:g.current.getBoundingClientRect().height+4,left:0}:{top:40,left:8},[]),H=x.useCallback(V=>{E(!1),k(""),R.current&&R.current(V)},[]),{handleContentChange:W,isEmpty:q}=ol({editorRef:g,contentKey:"text",useInnerHTML:!0,propsRef:b,onUpdateRef:v,lastContentRef:y}),K=x.useCallback(V=>{if(j){if(["ArrowDown","ArrowUp","Escape"].includes(V.key))return;if(V.key==="Enter"){V.preventDefault(),V.stopPropagation();return}}if(V.key==="Enter"&&!V.shiftKey){if(V.preventDefault(),V.stopPropagation(),j)return;if(g.current){const I=g.current.innerHTML;y.current=I,v.current({...b.current,text:I})}$.current&&$.current("text")}if(V.key==="Backspace"){const I=g.current?.innerHTML||"";q(I)&&(V.preventDefault(),V.stopPropagation(),T.current&&T.current())}V.key==="Escape"&&j&&(V.preventDefault(),E(!1),k(""))},[j,q]),X=x.useCallback(()=>{W();const V=P();if(V.startsWith("/")){const I=V.slice(1);k(I),S(z()),E(!0)}else E(!1),k("")},[W,P,z]),M=x.useCallback(V=>{v.current({...b.current,align:V})},[]);x.useEffect(()=>{i&&g.current&&(g.current.innerHTML===""||g.current.innerHTML==="<br>")&&(g.current.innerHTML=t.text||"",y.current=t.text),i||(E(!1),k(""))},[i]),x.useEffect(()=>{if(i&&g.current&&t.text!==y.current){const V=window.getSelection();let I=0;if(V.rangeCount>0){const F=V.getRangeAt(0),oe=F.cloneRange();oe.selectNodeContents(g.current),oe.setEnd(F.endContainer,F.endOffset),I=oe.toString().length}g.current.innerHTML=t.text||"",y.current=t.text;try{const F=document.createRange(),oe=[],te=document.createTreeWalker(g.current,NodeFilter.SHOW_TEXT,null,!1);let fe;for(;fe=te.nextNode();)oe.push(fe);let ae=0;for(const Ce of oe){const xe=Ce.textContent.length;if(ae+xe>=I){F.setStart(Ce,I-ae),F.collapse(!0),V.removeAllRanges(),V.addRange(F);break}ae+=xe}}catch{g.current.focus()}}},[t.text,i]),x.useEffect(()=>{i&&a?a({editorRef:g,isContentEditable:!0,align:b.current.align||"left",onAlignChange:M}):!i&&a&&a(null)},[i,a,M]),x.useEffect(()=>{i&&g.current&&requestAnimationFrame(()=>{if(g.current){g.current.focus();const V=document.createRange();V.selectNodeContents(g.current),V.collapse(!1);const I=window.getSelection();I.removeAllRanges(),I.addRange(V)}})},[i]);const Z=V=>{switch(V){case"h1":return"32px";case"h2":return"28px";case"h3":return"24px";case"h4":return"20px";case"h5":return"18px";case"h6":return"16px";default:return"32px"}},ne={textAlign:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||Z(t.level),fontWeight:t.fontWeight||"bold",lineHeight:t.lineHeight||"1.3",margin:0,padding:"8px",borderRadius:"4px"},ue=ze(ne,t.layoutStyles),ke=q(t.text),he=t.text&&P().startsWith("/");if(i)return o.jsxs("div",{"data-text-editing":"true","data-no-selection-style":"true",className:"relative",children:[o.jsx("div",{ref:g,contentEditable:!0,suppressContentEditableWarning:!0,onInput:X,onBlur:X,onKeyDown:K,style:{...ue,width:"100%",outline:"none",minHeight:"1.5em"}}),ke&&!he&&o.jsx("div",{style:{position:"absolute",top:ue.padding||"8px",left:ue.padding||"8px",color:"#9ca3af",pointerEvents:"none",fontSize:ue.fontSize,fontWeight:ue.fontWeight,lineHeight:ue.lineHeight||"1.3"},children:f("Heading")}),j&&o.jsx(_f,{isOpen:j,searchQuery:L,onSelect:H,onClose:()=>{E(!1),k("")},position:C,context:m})]});const U=t.level||"h1",ee=()=>t.text?o.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}}):o.jsx("span",{style:{color:"#9ca3af"},children:f("Heading")});return o.jsx(U,{style:ue,children:ee()})},Dx=(t,l={})=>{const i={text:t.text||"",level:t.level||"h2",align:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||"32px",fontWeight:t.fontWeight||"bold",lineHeight:t.lineHeight||"1.2",letterSpacing:t.letterSpacing||"0",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""},a=l.blockId||t._blockId||"",c=JSON.stringify(i).replace(/'/g,"&#39;");return`<div data-lara-block="heading" data-block-id="${a}" data-props='${c}'></div>`},Px=(t,l={})=>{const i=t.level||"h2",a=t.text||"",c=t.align||"left",d=t.color||"#333333",h=t.fontSize||"24px",m=t.fontWeight||"700";return`<${i} style="text-align: ${c}; color: ${d}; font-size: ${h}; font-weight: ${m}; margin: 0 0 16px 0;">${a}</${i}>`},Mx={page:Dx,email:Px},Ox={h1:"32px",h2:"28px",h3:"24px",h4:"20px",h5:"18px",h6:"16px"},zx=[{name:"level",type:"select",label:f("Heading Level"),section:f("Content"),options:[{value:"h1",label:f("H1 - Main Heading")},{value:"h2",label:f("H2 - Section Heading")},{value:"h3",label:f("H3 - Subsection")},{value:"h4",label:f("H4 - Minor Heading")},{value:"h5",label:f("H5 - Small Heading")},{value:"h6",label:f("H6 - Smallest Heading")}],linkedFields:{fontSize:t=>Ox[t]||"24px"}}],Hx=Ge(Bx,{block:_x,save:Mx,fields:zx}),Fx="text",Wx="1.0.0",Ux="Text",Vx="Content",Kx="mdi:format-text",Gx="Add a paragraph of text to your content",Xx=["text","paragraph","content","body"],Yx=["email","page","campaign"],Qx={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,link:!0,clearFormat:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},qx={content:"",align:"left",color:"#666666",fontSize:"16px",lineHeight:"1.6"},Jx={type:Fx,version:Wx,label:Ux,category:Vx,icon:Kx,description:Gx,keywords:Xx,contexts:Yx,supports:Qx,defaultProps:qx};function Zx({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a,onInsertBlockAfter:c,onDelete:d,onReplaceBlock:h,context:m="post"}){const g=x.useRef(null),y=x.useRef(t.content),b=x.useRef(t),v=x.useRef(l),[j,E]=x.useState(!1),[L,k]=x.useState(""),[C,S]=x.useState({top:0,left:0});b.current=t,v.current=l;const $=x.useRef(c);$.current=c;const T=x.useRef(d);T.current=d;const R=x.useRef(h);R.current=h;const P=x.useCallback(()=>g.current&&g.current.textContent||"",[]),z=x.useCallback(()=>g.current?{top:g.current.getBoundingClientRect().height+4,left:0}:{top:40,left:8},[]),H=x.useCallback(U=>{E(!1),k(""),R.current&&R.current(U)},[]),{handleContentChange:W,isEmpty:q}=ol({editorRef:g,contentKey:"content",useInnerHTML:!0,propsRef:b,onUpdateRef:v,lastContentRef:y}),K=x.useCallback(U=>{if(j){if(["ArrowDown","ArrowUp","Escape"].includes(U.key))return;if(U.key==="Enter"){U.preventDefault(),U.stopPropagation();return}}if(U.key==="Enter"&&!U.shiftKey){if(U.preventDefault(),U.stopPropagation(),j)return;if(g.current){const ee=g.current.innerHTML;y.current=ee,v.current({...b.current,content:ee})}$.current&&$.current("text")}if(U.key==="Backspace"){const ee=g.current?.innerHTML||"";q(ee)&&(U.preventDefault(),U.stopPropagation(),T.current&&T.current())}U.key==="Escape"&&j&&(U.preventDefault(),E(!1),k(""))},[j,q]),X=x.useCallback(()=>{W();const U=P();if(U.startsWith("/")){const ee=U.slice(1);k(ee),S(z()),E(!0)}else E(!1),k("")},[W,P,z]),M=x.useCallback(U=>{v.current({...b.current,align:U})},[]);x.useEffect(()=>{i&&g.current&&(g.current.innerHTML===""||g.current.innerHTML==="<br>")&&(g.current.innerHTML=t.content||"",y.current=t.content),i||(E(!1),k(""))},[i]),x.useEffect(()=>{if(i&&g.current&&t.content!==y.current){const U=window.getSelection();let ee=0;if(U.rangeCount>0){const V=U.getRangeAt(0),I=V.cloneRange();I.selectNodeContents(g.current),I.setEnd(V.endContainer,V.endOffset),ee=I.toString().length}g.current.innerHTML=t.content||"",y.current=t.content;try{const V=document.createRange(),I=[],F=document.createTreeWalker(g.current,NodeFilter.SHOW_TEXT,null,!1);let oe;for(;oe=F.nextNode();)I.push(oe);let te=0;for(const fe of I){const ae=fe.textContent.length;if(te+ae>=ee){V.setStart(fe,ee-te),V.collapse(!0),U.removeAllRanges(),U.addRange(V);break}te+=ae}}catch{g.current.focus()}}},[t.content,i]),x.useEffect(()=>{i&&a?a({editorRef:g,isContentEditable:!0,align:b.current.align||"left",onAlignChange:M}):!i&&a&&a(null)},[i,a,M]),x.useEffect(()=>{i&&g.current&&requestAnimationFrame(()=>{if(g.current){g.current.focus();const U=document.createRange();U.selectNodeContents(g.current),U.collapse(!1);const ee=window.getSelection();ee.removeAllRanges(),ee.addRange(U)}})},[i]);const Z={textAlign:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",padding:"8px",borderRadius:"4px",minHeight:"40px"},ne=ze(Z,t.layoutStyles),ue=q(t.content),ke=t.content&&P().startsWith("/");if(i)return o.jsxs("div",{"data-text-editing":"true","data-no-selection-style":"true",className:"relative",children:[o.jsx("div",{ref:g,contentEditable:!0,suppressContentEditableWarning:!0,onInput:X,onBlur:X,onKeyDown:K,style:{...ne,width:"100%",outline:"none"}}),ue&&!ke&&o.jsx("div",{style:{position:"absolute",top:ne.padding||"8px",left:ne.padding||"8px",color:"#9ca3af",pointerEvents:"none",fontSize:ne.fontSize||"16px",lineHeight:ne.lineHeight||"1.6"},children:f("Type / to choose a block")}),j&&o.jsx(_f,{isOpen:j,searchQuery:L,onSelect:H,onClose:()=>{E(!1),k("")},position:C,context:m})]});const he=()=>t.content?o.jsx("span",{dangerouslySetInnerHTML:{__html:t.content}}):o.jsx("span",{style:{color:"#9ca3af"},children:f("Type / to choose a block")});return o.jsx("div",{style:ne,children:he()})}const ey=(t,l={})=>{const i={content:t.content||"",align:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="text" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},ty=(t,l={})=>{const i=t.content||"",a=t.align||"left",c=t.color||"#333333",d=t.fontSize||"16px",h=t.lineHeight||"1.6";return`<div style="text-align: ${a}; color: ${c}; font-size: ${d}; line-height: ${h};">${i}</div>`},ny={page:ey,email:ty},ry=Ge(Jx,{block:Zx,save:ny}),oy="text-editor",ly="1.0.0",iy="Text Editor",sy="Content",ay="mdi:text-box-edit-outline",cy="Rich text editor with formatting",uy=["text","editor","rich","wysiwyg","formatting"],dy=["email","page","campaign"],fy={align:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},hy={content:"",align:"left",color:"#333333",fontSize:"16px",lineHeight:"1.6"},py={type:oy,version:ly,label:iy,category:sy,icon:ay,description:cy,keywords:uy,contexts:dy,supports:fy,defaultProps:hy},gy=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a})=>{x.useRef(null);const c=x.useRef(null),[d,h]=x.useState(!1),[m,g]=x.useState(!1),y=x.useRef(t),b=x.useRef(l),v=x.useRef(null);y.current=t,b.current=l,x.useEffect(()=>{if(!i||d||m)return;if(typeof window.tinymce>"u"){const C=document.createElement("script");C.src="/vendor/tinymce/tinymce.min.js",C.onload=()=>k(),document.head.appendChild(C)}else k();function k(){!c.current||v.current||(g(!0),window.tinymce.init({target:c.current,inline:!0,menubar:!1,statusbar:!1,toolbar_mode:"floating",toolbar:"bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright | bullist numlist | link | removeformat",plugins:"link lists",placeholder:"Start typing...",content_style:`
                    body {
                        font-family: system-ui, -apple-system, sans-serif;
                        font-size: ${t.fontSize||"16px"};
                        line-height: ${t.lineHeight||"1.6"};
                        color: ${t.color||"#333333"};
                        margin: 0;
                        padding: 0;
                    }
                    p { margin: 0 0 1em 0; }
                    p:last-child { margin-bottom: 0; }
                `,setup:C=>{v.current=C,C.on("init",()=>{h(!0),g(!1),C.setContent(y.current.content||""),C.focus()}),C.on("change keyup",()=>{const S=C.getContent();S!==y.current.content&&b.current({...y.current,content:S})}),C.on("blur",()=>{const S=C.getContent();S!==y.current.content&&b.current({...y.current,content:S})})},toolbar_sticky:!1,ui_mode:"split",quickbars_selection_toolbar:"bold italic underline | forecolor | link",quickbars_insert_toolbar:!1}))}return()=>{if(v.current){const C=v.current.getContent();C!==y.current.content&&b.current({...y.current,content:C}),v.current.destroy(),v.current=null,h(!1),g(!1)}}},[i]),x.useEffect(()=>{if(!i&&v.current){const k=v.current.getContent();k!==y.current.content&&b.current({...y.current,content:k}),v.current.destroy(),v.current=null,h(!1)}},[i]);const j=x.useCallback(k=>{b.current({...y.current,align:k})},[]);x.useEffect(()=>{i&&a?a({editorRef:c,isContentEditable:!0,align:y.current.align||"left",onAlignChange:j,isTinyMCE:!0}):!i&&a&&a(null)},[i,a,j]);const E={textAlign:t.align||"left",color:t.color||"#333333",fontSize:t.fontSize||"16px",lineHeight:t.lineHeight||"1.6",padding:"8px",borderRadius:"4px",minHeight:"40px"};if(i)return o.jsxs("div",{"data-text-editing":"true",className:"relative",children:[o.jsx("div",{ref:c,className:"focus-within:ring-2 focus-within:ring-primary rounded",style:{...E,width:"100%",outline:"none",background:"white",cursor:"text"}}),m&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50",children:o.jsx("span",{className:"text-sm text-gray-500",children:"Loading editor..."})})]});const L=()=>{const k=t.content||"<p>Click to edit with rich text editor...</p>";return o.jsx("div",{dangerouslySetInnerHTML:{__html:k}})};return o.jsx("div",{style:E,children:L()})},my=(t,l={})=>{const a=rn("text-editor",t),c=[];t.align&&c.push(`text-align: ${t.align}`),t.color&&!t.layoutStyles?.typography?.color&&c.push(`color: ${t.color}`),t.fontSize&&!t.layoutStyles?.typography?.fontSize&&c.push(`font-size: ${t.fontSize}`),t.lineHeight&&!t.layoutStyles?.typography?.lineHeight&&c.push(`line-height: ${t.lineHeight}`);const d=on(t,c.join("; "));return`<div class="${a}" style="${d}">${t.content||""}</div>`},xy=(t,l={})=>`<div style="text-align: ${t.align||"left"}; color: ${t.color||"#333333"}; font-size: ${t.fontSize||"16px"}; line-height: ${t.lineHeight||"1.6"};">${t.content||""}</div>`,yy={page:my,email:xy},vy=Ge(py,{block:gy,save:yy}),by="image",wy="1.0.0",ky="Image",Cy="Content",Sy="mdi:image-outline",jy="Add an image to your content",Ey=["image","picture","photo","media"],Ny=["email","page","campaign"],Ty={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},$y={src:"",alt:"Image description",width:"100%",height:"auto",customWidth:"",customHeight:"",align:"center",link:""},Ry={type:by,version:wy,label:ky,category:Cy,icon:Sy,description:jy,keywords:Ey,contexts:Ny,supports:Ty,defaultProps:$y},Ly=({props:t,onUpdate:l,isSelected:i})=>{const[a,c]=x.useState(!1),h={textAlign:Tr(t.layoutStyles||{}).textAlign||t.align||"center",padding:"8px",borderRadius:"4px"},m=ze(h,t.layoutStyles),g=()=>t.width==="custom"&&t.customWidth?t.customWidth:t.width||"100%",y=()=>t.height==="custom"&&t.customHeight?t.customHeight:t.height||"auto",b=t.width==="custom"&&t.customWidth,v=t.height==="custom"&&t.customHeight,j={maxWidth:g(),width:b?t.customWidth:void 0,height:y(),display:"inline-block",objectFit:b||v?"cover":void 0},E=x.useCallback(async C=>{C.stopPropagation();try{const S=await Zo.selectImage();S&&l&&l({...t,src:S.url,alt:t.alt||S.name||""})}catch{}},[t,l]),L=x.useCallback(C=>{C.stopPropagation(),l&&l({...t,src:""})},[t,l]),k=i||a;return o.jsx("div",{style:m,children:t.src?o.jsxs("div",{style:{position:"relative",display:"inline-block"},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[o.jsx("img",{src:t.src,alt:t.alt||"",style:j}),k&&o.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",borderRadius:"4px",transition:"opacity 0.2s ease"},children:[o.jsxs("button",{type:"button",onClick:E,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"var(--color-primary, #635bff)",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[o.jsx("iconify-icon",{icon:"lucide:image",width:"16",height:"16"}),f("Change")]}),o.jsx("button",{type:"button",onClick:L,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},title:f("Remove image"),children:o.jsx("iconify-icon",{icon:"lucide:trash-2",width:"16",height:"16"})})]})]}):o.jsxs("div",{onClick:E,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{cursor:"pointer"},className:`bg-gray-100 dark:bg-gray-800 border-2 border-dashed ${a||i?"border-primary bg-primary/10 dark:bg-primary/20":"border-gray-300 dark:border-gray-600"} text-gray-500 dark:text-gray-400 p-8 rounded-lg text-center transition-colors`,children:[o.jsx("iconify-icon",{icon:a||i?"lucide:upload":"mdi:image-plus",width:"40",height:"40",class:"mb-2",style:{color:a||i?"var(--color-primary, #635bff)":void 0}}),o.jsx("div",{className:"text-sm font-medium",children:f(a||i?"Click to select image":"Click to add image")}),o.jsx("div",{className:"text-xs mt-1 opacity-70",children:f("or use the properties panel")})]})})},Ay=(t,l={})=>{const i={src:t.src||"",alt:t.alt||"Image",width:t.width||"100%",height:t.height||"auto",customWidth:t.customWidth||"",customHeight:t.customHeight||"",align:t.align||"center",link:t.link||"",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="image" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Iy=(t,l={})=>{const i=t.src||"",a=t.alt||"Image",c=t.align||"center",d=t.link||"",h=t.width==="custom"&&t.customWidth,m=t.height==="custom"&&t.customHeight,g=h?t.customWidth:t.width||"100%",y=m?t.customHeight:t.height||"auto",b=`max-width: ${g};${h?` width: ${t.customWidth};`:""} height: ${y}; display: block; margin: 0 auto;${y!=="auto"?" object-fit: cover;":""}`,v=`<img src="${i}" alt="${a}" style="${b}" />`;return d?`<a href="${d}" target="_blank" style="display: block; text-align: ${c};">${v}</a>`:`<div style="text-align: ${c};">${v}</div>`},By={page:Ay,email:Iy},_y=[{name:"src",type:"image",label:f("Image"),section:f("Content")},{name:"alt",type:"text",label:f("Alt Text"),placeholder:f("Describe the image..."),section:f("Content")},{name:"link",type:"url",label:f("Link URL"),placeholder:"https://...",section:f("Link")},{name:"width",type:"select",label:f("Width"),section:f("Size"),options:[{value:"100%",label:f("Full Width")+" (100%)"},{value:"75%",label:f("Three Quarters")+" (75%)"},{value:"50%",label:f("Half")+" (50%)"},{value:"25%",label:f("Quarter")+" (25%)"},{value:"custom",label:f("Custom")}]},{name:"customWidth",type:"text",label:f("Custom Width"),placeholder:f("e.g., 300px"),section:f("Size")},{name:"height",type:"select",label:f("Height"),section:f("Size"),options:[{value:"auto",label:f("Auto")},{value:"custom",label:f("Custom")}]},{name:"customHeight",type:"text",label:f("Custom Height"),placeholder:f("e.g., 200px"),section:f("Size")}],Dy=Ge(Ry,{block:Ly,save:By,fields:_y}),Py="button",My="1.0.0",Oy="Button",zy="Content",Hy="mdi:button-cursor",Fy="Add a call-to-action button",Wy=["button","cta","link","action"],Uy=["email","page","campaign"],Vy={align:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Ky={text:"Click Here",link:"#",backgroundColor:"#635bff",textColor:"#ffffff",borderRadius:"6px",padding:"12px 24px",align:"center",fontSize:"16px",fontWeight:"600"},Gy={type:Py,version:My,label:Oy,category:zy,icon:Hy,description:Fy,keywords:Wy,contexts:Uy,supports:Vy,defaultProps:Ky},Xy=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a})=>{const c=x.useRef(null),d=x.useRef(t.text),h=x.useRef(t),m=x.useRef(l);h.current=t,m.current=l;const{handleContentChange:g}=ol({editorRef:c,contentKey:"text",useInnerHTML:!0,propsRef:h,onUpdateRef:m,lastContentRef:d}),y=x.useCallback(()=>{g()},[g]),b=x.useCallback(k=>{m.current({...h.current,align:k})},[]);x.useEffect(()=>{i&&c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"Button Text",d.current=t.text)},[i]),x.useEffect(()=>{if(i&&c.current&&t.text!==d.current){const k=window.getSelection();let C=0;if(k.rangeCount>0){const S=k.getRangeAt(0),$=S.cloneRange();$.selectNodeContents(c.current),$.setEnd(S.endContainer,S.endOffset),C=$.toString().length}c.current.innerHTML=t.text||"",d.current=t.text;try{const S=document.createRange(),$=[],T=document.createTreeWalker(c.current,NodeFilter.SHOW_TEXT,null,!1);let R;for(;R=T.nextNode();)$.push(R);let P=0;for(const z of $){const H=z.textContent.length;if(P+H>=C){S.setStart(z,C-P),S.collapse(!0),k.removeAllRanges(),k.addRange(S);break}P+=H}}catch{c.current.focus()}}},[t.text,i]),x.useEffect(()=>{i&&a?a({editorRef:c,isContentEditable:!0,align:h.current.align||"center",onAlignChange:b}):!i&&a&&a(null)},[i,a,b]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const k=document.createRange();k.selectNodeContents(c.current),k.collapse(!1);const C=window.getSelection();C.removeAllRanges(),C.addRange(k)}})},[i]);const v={textAlign:t.align||"center",padding:"10px 8px",borderRadius:"4px"},j=ze(v,t.layoutStyles),E={display:"inline-block",backgroundColor:t.backgroundColor||"#635bff",color:t.textColor||"#ffffff",padding:t.padding||"12px 24px",borderRadius:t.borderRadius||"6px",textDecoration:"none",fontSize:t.fontSize||"16px",fontWeight:t.fontWeight||"600",cursor:i?"text":"default",border:"none",outline:"none",minWidth:"80px"};if(i)return o.jsx("div",{"data-text-editing":"true",style:j,children:o.jsx("span",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:y,onBlur:y,onKeyDown:k=>{k.key==="Enter"&&k.preventDefault()},style:E,role:"textbox","aria-label":"Button text"})});const L=()=>{const k=t.text||"Button Text";return/<[^>]+>/.test(k)?o.jsx("span",{dangerouslySetInnerHTML:{__html:k}}):k};return o.jsx("div",{style:j,children:o.jsx("button",{type:"button",style:E,children:L()})})},Yy=(t,l={})=>{const i={text:t.text||"Click Here",link:t.link||"",target:t.target||"_self",align:t.align||"center",backgroundColor:t.backgroundColor||"#635bff",textColor:t.textColor||"#ffffff",borderRadius:t.borderRadius||"6px",padding:t.padding||"12px 24px",fontSize:t.fontSize||"16px",fontWeight:t.fontWeight||"600",nofollow:t.nofollow||!1,sponsored:t.sponsored||!1,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="button" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Qy=(t,l={})=>{const i=t.text||"Click Here",a=t.link||"#",c=t.align||"center",d=t.backgroundColor||"#635bff",h=t.textColor||"#ffffff",m=t.borderRadius||"6px",g=t.padding||"12px 24px",y=t.fontSize||"16px",b=t.fontWeight||"600";return`
        <div style="text-align: ${c}; padding: 10px 0;">
            <a href="${a}" target="_blank" style="display: inline-block; background-color: ${d}; color: ${h}; padding: ${g}; border-radius: ${m}; text-decoration: none; font-size: ${y}; font-weight: ${b};">${i}</a>
        </div>
    `},qy={page:Yy,email:Qy},Jy=[{name:"link",type:"url",label:f("Link URL"),placeholder:"https://...",section:f("Content")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Style")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"14px",label:f("Small")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"},{value:"20px",label:f("X-Large")+" (20px)"}]},{name:"fontWeight",type:"select",label:f("Font Weight"),section:f("Typography"),options:[{value:"normal",label:f("Normal")},{value:"500",label:f("Medium")},{value:"600",label:f("Semi Bold")},{value:"bold",label:f("Bold")}]},{name:"borderRadius",type:"select",label:f("Border Radius"),section:f("Style"),options:[{value:"0",label:f("None")},{value:"4px",label:f("Small")+" (4px)"},{value:"6px",label:f("Medium")+" (6px)"},{value:"8px",label:f("Large")+" (8px)"},{value:"12px",label:f("X-Large")+" (12px)"},{value:"9999px",label:f("Pill")}]},{name:"padding",type:"select",label:f("Padding"),section:f("Style"),options:[{value:"8px 16px",label:f("Small")},{value:"12px 24px",label:f("Medium")},{value:"16px 32px",label:f("Large")},{value:"20px 40px",label:f("X-Large")}]}],Zy=Ge(Gy,{block:Xy,save:qy,fields:Jy}),e0="divider",t0="1.0.0",n0="Divider",r0="Layout",o0="mdi:minus",l0="Add a horizontal line divider",i0=["divider","line","separator","hr"],s0=["email","page","campaign"],a0={colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},c0={style:"solid",color:"#e5e7eb",thickness:"1px",width:"100%",margin:"20px 0"},u0={type:e0,version:t0,label:n0,category:r0,icon:o0,description:l0,keywords:i0,contexts:s0,supports:a0,defaultProps:c0},d0=({props:t})=>{const i=ze({padding:"8px",borderRadius:"4px"},t.layoutStyles),a={border:"none",borderTop:`${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}`,width:t.width||"100%",margin:t.margin||"20px 0"};return o.jsx("div",{style:i,children:o.jsx("hr",{style:a})})},f0=(t,l={})=>{const a=rn("divider",t),c=["border: none",`border-top: ${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}`,`width: ${t.width||"100%"}`,`margin: ${t.margin||"20px auto"}`],d=on(t,c.join("; "));return`<hr class="${a}" style="${d}" />`},h0=(t,l={})=>`<hr style="border: none; border-top: ${t.thickness||"1px"} ${t.style||"solid"} ${t.color||"#e5e7eb"}; width: ${t.width||"100%"}; margin: ${t.margin||"20px auto"};" />`,p0={page:f0,email:h0},g0=[{name:"style",type:"select",label:f("Style"),section:f("Appearance"),options:[{value:"solid",label:f("Solid")},{value:"dashed",label:f("Dashed")},{value:"dotted",label:f("Dotted")}]},{name:"color",type:"color",label:f("Color"),section:f("Appearance")},{name:"thickness",type:"select",label:f("Thickness"),section:f("Size"),options:[{value:"1px",label:"1px"},{value:"2px",label:"2px"},{value:"3px",label:"3px"},{value:"4px",label:"4px"}]},{name:"width",type:"select",label:f("Width"),section:f("Size"),options:[{value:"100%",label:f("Full Width")},{value:"75%",label:"75%"},{value:"50%",label:"50%"},{value:"25%",label:"25%"}]}],m0=Ge(u0,{block:d0,save:p0,fields:g0}),x0="spacer",y0="1.0.0",v0="Spacer",b0="Layout",w0="mdi:arrow-expand-vertical",k0="Add vertical spacing between blocks",C0=["spacer","space","gap","padding"],S0=["email","page","campaign"],j0={spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},E0={height:"40px"},N0={type:x0,version:y0,label:v0,category:b0,icon:w0,description:k0,keywords:C0,contexts:S0,supports:j0,defaultProps:E0},T0=({props:t})=>{const i=ze({outline:"1px dashed #d1d5db",borderRadius:"4px",backgroundColor:"transparent"},t.layoutStyles),a={height:t.height||"40px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:"12px"};return o.jsx("div",{style:i,children:o.jsxs("div",{style:a,children:["Spacer (",t.height||"40px",")"]})})},$0=(t,l={})=>{const i=rn("spacer",t),a=`height: ${t.height||"20px"}`,c=on(t,a);return`<div class="${i}" style="${c}"></div>`},R0=(t,l={})=>Cx(t.height||"20px"),L0={page:$0,email:R0},A0=[{name:"height",type:"select",label:f("Height"),section:f("Size"),options:[{value:"10px",label:"10px"},{value:"20px",label:"20px"},{value:"30px",label:"30px"},{value:"40px",label:"40px"},{value:"50px",label:"50px"},{value:"60px",label:"60px"},{value:"80px",label:"80px"},{value:"100px",label:"100px"}]}],I0=Ge(N0,{block:T0,save:L0,fields:A0}),B0="columns",_0="1.0.0",D0="Columns",P0="Layout",M0="mdi:view-column-outline",O0="Create multi-column layouts",z0=["columns","layout","grid","sections"],H0=["email","page","campaign"],F0={columnCount:!0,align:!1,spacing:!0,nesting:!0,layout:!0,html:!0,duplicate:!0,remove:!0},W0={columns:2,gap:"20px",verticalAlign:"stretch",horizontalAlign:"stretch",stackOnMobile:!0,children:[[],[]]},U0={type:B0,version:_0,label:D0,category:P0,icon:M0,description:O0,keywords:z0,contexts:H0,supports:F0,defaultProps:W0},V0=[{id:"improve",label:f("Improve writing"),icon:"mdi:auto-fix",prompt:"Improve the writing quality of this text while keeping the same meaning. Make it more clear, engaging, and professional."},{id:"fix_grammar",label:f("Fix grammar"),icon:"mdi:spellcheck",prompt:"Fix any grammar, spelling, and punctuation errors in this text. Keep the original meaning and tone."},{id:"make_shorter",label:f("Make shorter"),icon:"mdi:text-short",prompt:"Make this text more concise while keeping the key points. Remove unnecessary words and phrases."},{id:"make_longer",label:f("Make longer"),icon:"mdi:text-long",prompt:"Expand this text with more details and explanations while keeping it relevant and engaging."},{id:"simplify",label:f("Simplify"),icon:"mdi:lightbulb-outline",prompt:"Simplify this text to make it easier to understand. Use simpler words and shorter sentences."},{id:"formal",label:f("Make formal"),icon:"mdi:briefcase-outline",prompt:"Rewrite this text in a more formal, professional tone suitable for business communication."},{id:"casual",label:f("Make casual"),icon:"mdi:emoticon-happy-outline",prompt:"Rewrite this text in a more casual, friendly tone while keeping the message clear."},{id:"translate",label:f("Translate to English"),icon:"mdi:translate",prompt:"Translate this text to English. Keep the original meaning and tone."}];function K0({isOpen:t,onClose:l,selectedText:i,onApply:a,position:c={top:0,left:0}}){const[d,h]=x.useState(!1),[m,g]=x.useState(""),[y,b]=x.useState(""),[v,j]=x.useState(""),[E,L]=x.useState(!1),[k,C]=x.useState(c),S=x.useRef(null),$=x.useRef(null);x.useEffect(()=>{if(!t||!S.current){C(c);return}const W=()=>{const q=S.current;if(!q)return;const K=q.getBoundingClientRect(),X=window.innerWidth,M=window.innerHeight,Z=16;let ne=c.top,ue=c.left;c.top+K.height>M-Z&&(ne=Math.max(Z,c.top-K.height-10),ne<Z&&(ne=Z)),c.left+K.width>X-Z&&(ue=Math.max(Z,X-K.width-Z)),ue<Z&&(ue=Z),C({top:ne,left:ue})};return requestAnimationFrame(W),window.addEventListener("resize",W),()=>window.removeEventListener("resize",W)},[t,c]),x.useEffect(()=>{const W=q=>{S.current&&!S.current.contains(q.target)&&l()};return t&&document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[t,l]),x.useEffect(()=>{E&&$.current&&$.current.focus()},[E]),x.useEffect(()=>{t||(b(""),j(""),g(""),L(!1))},[t]);const T=async W=>{await P(W.prompt)},R=async()=>{m.trim()&&await P(m)},P=async W=>{if(!i?.trim()){j(f("No text selected"));return}h(!0),j(""),b("");try{const q=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),X=await(await fetch("/admin/ai/modify-text",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":q,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({text:i,instruction:W})})).json();X.success?b(X.data.text||X.data):j(X.message||f("Failed to modify text"))}catch(q){j(f("Network error. Please try again.")),console.error("AI Text Assistant Error:",q)}finally{h(!1)}},z=()=>{y&&(a(y),l())};if(!t)return null;const H=()=>{const K=window.innerHeight-k.top-32;return Math.min(500,Math.max(300,K))};return cr.createPortal(o.jsxs("div",{ref:S,className:"fixed z-[9999] bg-white rounded-lg shadow-2xl border border-gray-200 w-80 overflow-hidden flex flex-col",style:{top:k.top,left:k.left,maxHeight:`${H()}px`},onClick:W=>W.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-primary/10 shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16",class:"text-primary"}),o.jsx("span",{className:"text-sm font-medium text-gray-800",children:f("AI Assistant")})]}),o.jsx("button",{type:"button",onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"18",height:"18"})})]}),o.jsxs("div",{className:"p-3 flex-1 overflow-y-auto min-h-0",children:[i&&!y&&o.jsxs("div",{className:"mb-3 p-2 bg-gray-50 rounded-md border border-gray-200",children:[o.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[f("Selected text"),":"]}),o.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:i})]}),d&&o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("iconify-icon",{icon:"mdi:loading",width:"24",height:"24",class:"animate-spin text-primary"}),o.jsx("span",{className:"ml-2 text-sm text-gray-600",children:f("Processing...")})]}),v&&!d&&(()=>{const W=v.toLowerCase(),q=W.includes("not configured")||W.includes("api key")||W.includes("contact the administrator");return o.jsxs("div",{className:"mb-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"18",height:"18",class:"text-red-500 shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-red-700 mb-1",children:f("Error")}),o.jsx("p",{className:"text-sm text-red-600 break-words",children:v})]})]}),o.jsxs("div",{className:"mt-3 flex gap-2",children:[q&&o.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[o.jsx("iconify-icon",{icon:"mdi:cog",width:"16",height:"16"}),f("Go to Settings")]}),o.jsx("button",{type:"button",onClick:()=>j(""),className:`btn-danger ${q?"":"flex-1"}`,children:f("Dismiss")})]})]})})(),y&&!d&&o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[f("Result"),":"]}),o.jsx("div",{className:"p-2 bg-green-50 rounded-md border border-green-200 mb-3",children:o.jsx("p",{className:"text-sm text-gray-700",children:y})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:z,className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-green-500 hover:bg-green-600 rounded-md transition-colors",children:f("Apply")}),o.jsx("button",{type:"button",onClick:()=>{b(""),L(!1)},className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:f("Try again")})]})]}),!d&&!y&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:V0.map(W=>o.jsxs("button",{type:"button",onClick:()=>T(W),className:"flex items-center gap-2 p-2 text-left text-sm text-gray-700 bg-gray-50 hover:bg-primary/10 hover:text-primary rounded-md transition-colors border border-gray-200 hover:border-primary/30",children:[o.jsx("iconify-icon",{icon:W.icon,width:"16",height:"16",class:"text-gray-500"}),o.jsx("span",{className:"truncate",children:W.label})]},W.id))}),o.jsx("div",{className:"border-t border-gray-100 pt-3",children:E?o.jsxs("div",{className:"space-y-2",children:[o.jsx("textarea",{ref:$,value:m,onChange:W=>g(W.target.value),placeholder:f("e.g., Make it sound more exciting..."),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:2,onKeyDown:W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),R())}}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{type:"button",onClick:R,disabled:!m.trim(),className:"flex-1 px-3 py-1.5 text-sm font-medium text-white bg-primary hover:opacity-90 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-md transition-colors",children:f("Apply")}),o.jsx("button",{type:"button",onClick:()=>L(!1),className:"px-3 py-1.5 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:f("Cancel")})]})]}):o.jsxs("button",{type:"button",onClick:()=>L(!0),className:"w-full flex items-center justify-center gap-2 p-2 text-sm text-primary hover:opacity-80 hover:bg-primary/10 rounded-md transition-colors",children:[o.jsx("iconify-icon",{icon:"mdi:pencil",width:"16",height:"16"}),f("Custom instruction...")]})})]})]})]}),document.body)}const G0=t=>Ke.get(t),Df=({align:t,onAlignChange:l,showJustify:i=!1})=>{const[a,c]=x.useState(!1),d=x.useRef(null),h=[{value:"left",label:f("Align text left"),icon:"mdi:format-align-left"},{value:"center",label:f("Align text center"),icon:"mdi:format-align-center"},{value:"right",label:f("Align text right"),icon:"mdi:format-align-right"},...i?[{value:"justify",label:f("Justify text"),icon:"mdi:format-align-justify"}]:[]],m=h.find(b=>b.value===t)||h[0];x.useEffect(()=>{const b=v=>{d.current&&!d.current.contains(v.target)&&c(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const g=b=>{l(b),c(!1)};return o.jsxs("div",{className:"relative",ref:d,children:[o.jsxs("button",{type:"button",onClick:()=>c(!a),className:`p-1.5 pb-1 rounded hover:bg-gray-100 transition-colors text-gray-600 flex items-center gap-0.5 ${a?"bg-gray-100":""}`,title:m.label,children:[o.jsx("iconify-icon",{icon:m.icon,width:"16",height:"16"}),o.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"12",height:"12",class:"text-gray-400"})]}),a&&o.jsx("div",{className:"absolute left-0 top-full mt-1 w-44 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:h.map(b=>o.jsxs("button",{type:"button",onClick:()=>g(b.value),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${t===b.value?"text-primary bg-primary/5":"text-gray-700"}`,children:[o.jsx("iconify-icon",{icon:b.icon,width:"16",height:"16",class:t===b.value?"text-primary":"text-gray-500"}),o.jsx("span",{children:b.label})]},b.value))})]})},X0=({align:t,onAlignChange:l})=>o.jsx(Df,{align:t,onAlignChange:l,showJustify:!1}),Y0=()=>[{id:"highlight",label:f("Highlight"),icon:"mdi:marker",tag:"mark",position:10},{id:"inlineCode",label:f("Inline code"),icon:"mdi:code-tags",tag:"code",position:20},{id:"keyboard",label:f("Keyboard input"),icon:"mdi:keyboard",tag:"kbd",position:30},{id:"strikethrough",label:f("Strikethrough"),icon:"mdi:format-strikethrough",command:"strikeThrough",position:40},{id:"subscript",label:f("Subscript"),icon:"mdi:format-subscript",command:"subscript",position:50},{id:"superscript",label:f("Superscript"),icon:"mdi:format-superscript",command:"superscript",position:60}],Q0=({editorRef:t,saveSelection:l,restoreSelection:i})=>{const[a,c]=x.useState(!1),d=x.useRef(null),h=x.useMemo(()=>{const v=Y0();return[...de.applyFilters(ye.FILTER_MORE_TEXT_CONTROLS,v)].sort((E,L)=>(E.position||100)-(L.position||100))},[]);x.useEffect(()=>{const v=j=>{d.current&&!d.current.contains(j.target)&&c(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=(v,j=null)=>{i(),document.execCommand(v,!1,j),t?.current&&t.current.focus()},g=(v,j={})=>{i();const E=window.getSelection();if(!E||E.rangeCount===0)return;const L=E.getRangeAt(0);if(L.collapsed||!L.toString())return;const C=document.createElement(v);j.className&&(C.className=j.className),j.style&&Object.assign(C.style,j.style),j.attributes&&Object.entries(j.attributes).forEach(([$,T])=>{C.setAttribute($,T)});try{L.surroundContents(C)}catch{const T=L.extractContents();C.appendChild(T),L.insertNode(C)}const S=document.createRange();S.setStartAfter(C),S.setEndAfter(C),E.removeAllRanges(),E.addRange(S),t?.current&&t.current.focus()},y=v=>{v.onClick?v.onClick(m,g):v.command?m(v.command,v.commandValue||null):v.tag&&g(v.tag,{className:v.className,style:v.style,attributes:v.attributes}),c(!1)};return o.jsxs("div",{className:"relative",ref:d,children:[o.jsx("button",{type:"button",onMouseDown:l,onClick:()=>c(!a),className:`p-1.5 pb-0 rounded hover:bg-gray-100 transition-colors text-gray-600 ${a?"bg-gray-100":""}`,title:f("More text controls"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"16",height:"16"})}),a&&o.jsx("div",{className:"absolute left-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:h.map((v,j)=>o.jsx("div",{children:v.type==="separator"?o.jsx("div",{className:"border-t border-gray-100 my-1"}):o.jsxs("button",{type:"button",onClick:()=>y(v),className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",disabled:v.disabled,children:[o.jsx("iconify-icon",{icon:v.icon||"mdi:format-text",width:"16",height:"16",class:"text-gray-500"}),o.jsx("span",{children:v.label})]})},v.id||j))})]})},q0=({editorRef:t,align:l,onAlignChange:i,supports:a={},onContentChange:c})=>{const d=a.bold!==!1,h=a.italic!==!1,m=a.underline!==!1,g=a.link===!0,y=a.justify===!0,b=a.clearFormat!==!1,v=a.moreControls!==!1,j=a.aiAssistant!==!1,[E,L]=x.useState(!1),[k,C]=x.useState(""),S=x.useRef(null),$=x.useRef(null),[T,R]=x.useState(!1),[P,z]=x.useState(""),[H,W]=x.useState({top:0,left:0}),q=x.useRef(null);x.useEffect(()=>{E&&S.current&&S.current.focus()},[E]);const K=()=>{const te=window.getSelection();te.rangeCount>0&&($.current=te.getRangeAt(0).cloneRange())},X=()=>{if($.current){const te=window.getSelection();te.removeAllRanges(),te.addRange($.current)}},M=(te,fe=null)=>{X(),document.execCommand(te,!1,fe),t?.current&&t.current.focus()},Z=()=>M("bold"),ne=()=>M("italic"),ue=()=>M("underline"),ke=()=>{K(),window.getSelection().toString().length!==0&&L(!0)},he=()=>{if(!k.trim()){L(!1);return}X(),document.execCommand("createLink",!1,k),C(""),L(!1),t?.current&&t.current.focus()},U=te=>{te.key==="Enter"?(te.preventDefault(),he()):te.key==="Escape"&&(L(!1),C(""))},ee=()=>{X(),document.execCommand("removeFormat",!1,null),document.execCommand("unlink",!1,null),t?.current&&t.current.focus()},V=te=>{te.stopPropagation(),te.preventDefault();const ae=window.getSelection()?.toString()?.trim()||"";if(ae)K(),z(ae);else{const Ce=t?.current?.innerText||"";z(Ce)}if(q.current){const Ce=q.current.getBoundingClientRect(),xe=window.innerWidth;let be=Ce.left-140;be<10&&(be=10),be+320>xe-10&&(be=xe-330),W({top:Ce.bottom+8,left:be})}R(!0)},I=x.useCallback(te=>{$.current&&!$.current.collapsed?(X(),document.execCommand("insertText",!1,te)):t?.current&&(t.current.innerText=te),c&&t?.current&&c(t.current.innerHTML),t?.current&&t.current.focus()},[t,c,X]),F="p-1.5 pb-0 rounded hover:bg-gray-100 transition-colors text-gray-600",oe=d||h||m;return o.jsxs(o.Fragment,{children:[d&&o.jsx("button",{type:"button",onMouseDown:K,onClick:Z,className:F,title:f("Bold"),children:o.jsx("iconify-icon",{icon:"mdi:format-bold",width:"16",height:"16"})}),h&&o.jsx("button",{type:"button",onMouseDown:K,onClick:ne,className:F,title:f("Italic"),children:o.jsx("iconify-icon",{icon:"mdi:format-italic",width:"16",height:"16"})}),m&&o.jsx("button",{type:"button",onMouseDown:K,onClick:ue,className:F,title:f("Underline"),children:o.jsx("iconify-icon",{icon:"mdi:format-underline",width:"16",height:"16"})}),oe&&o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),o.jsx(Df,{align:l,onAlignChange:i,showJustify:y}),g&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{type:"button",onClick:ke,className:F,title:f("Insert Link"),children:o.jsx("iconify-icon",{icon:"mdi:link-variant",width:"16",height:"16"})}),E&&o.jsx("div",{className:"absolute left-0 top-full mt-2 z-50",children:o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-lg border border-gray-200",children:[o.jsx("input",{ref:S,type:"url",value:k,onChange:te=>C(te.target.value),onKeyDown:U,placeholder:f("Enter URL..."),className:"w-48 px-2 py-1 text-sm bg-gray-50 border border-gray-200 rounded text-gray-700 placeholder-gray-400 focus:outline-none focus:border-primary"}),o.jsx("button",{type:"button",onClick:he,className:"p-1 rounded bg-primary text-white hover:bg-primary/80",title:f("Apply"),children:o.jsx("iconify-icon",{icon:"mdi:check",width:"14",height:"14"})}),o.jsx("button",{type:"button",onClick:()=>{L(!1),C("")},className:"p-1 rounded text-gray-400 hover:text-gray-600",title:f("Cancel"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"14",height:"14"})})]})})]})]}),b&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),o.jsx("button",{type:"button",onMouseDown:K,onClick:ee,className:F,title:f("Clear Formatting"),children:o.jsx("iconify-icon",{icon:"mdi:format-clear",width:"16",height:"16"})})]}),j&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"}),o.jsx("button",{ref:q,type:"button",onClick:V,className:"p-1.5 pb-0 rounded hover:bg-primary/10 transition-colors text-primary hover:opacity-80",title:f("AI Assistant"),children:o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})})]}),v&&o.jsx(Q0,{editorRef:t,saveSelection:K,restoreSelection:X}),T&&o.jsx(K0,{isOpen:T,onClose:()=>R(!1),selectedText:P,onApply:I,position:H})]})},J0=({columns:t,onColumnsChange:l})=>{const i=[1,2,3,4,5,6];return o.jsx("div",{className:"flex items-center gap-1",children:i.map(a=>o.jsx("button",{type:"button",onClick:()=>l(a),className:`w-6 h-6 flex items-center justify-center rounded text-xs font-medium transition-colors ${parseInt(t)===a?"bg-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:`${a} Column${a>1?"s":""}`,children:a},a))})},Ba=({block:t,onMoveUp:l,onMoveDown:i,onDelete:a,onDuplicate:c,canMoveUp:d,canMoveDown:h,textFormatProps:m,alignProps:g,columnsProps:y,dragHandleProps:b,position:v="top"})=>{const[j,E]=x.useState(!1),L=x.useRef(null),k=G0(t.type),C=Ff(t.type),S=C.bold||C.italic||C.underline,$=C.align&&!S,T=C.columnCount===!0,P=["text-editor"].includes(t.type);x.useEffect(()=>{const H=W=>{L.current&&!L.current.contains(W.target)&&E(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]);const z=v==="bottom"?"absolute -bottom-10 left-1/2 -translate-x-1/2":"absolute -top-10 left-1/2 -translate-x-1/2";return o.jsxs("div",{className:`lb-block-toolbar ${z} flex items-center gap-0.5 bg-white border border-gray-200 rounded-lg shadow-md px-0.5 py-0.5 z-50`,onClick:H=>H.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-1 border-r border-gray-200 mr-1",children:[o.jsx("iconify-icon",{icon:k?.icon||"mdi:square-outline",width:"16",height:"16",class:"text-gray-600"}),b&&o.jsx("button",{type:"button",className:"flex justify-center items-center p-1 hover:bg-gray-100 rounded transition-colors cursor-grab active:cursor-grabbing",title:f("Drag"),...b,children:o.jsx("iconify-icon",{icon:"mdi:drag",width:"20",height:"20",class:"text-gray-400"})}),o.jsxs("div",{className:"flex flex-col gap-px",children:[o.jsx("button",{type:"button",onClick:l,disabled:!d,className:`p-0.5 hover:bg-gray-100 rounded transition-colors leading-none ${d?"cursor-pointer":"opacity-30 cursor-not-allowed"}`,title:f("Move up"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-up",width:"12",height:"12",class:"text-gray-500 block"})}),o.jsx("button",{type:"button",onClick:i,disabled:!h,className:`p-0.5 hover:bg-gray-100 rounded transition-colors leading-none ${h?"cursor-pointer":"opacity-30 cursor-not-allowed"}`,title:f("Move down"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-down",width:"12",height:"12",class:"text-gray-500 block"})})]})]}),S&&!P&&m&&o.jsxs(o.Fragment,{children:[o.jsx(q0,{editorRef:m.editorRef,align:m.align,onAlignChange:m.onAlignChange,supports:C}),o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),$&&g&&o.jsxs(o.Fragment,{children:[o.jsx(X0,{align:g.align,onAlignChange:g.onAlignChange}),o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),T&&y&&o.jsxs(o.Fragment,{children:[o.jsx(J0,{columns:y.columns,onColumnsChange:y.onColumnsChange}),o.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"})]}),o.jsx("button",{type:"button",onClick:c,className:"p-1.5 rounded hover:bg-gray-100 transition-colors",title:f("Duplicate"),children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),o.jsxs("div",{className:"relative",ref:L,children:[o.jsx("button",{type:"button",onClick:()=>E(!j),className:`p-1.5 rounded transition-colors ${j?"bg-gray-100":"hover:bg-gray-100"}`,title:f("More options"),children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),j&&o.jsxs("div",{className:"absolute right-0 top-full mt-1 w-40 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsxs("button",{type:"button",onClick:()=>{c(),E(!1)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),f("Duplicate")]}),o.jsxs("button",{type:"button",onClick:()=>{l(),E(!1)},disabled:!d,className:`w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 ${d?"":"opacity-50 cursor-not-allowed"}`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),f("Move Up")]}),o.jsxs("button",{type:"button",onClick:()=>{i(),E(!1)},disabled:!h,className:`w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2 ${h?"":"opacity-50 cursor-not-allowed"}`,children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),f("Move Down")]}),o.jsx("div",{className:"border-t border-gray-100 my-1"}),o.jsxs("button",{type:"button",onClick:()=>{a(),E(!1)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f("Delete")]})]})]})]})},Z0=({block:t,columnIndex:l,parentId:i,onSelect:a,selectedBlockId:c,onUpdate:d,onDelete:h,onMoveNested:m,onDuplicateNested:g,blockIndex:y,totalBlocks:b})=>{const[v,j]=x.useState(null),[E,L]=x.useState(null),{attributes:k,listeners:C,setNodeRef:S,transform:$,transition:T,isDragging:R}=Bf({id:t.id,data:{type:"nested",columnIndex:l,parentId:i}}),P={transform:Mn.Transform.toString($),transition:T,opacity:R?.5:1},z=Wf(t.type),H=c===t.id,W=y>0,q=y<b-1,K=M=>{j(M?{editorRef:M.editorRef,align:M.align,onAlignChange:M.onAlignChange}:null)},X=M=>{L(M?{align:M.align,onAlignChange:M.onAlignChange}:null)};return z?o.jsxs("div",{ref:S,style:P,className:`relative group cursor-grab active:cursor-grabbing ${R?"z-50":""}`,onClick:M=>{M.stopPropagation(),a(t.id)},...k,...C,children:[H&&o.jsx(Ba,{block:t,onMoveUp:()=>m(t.id,i,l,"up"),onMoveDown:()=>m(t.id,i,l,"down"),onDelete:()=>h(t.id,i,l),onDuplicate:()=>g(t.id,i,l),canMoveUp:W,canMoveDown:q,textFormatProps:v,alignProps:E}),o.jsx(z,{props:t.props,isSelected:H,onUpdate:M=>d(t.id,M),onRegisterTextFormat:K,onRegisterAlign:X})]}):o.jsxs("div",{ref:S,style:P,className:"p-2 bg-red-100 text-red-600 rounded text-xs",children:["Unknown: ",t.type]})},ev=({columnIndex:t,parentId:l,blocks:i,onSelect:a,selectedBlockId:c,onUpdate:d,onDelete:h,onMoveNested:m,onDuplicateNested:g})=>{const y=`column-${l}-${t}`,{setNodeRef:b,isOver:v}=Di({id:y,data:{type:"column",columnIndex:t,parentId:l}}),j=i.map(E=>E.id);return o.jsx("div",{ref:b,className:`min-h-[60px] p-2 rounded-lg transition-colors ${v?"bg-primary/10 border-2 border-primary border-dashed":i.length===0?"bg-gray-50 border-2 border-dashed border-gray-300":"bg-gray-50/50"}`,children:o.jsx(Af,{items:j,strategy:$f,children:i.length>0?o.jsx("div",{className:"space-y-2",children:i.map((E,L)=>o.jsx(Z0,{block:E,blockIndex:L,totalBlocks:i.length,columnIndex:t,parentId:l,onSelect:a,selectedBlockId:c,onUpdate:d,onDelete:h,onMoveNested:m,onDuplicateNested:g},E.id))}):o.jsx("div",{className:"flex items-center justify-center h-full min-h-[50px] text-gray-400 text-xs",children:o.jsxs("div",{className:"text-center",children:[o.jsx("svg",{className:"mx-auto h-5 w-5 mb-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o.jsx("span",{children:f("Drop here")})]})})})})},tv=({props:t,isSelected:l,blockId:i,onSelect:a,selectedBlockId:c,onUpdateNested:d,onDeleteNested:h,onMoveNestedBlock:m,onDuplicateNestedBlock:g})=>{const{columns:y=2,gap:b="20px",children:v=[],verticalAlign:j="stretch",horizontalAlign:E="stretch"}=t,L=Math.min(Math.max(parseInt(y)||2,1),6),k=Array.from({length:L},(z,H)=>v[H]||[]),C={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},S={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch","space-between":"space-between","space-around":"space-around"},T=ze({padding:"8px 0"},t.layoutStyles),R={display:"flex",flexWrap:"wrap",gap:b,alignItems:C[j]||"stretch",justifyContent:S[E]||"stretch"},P=()=>E==="stretch"?{flex:`1 1 calc(${100/L}% - ${b})`,minWidth:0}:{flex:"0 0 auto",width:`calc(${100/L}% - ${b})`,minWidth:0};return o.jsx("div",{className:"transition-all",style:T,children:o.jsx("div",{style:R,children:k.map((z,H)=>o.jsx("div",{style:P(),children:o.jsx(ev,{columnIndex:H,parentId:i,blocks:z,onSelect:a,selectedBlockId:c,onUpdate:d,onDelete:h,onMoveNested:m,onDuplicateNested:g})},H))})})},nv=({props:t,onUpdate:l})=>{const{columns:i=2,gap:a="20px",verticalAlign:c="stretch",horizontalAlign:d="stretch",stackOnMobile:h=!0}=t,m=k=>{const C=Math.min(Math.max(parseInt(k)||1,1),6),S=t.children||[],$=Array.from({length:C},(T,R)=>S[R]||[]);l({...t,columns:C,children:$})},g=k=>{l({...t,gap:k})},y=k=>{l({...t,verticalAlign:k})},b=k=>{l({...t,horizontalAlign:k})},v=k=>{l({...t,stackOnMobile:k})},j=[{value:"start",label:f("Top"),icon:"align-start-vertical"},{value:"center",label:f("Center"),icon:"align-center-vertical"},{value:"end",label:f("Bottom"),icon:"align-end-vertical"},{value:"stretch",label:f("Stretch"),icon:"align-stretch-vertical"}],E=[{value:"start",label:f("Start"),icon:"align-start"},{value:"center",label:f("Center"),icon:"align-center"},{value:"end",label:f("End"),icon:"align-end"},{value:"stretch",label:f("Stretch"),icon:"align-stretch"},{value:"space-between",label:f("Space Between"),icon:"space-between"},{value:"space-around",label:f("Space Around"),icon:"space-around"}],L=({type:k,isActive:C})=>{const S=C?"currentColor":"#9ca3af";return{"align-start-vertical":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),o.jsx("rect",{x:"6",y:"6",width:"4",height:"10",rx:"1"}),o.jsx("rect",{x:"14",y:"6",width:"4",height:"6",rx:"1"})]}),"align-center-vertical":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"12",x2:"20",y2:"12",strokeDasharray:"2 2"}),o.jsx("rect",{x:"6",y:"7",width:"4",height:"10",rx:"1"}),o.jsx("rect",{x:"14",y:"9",width:"4",height:"6",rx:"1"})]}),"align-end-vertical":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),o.jsx("rect",{x:"6",y:"8",width:"4",height:"10",rx:"1"}),o.jsx("rect",{x:"14",y:"12",width:"4",height:"6",rx:"1"})]}),"align-stretch-vertical":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),o.jsx("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),o.jsx("rect",{x:"6",y:"6",width:"4",height:"12",rx:"1"}),o.jsx("rect",{x:"14",y:"6",width:"4",height:"12",rx:"1"})]}),"align-start":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),o.jsx("rect",{x:"6",y:"6",width:"10",height:"4",rx:"1"}),o.jsx("rect",{x:"6",y:"14",width:"6",height:"4",rx:"1"})]}),"align-center":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeDasharray:"2 2"}),o.jsx("rect",{x:"7",y:"6",width:"10",height:"4",rx:"1"}),o.jsx("rect",{x:"9",y:"14",width:"6",height:"4",rx:"1"})]}),"align-end":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),o.jsx("rect",{x:"8",y:"6",width:"10",height:"4",rx:"1"}),o.jsx("rect",{x:"12",y:"14",width:"6",height:"4",rx:"1"})]}),"align-stretch":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),o.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),o.jsx("rect",{x:"6",y:"6",width:"12",height:"4",rx:"1"}),o.jsx("rect",{x:"6",y:"14",width:"12",height:"4",rx:"1"})]}),"space-between":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("line",{x1:"4",y1:"4",x2:"4",y2:"20"}),o.jsx("line",{x1:"20",y1:"4",x2:"20",y2:"20"}),o.jsx("rect",{x:"5",y:"8",width:"4",height:"8",rx:"1"}),o.jsx("rect",{x:"15",y:"8",width:"4",height:"8",rx:"1"})]}),"space-around":o.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:S,strokeWidth:"2",children:[o.jsx("rect",{x:"6",y:"8",width:"4",height:"8",rx:"1"}),o.jsx("rect",{x:"14",y:"8",width:"4",height:"8",rx:"1"})]})}[k]||null};return o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Number of Columns")}),o.jsx("div",{className:"grid grid-cols-6 gap-2",children:[1,2,3,4,5,6].map(k=>o.jsx("button",{onClick:()=>m(k),className:`
                                px-3 py-2 text-sm font-medium rounded-lg border-2 transition-all
                                ${i===k?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-700 hover:border-gray-300"}
                            `,children:k},k))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Gap Between Columns")}),o.jsxs("select",{value:a,onChange:k=>g(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[o.jsx("option",{value:"0px",children:f("None")}),o.jsxs("option",{value:"8px",children:[f("Small")," (8px)"]}),o.jsxs("option",{value:"12px",children:[f("Medium")," (12px)"]}),o.jsxs("option",{value:"16px",children:[f("Normal")," (16px)"]}),o.jsxs("option",{value:"20px",children:[f("Large")," (20px)"]}),o.jsxs("option",{value:"24px",children:[f("Extra Large")," (24px)"]}),o.jsxs("option",{value:"32px",children:[f("2X Large")," (32px)"]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Vertical Alignment")}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:j.map(k=>o.jsxs("button",{onClick:()=>y(k.value),title:k.label,className:`
                                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                                ${c===k.value?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}
                            `,children:[o.jsx(L,{type:k.icon,isActive:c===k.value}),o.jsx("span",{className:"text-xs mt-1",children:k.label})]},k.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f("Horizontal Alignment")}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:E.map(k=>o.jsxs("button",{onClick:()=>b(k.value),title:k.label,className:`
                                flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-all
                                ${d===k.value?"border-primary bg-primary/10 text-primary":"border-gray-200 bg-white text-gray-500 hover:border-gray-300"}
                            `,children:[o.jsx(L,{type:k.icon,isActive:d===k.value}),o.jsx("span",{className:"text-xs mt-1",children:k.label})]},k.value))})]}),o.jsxs("div",{className:"flex items-center justify-between py-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:f("Stack on Mobile")}),o.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:f("Columns will stack vertically on smaller screens")})]}),o.jsx("button",{onClick:()=>v(!h),className:`
                        relative inline-flex h-6 w-11 items-center rounded-full transition-colors
                        ${h?"bg-primary":"bg-gray-300"}
                    `,children:o.jsx("span",{className:`
                            inline-block h-4 w-4 transform rounded-full bg-white transition-transform
                            ${h?"translate-x-6":"translate-x-1"}
                        `})})]}),o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[o.jsx("svg",{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-700",children:[f("Tip"),":"]}),o.jsx("p",{className:"mt-1",children:f("Drag blocks from the sidebar into the column areas to build your layout. Each column can contain multiple blocks.")})]})]})})]})},rv={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"},ov={start:"flex-start",center:"center",end:"flex-end",stretch:"stretch","space-between":"space-between","space-around":"space-around"},lv=(t,l={})=>{const{generateBlockHtml:i}=l,c=rn("columns",t),d=t.gap||"20px",h=t.columns||2,m=t.verticalAlign||"stretch",g=t.horizontalAlign||"stretch",y=t.stackOnMobile!==!1,b=rv[m]||"stretch",v=ov[g]||"stretch",j=g==="stretch"?`flex: 1 1 calc(${100/h}% - ${d})`:`flex: 0 0 auto; width: calc(${100/h}% - ${d})`,E=(t.children||[]).map(S=>{const $=S.map(T=>i?i(T,l):"").join("");return`<div class="lb-column" style="${j}; min-width: 0;">${$||""}</div>`}).join(""),L=["display: flex","flex-wrap: wrap",`gap: ${d}`,`align-items: ${b}`,`justify-content: ${v}`].join("; "),k=on(t,L);return`
        <div class="${c} lb-columns-${h} ${y?"lb-columns-stack-mobile":""}" style="${k}">
            ${E}
        </div>
    `},iv=(t,l={})=>{const{generateBlockHtml:i}=l,a=t.verticalAlign||"stretch",c={start:"top",center:"middle",end:"bottom",stretch:"top"},d=`${100/(t.columns||2)}%`,h=c[a]||"top";return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0">
            <tr>${(t.children||[]).map((g,y)=>{const b=g.map(v=>i?i(v,l):"").join("");return`<td style="width: ${d}; vertical-align: ${h}; padding: 0 ${y<(t.columns||2)-1?t.gap||"20px":"0"} 0 0;">${b||"&nbsp;"}</td>`}).join("")}</tr>
        </table>
    `},sv={page:lv,email:iv},av=Ge(U0,{block:tv,editor:nv,save:sv}),cv="social",uv="1.0.0",dv="Social",fv="Content",hv="mdi:share-variant-outline",pv="Add social media links",gv=["social","facebook","twitter","instagram","linkedin","youtube"],mv=["email","page","campaign"],xv={align:!0,layout:!0,html:!0,duplicate:!0,remove:!0},yv={align:"center",iconSize:"32px",gap:"12px",links:{facebook:"",twitter:"",instagram:"",linkedin:"",youtube:""}},vv={type:cv,version:uv,label:dv,category:fv,icon:hv,description:pv,keywords:gv,contexts:mv,supports:xv,defaultProps:yv},bv=[{key:"facebook",label:"Facebook",icon:"mdi:facebook",color:"#1877f2"},{key:"twitter",label:"Twitter/X",icon:"mdi:twitter",color:"#1da1f2"},{key:"instagram",label:"Instagram",icon:"mdi:instagram",color:"#e4405f"},{key:"linkedin",label:"LinkedIn",icon:"mdi:linkedin",color:"#0a66c2"},{key:"youtube",label:"YouTube",icon:"mdi:youtube",color:"#ff0000"}],wv=({props:t,isSelected:l})=>{const a={textAlign:Tr(t.layoutStyles||{}).textAlign||t.align||"center",padding:"10px 8px",borderRadius:"4px"},c=ze(a,t.layoutStyles),d={display:"inline-flex",alignItems:"center",justifyContent:t.align==="left"?"flex-start":t.align==="right"?"flex-end":"center",gap:t.gap||"12px",flexWrap:"wrap"},h=parseInt(t.iconSize)||32,m=Object.entries(t.links||{}).filter(([,g])=>g);return o.jsx("div",{style:c,children:m.length>0?o.jsx("div",{style:d,children:m.map(([g])=>{const y=bv.find(b=>b.key===g);return o.jsx("span",{title:y?.label,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:`${h}px`,height:`${h}px`,color:y?.color||"#666"},children:o.jsx("iconify-icon",{icon:y?.icon||"mdi:link",width:h,height:h})},g)})}):o.jsxs("div",{className:"text-gray-400 text-sm py-2",children:[o.jsx("iconify-icon",{icon:"mdi:share-variant-outline",width:"24",height:"24",class:"mb-1"}),o.jsx("div",{children:"Add social links in the right panel"})]})})},kv={facebook:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>',twitter:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>',instagram:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>',linkedin:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>',youtube:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>'},Cv={facebook:"https://cdn-icons-png.flaticon.com/32/733/733547.png",twitter:"https://cdn-icons-png.flaticon.com/32/733/733579.png",instagram:"https://cdn-icons-png.flaticon.com/32/2111/2111463.png",linkedin:"https://cdn-icons-png.flaticon.com/32/733/733561.png",youtube:"https://cdn-icons-png.flaticon.com/32/733/733646.png"},Sv=(t,l={})=>{const a=rn("social",t),c=t.iconSize||"24px",d=t.gap||"12px",h=t.align||"center",g=`text-align: ${h}; display: flex; justify-content: ${h==="left"?"flex-start":h==="right"?"flex-end":"center"}; gap: ${d}; padding: 10px 0`,y=on(t,g),b=Object.entries(t.links||{}).filter(([,v])=>v).map(([v,j])=>`
            <a href="${j}" target="_blank" rel="noopener noreferrer" class="lb-social-link lb-social-${v}" style="display: inline-flex; width: ${c}; height: ${c}; color: inherit;">
                ${kv[v]||""}
            </a>
        `).join("");return b?`<div class="${a}" style="${y}">${b}</div>`:""},jv=(t,l={})=>{const i=parseInt(t.iconSize)||32,a=parseInt(t.gap)/2||6,c=Object.entries(t.links||{}).filter(([,d])=>d).map(([d,h])=>`<a href="${h}" target="_blank" style="display: inline-block; margin: 0 ${a}px;"><img src="${Cv[d]}" alt="${d}" width="${i}" height="${i}" style="border: 0;" /></a>`).join("");return c?`<div style="text-align: ${t.align||"center"}; padding: 10px 0;">${c}</div>`:""},Ev={page:Sv,email:jv},Nv=[{name:"iconSize",type:"select",label:f("Icon Size"),section:f("Appearance"),options:[{value:"24px",label:f("Small")+" (24px)"},{value:"32px",label:f("Medium")+" (32px)"},{value:"40px",label:f("Large")+" (40px)"},{value:"48px",label:f("X-Large")+" (48px)"}]},{name:"gap",type:"select",label:f("Spacing"),section:f("Appearance"),options:[{value:"8px",label:f("Small")},{value:"12px",label:f("Medium")},{value:"16px",label:f("Large")},{value:"24px",label:f("X-Large")}]},{name:"links.facebook",type:"url",label:f("Facebook URL"),placeholder:"https://facebook.com/...",section:f("Links")},{name:"links.twitter",type:"url",label:f("Twitter/X URL"),placeholder:"https://twitter.com/...",section:f("Links")},{name:"links.instagram",type:"url",label:f("Instagram URL"),placeholder:"https://instagram.com/...",section:f("Links")},{name:"links.linkedin",type:"url",label:f("LinkedIn URL"),placeholder:"https://linkedin.com/...",section:f("Links")},{name:"links.youtube",type:"url",label:f("YouTube URL"),placeholder:"https://youtube.com/...",section:f("Links")}],Tv=Ge(vv,{block:wv,save:Ev,fields:Nv}),$v="html",Rv="1.0.0",Lv="HTML",Av="Advanced",Iv="mdi:code-tags",Bv="Add custom HTML content",_v=["html","code","custom","embed"],Dv=["email","page","campaign"],Pv={layout:!0,html:!0,duplicate:!0,remove:!0},Mv={code:'<div style="padding: 20px; text-align: center;">Custom HTML content</div>'},Ov={type:$v,version:Rv,label:Lv,category:Av,icon:Iv,description:Bv,keywords:_v,contexts:Dv,supports:Pv,defaultProps:Mv},zv=({props:t,onUpdate:l})=>{const[i,a]=x.useState(!1),[c,d]=x.useState(!1),h=x.useRef(null),m=x.useRef(null),g=()=>{a(!0)},y=()=>{m.current&&(m.current.destroy(),m.current=null,d(!1)),a(!1)},b=()=>{if(m.current){const L=m.current.getContent();l({...t,code:L})}y()};x.useEffect(()=>{if(!i||!h.current)return;const L=()=>{if(typeof window.tinymce>"u"){const C=document.createElement("script");C.src="/vendor/tinymce/tinymce.min.js",C.onload=()=>k(),document.head.appendChild(C)}else k()},k=()=>{!h.current||m.current||window.tinymce.init({target:h.current,height:450,menubar:!1,branding:!1,promotion:!1,plugins:["advlist","autolink","lists","link","image","charmap","anchor","searchreplace","visualblocks","code","insertdatetime","media","table","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image table | removeformat code",toolbar_mode:"wrap",content_style:`
                    body {
                        font-family: system-ui, -apple-system, sans-serif;
                        font-size: 14px;
                        line-height: 1.6;
                        padding: 12px;
                    }
                `,setup:C=>{m.current=C,C.on("init",()=>{d(!0),C.setContent(t.code||"")})},code_dialog_height:400,code_dialog_width:600,ui_options:{z_index:10100}})};return L(),()=>{m.current&&(m.current.destroy(),m.current=null,d(!1))}},[i,t.code]);const j=ze({padding:"8px",borderRadius:"4px",cursor:"pointer",minHeight:"60px"},t.layoutStyles);return o.jsxs("div",{style:j,onDoubleClick:g,children:[o.jsx("div",{dangerouslySetInnerHTML:{__html:t.code||`
        <div style="padding: 24px; padding-top: 10px; text-align: center; color: #9ca3af; background: #f9fafb; border: 2px dashed #e5e7eb; border-radius: 8px;">
            <div style="font-size: 14px; font-weight: 500;">Custom HTML Block</div>
            <div style="font-size: 12px; margin-top: 4px;">Double-click to edit</div>
        </div>
    `}}),i&&o.jsx("style",{children:`
                    .tox-tinymce-aux,
                    .tox .tox-dialog-wrap,
                    .tox .tox-dialog,
                    .tox .tox-dialog-wrap__backdrop,
                    div.tox.tox-silver-sink.tox-tinymce-aux {
                        z-index: 10100 !important;
                    }
                    .tox .tox-dialog-wrap__backdrop {
                        background-color: rgba(0, 0, 0, 0.5) !important;
                    }
                `}),i&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999]",onClick:y,children:o.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col mx-4",onClick:L=>L.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("iconify-icon",{icon:"mdi:code-tags",width:"24",height:"24",class:"text-gray-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Custom HTML"})]}),o.jsx("button",{type:"button",onClick:y,className:"p-2 rounded-md hover:bg-gray-100 text-gray-500 transition-colors",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),o.jsxs("div",{className:"flex-1 overflow-hidden p-6",children:[!c&&o.jsx("div",{className:"flex items-center justify-center h-[450px] bg-gray-50 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{children:"Loading editor..."})]})}),o.jsx("div",{ref:h,className:c?"":"hidden"})]}),o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[o.jsx("p",{className:"text-sm text-gray-500",children:'Use the toolbar above to format content, or click "Code" to edit raw HTML.'}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{type:"button",onClick:y,className:"btn-default",children:"Cancel"}),o.jsx("button",{type:"button",onClick:b,className:"btn-primary",children:"Save Changes"})]})]})]})})]})},Hv=(t,l={})=>{const a=rn("html",t),c=on(t);return`<div class="${a}"${c?` style="${c}"`:""}>${t.code||""}</div>`},Fv=(t,l={})=>t.code||"",Wv={page:Hv,email:Fv},Uv=[{name:"code",type:"textarea",label:f("HTML Code"),section:f("Content"),rows:10}],Vv=Ge(Ov,{block:zv,save:Wv,fields:Uv}),Kv="quote",Gv="1.0.0",Xv="Quote",Yv="Content",Qv="mdi:format-quote-close",qv="Add a quote or testimonial with inline editing",Jv=["quote","testimonial","blockquote","citation"],Zv=["email","page","campaign"],eb={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,clearFormat:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},tb={text:"This is a quote or testimonial that stands out from the rest of the content.",author:"John Doe",authorTitle:"CEO, Company",borderColor:"#635bff",backgroundColor:"#f8fafc",textColor:"#475569",authorColor:"#1e293b",align:"left"},nb={type:Kv,version:Gv,label:Xv,category:Yv,icon:Qv,description:qv,keywords:Jv,contexts:Zv,supports:eb,defaultProps:tb},rb=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a})=>{const c=x.useRef(null),d=x.useRef(null),h=x.useRef(null),[m,g]=x.useState("quote"),y=x.useRef(t.text),b=x.useRef(t.author),v=x.useRef(t.authorTitle),j=x.useRef(t),E=x.useRef(l);j.current=t,E.current=l;const L=x.useCallback(()=>{switch(m){case"author":return d;case"title":return h;default:return c}},[m]),k=x.useCallback(()=>{if(c.current){const M=c.current.innerHTML;y.current=M,E.current({...j.current,text:M})}},[]),C=x.useCallback(()=>{if(d.current){const M=d.current.innerHTML;b.current=M,E.current({...j.current,author:M})}},[]),S=x.useCallback(()=>{if(h.current){const M=h.current.innerHTML;v.current=M,E.current({...j.current,authorTitle:M})}},[]),$=x.useCallback(M=>{E.current({...j.current,align:M})},[]);x.useEffect(()=>{i&&(c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"",y.current=t.text),d.current&&(d.current.innerHTML===""||d.current.innerHTML==="<br>")&&(d.current.innerHTML=t.author||"",b.current=t.author),h.current&&(h.current.innerHTML===""||h.current.innerHTML==="<br>")&&(h.current.innerHTML=t.authorTitle||"",v.current=t.authorTitle))},[i]),x.useEffect(()=>{i&&c.current&&t.text!==y.current&&(c.current.innerHTML=t.text||"",y.current=t.text)},[t.text,i]),x.useEffect(()=>{i&&d.current&&t.author!==b.current&&(d.current.innerHTML=t.author||"",b.current=t.author)},[t.author,i]),x.useEffect(()=>{i&&h.current&&t.authorTitle!==v.current&&(h.current.innerHTML=t.authorTitle||"",v.current=t.authorTitle)},[t.authorTitle,i]),x.useEffect(()=>{i&&a?a({editorRef:L(),isContentEditable:!0,align:j.current.align||"left",onAlignChange:$}):!i&&a&&a(null)},[i,a,$,m,L]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const M=document.createRange();M.selectNodeContents(c.current),M.collapse(!1);const Z=window.getSelection();Z.removeAllRanges(),Z.addRange(M)}})},[i]);const T={padding:"20px",paddingLeft:"24px",backgroundColor:t.backgroundColor||"#f8fafc",borderLeft:`4px solid ${t.borderColor||"#635bff"}`,textAlign:t.align||"left",borderRadius:"4px"},R=ze(T,t.layoutStyles),P={color:t.textColor||"#475569",fontSize:"16px",fontStyle:"italic",lineHeight:"1.6",margin:"0 0 12px 0",outline:"none",minHeight:"1.5em"},z={color:t.authorColor||"#1e293b",fontSize:"14px",fontWeight:"600",margin:"0 0 4px 0",outline:"none",minHeight:"1.2em"},H={color:t.textColor||"#475569",fontSize:"12px",margin:0,outline:"none",minHeight:"1em"},W=M=>{g(M)},q=()=>{const M=t.text||"Click to add quote...";return o.jsx("span",{dangerouslySetInnerHTML:{__html:`"${M}"`}})},K=()=>{const M=t.author||"";return M?o.jsx("span",{dangerouslySetInnerHTML:{__html:M}}):o.jsx("span",{style:{opacity:.5},children:"Author name"})},X=()=>{const M=t.authorTitle||"";return M?o.jsx("span",{dangerouslySetInnerHTML:{__html:M}}):o.jsx("span",{style:{opacity:.5},children:"Author title"})};return i?o.jsxs("div",{"data-text-editing":"true",style:R,children:[o.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[o.jsx("span",{style:{...P,position:"absolute",left:0,pointerEvents:"none"},children:'"'}),o.jsx("div",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:k,onBlur:k,onFocus:()=>W("quote"),"data-placeholder":"Enter quote...",style:{...P,paddingLeft:"12px",background:m==="quote"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px"}}),o.jsx("span",{style:{...P,position:"absolute",right:0,bottom:0,pointerEvents:"none"},children:'"'})]}),o.jsxs("div",{children:[o.jsx("div",{ref:d,contentEditable:!0,suppressContentEditableWarning:!0,onInput:C,onBlur:C,onFocus:()=>W("author"),"data-placeholder":"Author name",style:{...z,background:m==="author"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px",padding:"2px 4px"}}),o.jsx("div",{ref:h,contentEditable:!0,suppressContentEditableWarning:!0,onInput:S,onBlur:S,onFocus:()=>W("title"),"data-placeholder":"Author title",style:{...H,background:m==="title"?"rgba(99, 91, 255, 0.05)":"transparent",borderRadius:"4px",padding:"2px 4px"}})]})]}):o.jsxs("div",{style:R,children:[o.jsx("p",{style:P,children:q()}),o.jsxs("div",{children:[o.jsx("p",{style:z,children:K()}),o.jsx("p",{style:H,children:X()})]})]})},ob=(t,l={})=>{const i={text:t.text||"",author:t.author||"",authorTitle:t.authorTitle||"",align:t.align||"left",borderColor:t.borderColor||"#635bff",backgroundColor:t.backgroundColor||"#f8fafc",textColor:t.textColor||"#475569",authorColor:t.authorColor||"#1e293b",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="quote" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},lb=(t,l={})=>{const i=t.text||"",a=t.author||"",c=t.authorTitle||"",d=t.align||"left",h=t.borderColor||"#635bff",m=t.backgroundColor||"#f8fafc",g=t.textColor||"#475569",y=t.authorColor||"#1e293b";let b="";a&&(b=`<p style="color: ${y}; font-size: 14px; font-weight: 600; margin: 0;">${a}</p>`);let v="";return c&&(v=`<p style="color: ${g}; font-size: 12px; margin: 0;">${c}</p>`),`
        <div style="padding: 20px; padding-left: 24px; background-color: ${m}; border-left: 4px solid ${h}; text-align: ${d}; border-radius: 4px; margin: 10px 0;">
            <p style="color: ${g}; font-size: 16px; font-style: italic; line-height: 1.6; margin: 0 0 12px 0;">"${i}"</p>
            ${b}
            ${v}
        </div>
    `},ib={page:ob,email:lb},sb=[{name:"borderColor",type:"color",label:f("Border Color"),section:f("Style")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Style")},{name:"authorColor",type:"color",label:f("Author Color"),section:f("Style")}],ab=Ge(nb,{block:rb,save:ib,fields:sb}),cb="list",ub="1.0.0",db="List",fb="Content",hb="mdi:format-list-bulleted",pb="Add a bullet or numbered list",gb=["list","bullet","number","items","check","checklist"],mb=["email","page","campaign"],xb={align:!0,justify:!0,bold:!0,italic:!0,underline:!0,link:!0,clearFormat:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},yb={items:["First item","Second item","Third item"],listType:"bullet",color:"#333333",fontSize:"16px",iconColor:"#635bff"},vb={type:cb,version:ub,label:db,category:fb,icon:hb,description:pb,keywords:gb,contexts:mb,supports:xb,defaultProps:yb};function bb({props:t,isSelected:l,onUpdate:i,onRegisterTextFormat:a}){const c=x.useRef(null),d=x.useRef(t),h=x.useRef(i);d.current=t,h.current=i;const m=t.items||["List item"],g=t.listType||"bullet",y=g==="number"?"ol":"ul",b=x.useCallback(()=>{if(!c.current)return;const E=c.current.querySelectorAll(":scope > li"),L=Array.from(E).map(C=>{const S=C.cloneNode(!0);return S.querySelectorAll("ul, ol").forEach($=>$.remove()),S.innerHTML.trim()}).filter(C=>C&&C!=="<br>"),k=L.length>0?L:[""];JSON.stringify(k)!==JSON.stringify(d.current.items)&&h.current({...d.current,items:k})},[]);x.useEffect(()=>{l&&c.current&&(c.current.innerHTML=m.map(E=>`<li>${E||"<br>"}</li>`).join(""),requestAnimationFrame(()=>{c.current&&c.current.focus()}))},[l]),x.useEffect(()=>{!l&&c.current&&(c.current.innerHTML=m.map(E=>`<li>${E||"<br>"}</li>`).join(""))},[]),x.useEffect(()=>{a&&a(l?{editorRef:c,isContentEditable:!0,align:t.align||"left",onAlignChange:E=>h.current({...d.current,align:E})}:null)},[l,a,t.align]);const v=ze({padding:"8px",borderRadius:"4px"},t.layoutStyles),j={...ze({color:t.color||"#333333",fontSize:t.fontSize||"16px",lineHeight:"1.8",margin:0,textAlign:t.align||"left"},t.layoutStyles),paddingLeft:g==="check"?"0":"24px",listStyleType:g==="bullet"?"disc":g==="number"?"decimal":"none"};return l?o.jsx("div",{style:v,"data-text-editing":"true",children:o.jsx(y,{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:b,onBlur:b,style:{...j,paddingLeft:g==="check"?"8px":"32px",paddingTop:"8px",paddingRight:"8px",paddingBottom:"8px",border:"2px solid var(--color-primary, #635bff)",borderRadius:"4px",outline:"none",background:"white",minHeight:"40px"}})}):o.jsx("div",{style:v,children:o.jsx(y,{style:j,suppressContentEditableWarning:!0,ref:c})})}const wb=(t,l={})=>{const i={items:t.items||[],listType:t.listType||"bullet",color:t.color||"#333333",fontSize:t.fontSize||"16px",iconColor:t.iconColor||"#635bff",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="list" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},kb=(t,l={})=>{const i=t.items||[],a=t.listType||"bullet",c=t.color||"#333333",d=t.fontSize||"16px",h=t.iconColor||"#635bff";if(a==="check"){const y=i.map(b=>`<tr><td style="vertical-align: top; padding-right: 8px; color: ${h};">&#10003;</td><td style="color: ${c}; font-size: ${d}; padding-bottom: 8px;">${b}</td></tr>`).join("");return`<table style="color: ${c}; font-size: ${d}; line-height: 1.6;">${y}</table>`}const m=a==="number"?"ol":"ul",g=i.map(y=>`<li style="margin-bottom: 8px;">${y}</li>`).join("");return`<${m} style="color: ${c}; font-size: ${d}; line-height: 1.8; margin: 0; padding-left: 24px;">${g}</${m}>`},Cb={page:wb,email:kb},Sb=[{name:"listType",type:"select",label:f("List Type"),section:f("Content"),options:[{value:"bullet",label:f("Bullet List")},{value:"number",label:f("Numbered List")},{value:"check",label:f("Check List")}]},{name:"color",type:"color",label:f("Text Color"),section:f("Style")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Style"),options:[{value:"12px",label:f("Small")+" (12px)"},{value:"14px",label:f("Normal")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"},{value:"20px",label:f("X-Large")+" (20px)"}]},{name:"iconColor",type:"color",label:f("Icon Color"),section:f("Style")}],jb=Ge(vb,{block:bb,save:Cb,fields:Sb}),Eb="video",Nb="1.0.0",Tb="Video",$b="Content",Rb="mdi:play-circle-outline",Lb="Add a video with thumbnail",Ab=["video","media","youtube","play","vimeo","thumbnail"],Ib=["email","page","campaign"],Bb={align:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},_b={thumbnailUrl:"",videoUrl:"",alt:"Video thumbnail",width:"100%",align:"center",playButtonColor:""},Db={type:Eb,version:Nb,label:Tb,category:$b,icon:Rb,description:Lb,keywords:Ab,contexts:Ib,supports:Bb,defaultProps:_b},Pb=t=>{if(!t)return null;const l=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/];for(const b of l){const v=t.match(b);if(v)return{platform:"youtube",videoId:v[1],embedUrl:`https://www.youtube.com/embed/${v[1]}`,thumbnailUrl:`https://img.youtube.com/vi/${v[1]}/maxresdefault.jpg`}}const i=/(?:vimeo\.com\/)(\d+)/,a=t.match(i);if(a)return{platform:"vimeo",videoId:a[1],embedUrl:`https://player.vimeo.com/video/${a[1]}`,thumbnailUrl:null};const c=/(?:dailymotion\.com\/video\/|dai\.ly\/)([a-zA-Z0-9]+)/,d=t.match(c);if(d)return{platform:"dailymotion",videoId:d[1],embedUrl:`https://www.dailymotion.com/embed/video/${d[1]}`,thumbnailUrl:`https://www.dailymotion.com/thumbnail/video/${d[1]}`};const h=/(?:wistia\.com\/medias\/|wi\.st\/)([a-zA-Z0-9]+)/,m=t.match(h);if(m)return{platform:"wistia",videoId:m[1],embedUrl:`https://fast.wistia.net/embed/iframe/${m[1]}`,thumbnailUrl:null};const g=/(?:loom\.com\/share\/)([a-zA-Z0-9]+)/,y=t.match(g);return y?{platform:"loom",videoId:y[1],embedUrl:`https://www.loom.com/embed/${y[1]}`,thumbnailUrl:null}:null},Mb=t=>t?/\.(mp4|webm|ogg|mov|avi|m4v)(\?.*)?$/i.test(t):!1,Ob=t=>({youtube:"mdi:youtube",vimeo:"mdi:vimeo",dailymotion:"simple-icons:dailymotion",wistia:"mdi:video-box",loom:"mdi:video-outline"})[t]||"mdi:play-circle",zb=t=>({youtube:"#FF0000",vimeo:"#1AB7EA",dailymotion:"#00AAFF",wistia:"#54BBFF",loom:"#625DF5"})[t]||"#FF0000",Hb='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="600" height="340" viewBox="0 0 600 340"%3E%3Crect fill="%231a1a2e" width="600" height="340"/%3E%3Ctext fill="%23ffffff" font-family="Arial" font-size="24" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EVideo%3C/text%3E%3C/svg%3E',Fb=({props:t,isSelected:l})=>{const[i,a]=x.useState(!1),[c,d]=x.useState(null),h=x.useMemo(()=>Pb(t.videoUrl),[t.videoUrl]),m=x.useMemo(()=>Mb(t.videoUrl),[t.videoUrl]);x.useEffect(()=>{if(!m||t.thumbnailUrl||!t.videoUrl){d(null);return}const P=document.createElement("video");return P.crossOrigin="anonymous",P.src=t.videoUrl,P.muted=!0,P.preload="metadata",P.onloadeddata=()=>{P.currentTime=Math.min(1,P.duration*.1)},P.onseeked=()=>{try{const z=document.createElement("canvas");z.width=P.videoWidth||640,z.height=P.videoHeight||360,z.getContext("2d").drawImage(P,0,0,z.width,z.height);const W=z.toDataURL("image/jpeg",.8);d(W)}catch{d(null)}},P.onerror=()=>{d(null)},()=>{P.src=""}},[t.videoUrl,t.thumbnailUrl,m]);const g=t.thumbnailUrl||h?.thumbnailUrl||c,y=i||!g?Hb:g,b=t.playButtonColor||(h?zb(h.platform):"#FF0000"),j={textAlign:Tr(t.layoutStyles||{}).textAlign||t.align||"center",padding:"8px",borderRadius:"4px"},E=ze(j,t.layoutStyles),L={position:"relative",display:"inline-block",maxWidth:t.width||"100%",width:"100%"},k={width:"100%",height:"auto",display:"block",borderRadius:"8px",backgroundColor:"#1a1a2e"},C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"68px",height:"68px",backgroundColor:b,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",cursor:"pointer"},S={width:0,height:0,borderTop:"12px solid transparent",borderBottom:"12px solid transparent",borderLeft:"20px solid white",marginLeft:"4px"},$={position:"absolute",top:"12px",left:"12px",backgroundColor:"rgba(0,0,0,0.7)",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},T=()=>{i||a(!0)};if(x.useEffect(()=>{a(!1)},[g]),!t.videoUrl)return o.jsx("div",{style:E,children:o.jsxs("div",{className:"bg-gray-100 border-2 border-dashed border-gray-300 text-gray-400 p-8 rounded text-center",children:[o.jsx("iconify-icon",{icon:"mdi:video-plus",width:"32",height:"32",class:"mb-2"}),o.jsx("div",{className:"text-sm",children:"Add video in the right panel"})]})});const R=m&&!t.thumbnailUrl;return o.jsx("div",{style:E,children:o.jsxs("div",{style:L,children:[R?o.jsx("video",{src:t.videoUrl,controls:!0,style:{width:"100%",height:"auto",display:"block",borderRadius:"8px",backgroundColor:"#1a1a2e"},preload:"metadata"}):o.jsxs(o.Fragment,{children:[o.jsx("img",{src:y,alt:t.alt||"Video thumbnail",style:k,onError:T}),o.jsx("div",{style:C,children:o.jsx("div",{style:S})})]}),h&&o.jsxs("div",{style:$,children:[o.jsx("iconify-icon",{icon:Ob(h.platform),width:"16",height:"16"}),o.jsx("span",{style:{textTransform:"capitalize"},children:h.platform})]}),m&&!R&&o.jsxs("div",{style:$,children:[o.jsx("iconify-icon",{icon:"mdi:video",width:"16",height:"16"}),o.jsx("span",{children:"Video"})]})]})})},Wb=({props:t,onUpdate:l})=>{const i=(h,m)=>{l({...t,[h]:m})},a=async()=>{try{const h=await Zo.selectImage();h&&i("thumbnailUrl",h.url)}catch{}},c=async()=>{try{const h=await Zo.selectVideo();h&&i("videoUrl",h.url)}catch{}},d=()=>{i("thumbnailUrl","")};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs(wi,{title:f("Video"),children:[o.jsx(ki,{children:f("Video URL")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"url",value:t.videoUrl||"",onChange:h=>i("videoUrl",h.target.value),placeholder:"YouTube, Vimeo, or direct URL...",className:"form-control flex-1"}),o.jsx("button",{type:"button",onClick:c,className:"btn-default px-3",title:f("Select from library"),children:o.jsx("iconify-icon",{icon:"lucide:folder-open",width:"16",height:"16"})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:f("YouTube, Vimeo, Dailymotion, Wistia, Loom, or direct files (mp4, webm)")})]}),o.jsxs(wi,{title:f("Thumbnail"),children:[t.thumbnailUrl?o.jsxs("div",{className:"relative group mb-3",children:[o.jsx("img",{src:t.thumbnailUrl,alt:"Thumbnail",className:"w-full max-h-32 object-contain rounded border border-gray-200 dark:border-gray-700"}),o.jsx("button",{type:"button",onClick:d,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:f("Remove thumbnail"),children:o.jsx("iconify-icon",{icon:"lucide:x",width:"14",height:"14"})})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center p-4 mb-3 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[o.jsx("iconify-icon",{icon:"lucide:image",className:"text-2xl text-gray-400 mb-1"}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:f("Auto-generated from video")})]}),o.jsxs("button",{type:"button",onClick:a,className:"btn-default w-full flex items-center justify-center gap-2",children:[o.jsx("iconify-icon",{icon:"lucide:image-plus"}),t.thumbnailUrl?f("Change Thumbnail"):f("Custom Thumbnail")]}),o.jsxs("details",{className:"mt-3",children:[o.jsx("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-300",children:f("Or enter URL manually")}),o.jsx("input",{type:"url",value:t.thumbnailUrl||"",onChange:h=>i("thumbnailUrl",h.target.value),placeholder:"https://...",className:"form-control mt-2"})]})]}),o.jsxs(wi,{title:f("Accessibility"),children:[o.jsx(ki,{children:f("Alt Text")}),o.jsx("input",{type:"text",value:t.alt||"",onChange:h=>i("alt",h.target.value),placeholder:"Describe the video...",className:"form-control"})]}),o.jsxs(wi,{title:f("Appearance"),children:[o.jsx(ki,{children:f("Width")}),o.jsxs("select",{value:t.width||"100%",onChange:h=>i("width",h.target.value),className:"form-control",children:[o.jsxs("option",{value:"100%",children:[f("Full Width")," (100%)"]}),o.jsxs("option",{value:"75%",children:[f("Three Quarters")," (75%)"]}),o.jsxs("option",{value:"50%",children:[f("Half")," (50%)"]}),o.jsxs("option",{value:"25%",children:[f("Quarter")," (25%)"]})]}),o.jsxs("div",{className:"mt-3",children:[o.jsx(ki,{children:f("Play Button Color")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:t.playButtonColor||"#FF0000",onChange:h=>i("playButtonColor",h.target.value),className:"w-12 h-9 rounded border border-gray-300 cursor-pointer"}),o.jsx("input",{type:"text",value:t.playButtonColor||"",onChange:h=>i("playButtonColor",h.target.value),placeholder:"#FF0000",className:"form-control flex-1"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f("Leave empty for platform default")})]})]})]})},wi=({title:t,children:l})=>o.jsxs("div",{className:"pb-4 border-b border-gray-200 dark:border-gray-700 last:border-b-0 last:pb-0",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide mb-3",children:t}),l]}),ki=({children:t})=>o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:t}),Pf=t=>t?/\.(mp4|webm|ogg|mov|avi|m4v)(\?.*)?$/i.test(t):!1,Mf=t=>{if(!t)return null;const l=t.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/|youtube\.com\/shorts\/)([a-zA-Z0-9_-]{11})/);if(l)return{platform:"youtube",id:l[1],thumbnail:`https://img.youtube.com/vi/${l[1]}/maxresdefault.jpg`,color:"#FF0000",embedUrl:`https://www.youtube.com/embed/${l[1]}?rel=0`};const i=t.match(/vimeo\.com\/(\d+)/);if(i)return{platform:"vimeo",id:i[1],thumbnail:null,color:"#1AB7EA",embedUrl:`https://player.vimeo.com/video/${i[1]}`};const a=t.match(/(?:dailymotion\.com\/video\/|dai\.ly\/)([a-zA-Z0-9]+)/);return a?{platform:"dailymotion",id:a[1],thumbnail:`https://www.dailymotion.com/thumbnail/video/${a[1]}`,color:"#00AAFF",embedUrl:`https://www.dailymotion.com/embed/video/${a[1]}`}:null},Ub=(t,l={})=>{const i="video",a=Pf(t.videoUrl),c=Mf(t.videoUrl),d=t.width||"100%",h=t.thumbnailUrl||t.thumbnail||"",m=t.align||"center",g=m==="left"?"flex-start":m==="right"?"flex-end":"center",y=rn(i,t),b=c?` lb-video-${c.platform}`:"",v=`display: flex; justify-content: ${g}`,j=on(t,v);if(a){if(h){const E=`lb-video-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return`
                <div class="${y}" style="${j}">
                    <div id="${E}" class="lb-video-container" style="position: relative; max-width: ${d}; width: 100%; cursor: pointer;">
                        <div class="lb-video-thumbnail" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000;">
                            <img src="${h}" alt="${t.alt||"Video thumbnail"}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
                            <div class="lb-video-play-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 48px; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: background 0.2s;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    (function() {
                        var container = document.getElementById('${E}');
                        if (!container) return;
                        container.addEventListener('click', function() {
                            var wrapper = container.querySelector('.lb-video-thumbnail');
                            wrapper.innerHTML = '<video src="${t.videoUrl}" controls autoplay style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;"></video>';
                        });
                    })();
                <\/script>
            `}return`
            <div class="${y}" style="${j}">
                <video src="${t.videoUrl}" controls ${t.autoplay?"autoplay muted":""} ${t.loop?"loop":""} style="max-width: ${d}; width: 100%; height: auto; border-radius: 8px;" preload="metadata">
                    Your browser does not support the video tag.
                </video>
            </div>
        `}if(c?.embedUrl){const E=`lb-video-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return h?`
                <div class="${y}${b}" style="${j}">
                    <div id="${E}" class="lb-video-container" style="position: relative; max-width: ${d}; width: 100%; cursor: pointer;">
                        <div class="lb-video-thumbnail" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; background: #000;">
                            <img src="${h}" alt="Video thumbnail" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" />
                            <div class="lb-video-play-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 48px; background: rgba(0,0,0,0.8); border-radius: 12px; display: flex; align-items: center; justify-content: center; transition: background 0.2s;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                    <path d="M8 5v14l11-7z"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
                <script>
                    (function() {
                        var container = document.getElementById('${E}');
                        if (!container) return;
                        container.addEventListener('click', function() {
                            var wrapper = container.querySelector('.lb-video-thumbnail');
                            wrapper.innerHTML = '<iframe src="${c.embedUrl}&autoplay=1" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; border-radius: 8px;" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>';
                        });
                    })();
                <\/script>
            `:`
            <div class="${y}${b}" style="${j}">
                <div style="position: relative; max-width: ${d}; width: 100%;">
                    <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                        <iframe src="${c.embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen allow="autoplay; encrypted-media; picture-in-picture"></iframe>
                    </div>
                </div>
            </div>
        `}return`
        <div class="${y}" style="${j}">
            <a href="${t.videoUrl}" target="_blank" rel="noopener noreferrer" class="lb-video-link">Watch Video</a>
        </div>
    `},Vb=(t,l={})=>{const{previewMode:i=!1}=l,a=Pf(t.videoUrl),c=Mf(t.videoUrl);if(i){if(a&&!t.thumbnailUrl)return`
                <div style="text-align: ${t.align||"center"};">
                    <video src="${t.videoUrl}" controls style="max-width: ${t.width||"100%"}; width: 100%; height: auto; display: inline-block; border-radius: 8px; background-color: #1a1a2e;" preload="metadata"></video>
                </div>
            `;if(c?.embedUrl&&!t.thumbnailUrl)return`
                <div style="text-align: ${t.align||"center"};">
                    <div style="position: relative; max-width: ${t.width||"100%"}; width: 100%; display: inline-block;">
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px;">
                            <iframe src="${c.embedUrl}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            `}let d;t.thumbnailUrl?d=t.thumbnailUrl:c?.thumbnail?d=c.thumbnail:a?d="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='340' viewBox='0 0 600 340'%3E%3Crect fill='%231a1a2e' width='600' height='340'/%3E%3Ctext fill='%23ffffff' font-family='Arial' font-size='16' x='50%25' y='60%25' text-anchor='middle'%3EClick to play video%3C/text%3E%3C/svg%3E":d="https://via.placeholder.com/600x340/1a1a2e/ffffff?text=Video";const h=t.playButtonColor||c?.color||(a?"#635bff":"#ff0000"),m=`
        <div style="position: relative; display: inline-block; max-width: ${t.width||"100%"}; width: 100%;">
            <a href="${t.videoUrl}" target="_blank" style="display: block; text-decoration: none;">
                <img src="${d}" alt="${t.alt||"Video thumbnail"}" style="width: 100%; height: auto; display: block; border-radius: 8px; background-color: #1a1a2e;" />
                <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 68px; height: 68px; background-color: ${h}; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <span style="width: 0; height: 0; border-top: 12px solid transparent; border-bottom: 12px solid transparent; border-left: 20px solid white; margin-left: 4px;"></span>
                </div>
            </a>
        </div>
    `;return`<div style="text-align: ${t.align||"center"};">${m}</div>`},Kb={page:Ub,email:Vb},Gb=Ge(Db,{block:Fb,editor:Wb,save:Kb}),Xb="footer",Yb="1.0.0",Qb="Footer",qb="Layout",Jb="mdi:page-layout-footer",Zb="Add an email footer with company info",e1=["footer","unsubscribe","company","contact"],t1=["email","campaign"],n1={align:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},r1={companyName:"Your Company Name",address:"123 Street Name, City, Country",phone:"+1 234 567 890",email:"contact@company.com",unsubscribeText:"Unsubscribe from these emails",unsubscribeUrl:"#unsubscribe",copyright:" 2024 Your Company. All rights reserved.",textColor:"#6b7280",linkColor:"#635bff",fontSize:"12px",align:"center"},o1={type:Xb,version:Yb,label:Qb,category:qb,icon:Jb,description:Zb,keywords:e1,contexts:t1,supports:n1,defaultProps:r1},l1=({props:t})=>{const l={padding:"24px 16px",textAlign:t.align||"center",borderTop:"1px solid #e5e7eb",borderRadius:"4px"},i=ze(l,t.layoutStyles),a={color:t.textColor||"#6b7280",fontSize:t.fontSize||"12px",lineHeight:"1.6",margin:"0 0 8px 0"},c=ze(a,t.layoutStyles),d={color:t.linkColor||"#635bff",textDecoration:"underline"},h={...c,fontWeight:"600",fontSize:"14px",marginBottom:"12px"};return o.jsxs("div",{style:i,children:[t.companyName&&o.jsx("p",{style:h,children:t.companyName}),t.address&&o.jsx("p",{style:c,children:t.address}),(t.phone||t.email)&&o.jsxs("p",{style:c,children:[t.phone&&o.jsx("span",{children:t.phone}),t.phone&&t.email&&o.jsx("span",{children:" | "}),t.email&&o.jsx("a",{href:`mailto:${t.email}`,style:d,children:t.email})]}),t.unsubscribeText&&o.jsx("p",{style:{...c,marginTop:"16px"},children:o.jsx("a",{href:t.unsubscribeUrl||"#",style:d,children:t.unsubscribeText})}),t.copyright&&o.jsx("p",{style:{...c,marginTop:"12px",fontSize:"11px"},children:t.copyright})]})},i1=(t,l={})=>{const a=rn("footer",t),c=["padding: 24px 16px",`text-align: ${t.align||"center"}`];t.layoutStyles?.border||c.push("border-top: 1px solid #e5e7eb");const d=on(t,c.join("; ")),h=t.layoutStyles?.typography?.color||t.textColor||"#6b7280",m=t.layoutStyles?.typography?.fontSize||t.fontSize||"12px";return`
        <footer class="${a}" style="${d}">
            ${t.companyName?`<p style="color: ${h}; font-size: 14px; font-weight: 600; margin: 0 0 12px 0;">${t.companyName}</p>`:""}
            ${t.address?`<p style="color: ${h}; font-size: ${m}; margin: 0 0 8px 0;">${t.address}</p>`:""}
            ${t.phone||t.email?`
                <p style="color: ${h}; font-size: ${m}; margin: 0 0 8px 0;">
                    ${t.phone||""}
                    ${t.phone&&t.email?" | ":""}
                    ${t.email?`<a href="mailto:${t.email}" style="color: ${t.linkColor||"#635bff"};">${t.email}</a>`:""}
                </p>
            `:""}
            ${t.copyright?`<p style="color: ${h}; font-size: 11px; margin: 12px 0 0 0;">${t.copyright}</p>`:""}
        </footer>
    `},s1=(t,l={})=>`
        <div style="padding: 24px 16px; text-align: ${t.align||"center"}; border-top: 1px solid #e5e7eb;">
            ${t.companyName?`<p style="color: ${t.textColor||"#6b7280"}; font-size: 14px; font-weight: 600; margin: 0 0 12px 0;">${t.companyName}</p>`:""}
            ${t.address?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 0 0 8px 0;">${t.address}</p>`:""}
            ${t.phone||t.email?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 0 0 8px 0;">${t.phone||""}${t.phone&&t.email?" | ":""}${t.email?`<a href="mailto:${t.email}" style="color: ${t.linkColor||"#635bff"}; text-decoration: underline;">${t.email}</a>`:""}</p>`:""}
            ${t.unsubscribeText?`<p style="color: ${t.textColor||"#6b7280"}; font-size: ${t.fontSize||"12px"}; margin: 16px 0 0 0;"><a href="${t.unsubscribeUrl||"#"}" style="color: ${t.linkColor||"#635bff"}; text-decoration: underline;">${t.unsubscribeText}</a></p>`:""}
            ${t.copyright?`<p style="color: ${t.textColor||"#6b7280"}; font-size: 11px; margin: 12px 0 0 0;">${t.copyright}</p>`:""}
        </div>
    `,a1={page:i1,email:s1},c1=[{name:"companyName",type:"text",label:f("Company Name"),section:f("Company Information"),placeholder:f("Your Company Name")},{name:"address",type:"textarea",label:f("Address"),section:f("Company Information"),rows:2,placeholder:"123 Street Name, City, Country"},{name:"phone",type:"text",label:f("Phone"),section:f("Company Information"),placeholder:"+1 234 567 890"},{name:"email",type:"email",label:f("Email"),section:f("Company Information"),placeholder:"contact@company.com"},{name:"unsubscribeText",type:"text",label:f("Unsubscribe Text"),section:f("Unsubscribe Link"),placeholder:f("Unsubscribe from these emails")},{name:"unsubscribeUrl",type:"url",label:f("Unsubscribe URL"),section:f("Unsubscribe Link"),placeholder:"#unsubscribe"},{name:"copyright",type:"text",label:f("Copyright Text"),section:f("Copyright"),placeholder:" 2024 Your Company. All rights reserved."},{name:"linkColor",type:"color",label:f("Link Color"),section:f("Style")}],u1=Ge(o1,{block:l1,save:a1,fields:c1}),d1="countdown",f1="1.0.0",h1="Countdown",p1="Advanced",g1="mdi:timer-outline",m1="Add a countdown timer",x1=["countdown","timer","deadline","urgency"],y1=["email","page","campaign"],v1={align:!0,colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},b1={targetDate:"",targetTime:"23:59",title:"Sale Ends In",backgroundColor:"#1e293b",textColor:"#ffffff",numberColor:"#635bff",align:"center",expiredMessage:"This offer has expired!"},Xd={type:d1,version:f1,label:h1,category:p1,icon:g1,description:m1,keywords:x1,contexts:y1,supports:v1,defaultProps:b1},w1=({props:t,isSelected:l})=>{const[i,a]=x.useState({days:0,hours:0,minutes:0,seconds:0}),[c,d]=x.useState(!1),h=Tr(t.layoutStyles||{});x.useEffect(()=>{const $=()=>{const R=`${t.targetDate}T${t.targetTime||"23:59"}:00`,H=new Date(R)-new Date;return H>0?(d(!1),{days:Math.floor(H/864e5),hours:Math.floor(H/36e5%24),minutes:Math.floor(H/1e3/60%60),seconds:Math.floor(H/1e3%60)}):(d(!0),{days:0,hours:0,minutes:0,seconds:0})};a($());const T=setInterval(()=>{a($())},1e3);return()=>clearInterval(T)},[t.targetDate,t.targetTime]);const m={padding:"24px",backgroundColor:t.backgroundColor||"#1e293b",borderRadius:"8px",textAlign:h.textAlign||t.align||"center"},g=ze(m,t.layoutStyles),y={color:t.textColor||"#ffffff",fontSize:"18px",fontWeight:"600",marginBottom:"16px",margin:"0 0 16px 0"},b={display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},v={backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"8px",padding:"12px 16px",minWidth:"70px"},j={color:t.numberColor||"#635bff",fontSize:"36px",fontWeight:"700",lineHeight:"1",display:"block"},E={color:t.textColor||"#ffffff",fontSize:"11px",marginTop:"4px",textTransform:"uppercase",letterSpacing:"1px",display:"block"},L={color:t.numberColor||"#635bff",fontSize:"28px",fontWeight:"700"},k={color:t.textColor||"#ffffff",fontSize:"18px",fontWeight:"600",padding:"20px 0",margin:0},C={marginTop:"12px",padding:"6px 12px",backgroundColor:"rgba(251, 191, 36, 0.15)",color:"#fbbf24",borderRadius:"4px",fontSize:"11px",display:"inline-block"},S=[{value:i.days,label:"Days"},{value:i.hours,label:"Hours"},{value:i.minutes,label:"Mins"},{value:i.seconds,label:"Secs"}];return c?o.jsx("div",{style:g,children:o.jsx("p",{style:k,children:t.expiredMessage||"This offer has expired!"})}):o.jsxs("div",{style:g,children:[t.title&&o.jsx("p",{style:y,children:t.title}),o.jsx("div",{style:b,children:S.map(($,T)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsxs("div",{style:v,children:[o.jsx("span",{style:j,children:String($.value).padStart(2,"0")}),o.jsx("span",{style:E,children:$.label})]}),T<S.length-1&&o.jsx("span",{style:L,children:":"})]},T))}),o.jsx("div",{style:C,children:" Snapshot at send time (won't update live in email)"})]})},k1=(t,l={})=>{const a=rn("countdown",t),c=`countdown-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,d=t.targetDate||new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],h=t.targetTime||"23:59",m=`${d}T${h}:00`,g=["padding: 24px",`text-align: ${t.align||"center"}`];t.layoutStyles?.background?.color||g.push(`background-color: ${t.backgroundColor||"#1e293b"}`),t.layoutStyles?.border||g.push("border-radius: 8px");const y=on(t,g.join("; ")),b=t.layoutStyles?.typography?.color||t.textColor||"#ffffff";return`
        <div class="${a}" id="${c}" data-target="${m}" data-expired-message="${t.expiredMessage||""}" style="${y}">
            ${t.title?`<p style="color: ${b}; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${t.title}</p>`:""}
            <div style="display: flex; justify-content: center; gap: 16px; flex-wrap: wrap;">
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-days" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Days</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-hours" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Hours</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-mins" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Mins</span>
                </div>
                <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px; min-width: 60px;">
                    <span class="lb-countdown-secs" style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">00</span>
                    <span style="color: ${b}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Secs</span>
                </div>
            </div>
        </div>
        <script>
            (function() {
                const el = document.getElementById('${c}');
                if (!el) return;
                const target = new Date(el.dataset.target);
                const expiredMsg = el.dataset.expiredMessage;
                function update() {
                    const now = new Date();
                    const diff = Math.max(0, target - now);
                    if (diff <= 0 && expiredMsg) {
                        el.innerHTML = '<p style="color: #ffffff; font-size: 18px; font-weight: 600; margin: 0;">' + expiredMsg + '</p>';
                        return;
                    }
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                    const mins = Math.floor((diff / 1000 / 60) % 60);
                    const secs = Math.floor((diff / 1000) % 60);
                    el.querySelector('.lb-countdown-days').textContent = String(days).padStart(2, '0');
                    el.querySelector('.lb-countdown-hours').textContent = String(hours).padStart(2, '0');
                    el.querySelector('.lb-countdown-mins').textContent = String(mins).padStart(2, '0');
                    el.querySelector('.lb-countdown-secs').textContent = String(secs).padStart(2, '0');
                }
                update();
                setInterval(update, 1000);
            })();
        <\/script>
    `},C1=(t,l={})=>{const i=t.targetDate||new Date(Date.now()+6048e5).toISOString().split("T")[0],a=t.targetTime||"23:59",c=`${i}T${a}:00`,d=new Date(c),m=Math.max(0,d-new Date),g=Math.floor(m/(1e3*60*60*24)),y=Math.floor(m/(1e3*60*60)%24),b=Math.floor(m/1e3/60%60),v=Math.floor(m/1e3%60);return m<=0&&t.expiredMessage?`
            <div style="padding: 24px; background-color: ${t.backgroundColor||"#1e293b"}; border-radius: 8px; text-align: ${t.align||"center"};">
                <p style="color: ${t.textColor||"#ffffff"}; font-size: 18px; font-weight: 600; margin: 0;">${t.expiredMessage}</p>
            </div>
        `:`
        <div style="padding: 24px; background-color: ${t.backgroundColor||"#1e293b"}; border-radius: 8px; text-align: ${t.align||"center"};">
            ${t.title?`<p style="color: ${t.textColor||"#ffffff"}; font-size: 18px; font-weight: 600; margin: 0 0 16px 0;">${t.title}</p>`:""}
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
                <tr>
                    <td align="center">
                        <table cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(g).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Days</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(y).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Hours</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(b).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Mins</span>
                                    </div>
                                </td>
                                <td style="color: ${t.numberColor||"#635bff"}; font-size: 28px; font-weight: 700; padding: 0 4px;">:</td>
                                <td style="text-align: center; padding: 0 12px;">
                                    <div style="background-color: rgba(255,255,255,0.1); border-radius: 8px; padding: 12px 16px;">
                                        <span style="color: ${t.numberColor||"#635bff"}; font-size: 36px; font-weight: 700; display: block;">${String(v).padStart(2,"0")}</span>
                                        <span style="color: ${t.textColor||"#ffffff"}; font-size: 11px; text-transform: uppercase; letter-spacing: 1px;">Secs</span>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>
    `},S1={page:k1,email:C1},j1=()=>{const t=new Date;return t.setDate(t.getDate()+7),t.toISOString().split("T")[0]},E1={...Xd,defaultProps:{...Xd.defaultProps,targetDate:j1()}},N1=[{name:"targetDate",type:"date",label:f("Target Date"),section:f("Countdown Settings"),required:!0,help:f("The date when the countdown ends")},{name:"targetTime",type:"time",label:f("Target Time"),section:f("Countdown Settings"),help:f("The time when the countdown ends")},{name:"title",type:"text",label:f("Title"),section:f("Countdown Settings"),placeholder:f("Sale Ends In")},{name:"expiredMessage",type:"text",label:f("Expired Message"),section:f("Countdown Settings"),placeholder:f("This offer has expired!"),help:f("Message to show when countdown expires")},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Colors")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Colors")},{name:"numberColor",type:"color",label:f("Number Color"),section:f("Colors")},{name:"align",type:"select",label:f("Alignment"),section:f("Layout"),options:[{value:"left",label:f("Left")},{value:"center",label:f("Center")},{value:"right",label:f("Right")}]}],T1=Ge(E1,{block:w1,save:S1,fields:N1}),$1="table",R1="1.0.0",L1="Table",A1="Advanced",I1="mdi:table",B1="Add a data table",_1=["table","data","grid","rows","columns"],D1=["email","page","campaign"],P1={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},M1={headers:["Product","Qty","Price"],rows:[["Product Name 1","2","$29.99"],["Product Name 2","1","$49.99"]],showHeader:!0,headerBgColor:"#f1f5f9",headerTextColor:"#1e293b",borderColor:"#e2e8f0",cellPadding:"12px",fontSize:"14px"},O1={type:$1,version:R1,label:L1,category:A1,icon:I1,description:B1,keywords:_1,contexts:D1,supports:P1,defaultProps:M1},z1=({props:t})=>{const i=ze({padding:"8px",borderRadius:"4px"},t.layoutStyles),a={width:"100%",borderCollapse:"collapse",fontSize:t.fontSize||"14px"},c=ze(a,t.layoutStyles),d={backgroundColor:t.headerBgColor||"#f1f5f9",color:t.headerTextColor||"#1e293b",padding:t.cellPadding||"12px",textAlign:"left",fontWeight:"600",borderBottom:`2px solid ${t.borderColor||"#e2e8f0"}`},h={padding:t.cellPadding||"12px",borderBottom:`1px solid ${t.borderColor||"#e2e8f0"}`,color:"#374151"},m=t.headers||[],g=t.rows||[];return o.jsx("div",{style:i,children:o.jsxs("table",{style:c,children:[t.showHeader&&m.length>0&&o.jsx("thead",{children:o.jsx("tr",{children:m.map((y,b)=>o.jsx("th",{style:d,children:y},b))})}),o.jsx("tbody",{children:g.map((y,b)=>o.jsx("tr",{children:y.map((v,j)=>o.jsx("td",{style:h,children:v},j))},b))})]})})},H1=({props:t,onUpdate:l})=>{const i=(C,S)=>{l({...t,[C]:S})},a=(C,S)=>{const $=[...t.headers||[]];$[C]=S,i("headers",$)},c=(C,S,$)=>{const T=[...t.rows||[]];T[C]=[...T[C]],T[C][S]=$,i("rows",T)},d=()=>{const C=[...t.headers||[],"New Column"],S=(t.rows||[]).map($=>[...$,""]);l({...t,headers:C,rows:S})},h=C=>{const S=[...t.headers||[]];S.splice(C,1);const $=(t.rows||[]).map(T=>{const R=[...T];return R.splice(C,1),R});l({...t,headers:S,rows:$})},m=()=>{const C=[...t.rows||[]],S=(t.headers||[]).length;C.push(Array(S).fill("")),i("rows",C)},g=C=>{const S=[...t.rows||[]];S.splice(C,1),i("rows",S)},y={marginBottom:"16px"},b={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},v={fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},j={width:"100%",borderCollapse:"collapse",fontSize:"12px",marginBottom:"12px"},E={width:"100%",padding:"6px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px"},k={...{padding:"6px 12px",fontSize:"12px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",backgroundColor:"#ffffff"},color:"#dc2626",borderColor:"#dc2626",padding:"4px 8px"};return o.jsxs("div",{children:[o.jsxs("div",{style:y,children:[o.jsx("div",{style:v,children:f("Table Data")}),o.jsx("div",{style:{marginBottom:"12px"},children:o.jsxs("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:t.showHeader!==!1,onChange:C=>i("showHeader",C.target.checked),style:{marginRight:"8px"}}),o.jsx("span",{style:b,children:f("Show Header Row")})]})}),o.jsx("div",{style:{overflowX:"auto",marginBottom:"12px"},children:o.jsxs("table",{style:j,children:[t.showHeader!==!1&&o.jsx("thead",{children:o.jsx("tr",{children:(t.headers||[]).map((C,S)=>o.jsxs("th",{style:{padding:"4px",position:"relative"},children:[o.jsx("input",{type:"text",value:C,onChange:$=>a(S,$.target.value),style:E,placeholder:`Column ${S+1}`}),o.jsx("button",{onClick:()=>h(S),style:{...k,marginTop:"4px",width:"100%"},title:"Remove column",children:o.jsx("iconify-icon",{icon:"mdi:delete",width:"14",height:"14"})})]},S))})}),o.jsx("tbody",{children:(t.rows||[]).map((C,S)=>o.jsxs("tr",{children:[C.map(($,T)=>o.jsx("td",{style:{padding:"4px"},children:o.jsx("input",{type:"text",value:$,onChange:R=>c(S,T,R.target.value),style:E,placeholder:`Cell ${S+1}-${T+1}`})},T)),o.jsx("td",{style:{padding:"4px",width:"40px"},children:o.jsx("button",{onClick:()=>g(S),style:k,title:"Remove row",children:o.jsx("iconify-icon",{icon:"mdi:delete",width:"14",height:"14"})})})]},S))})]})}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsxs("button",{onClick:m,className:"btn btn-default",style:{flex:1,fontSize:"12px",padding:"8px"},children:[o.jsx("iconify-icon",{icon:"mdi:plus",width:"16",height:"16"})," ",f("Add Row")]}),o.jsxs("button",{onClick:d,className:"btn btn-default",style:{flex:1,fontSize:"12px",padding:"8px"},children:[o.jsx("iconify-icon",{icon:"mdi:plus",width:"16",height:"16"})," ",f("Add Column")]})]})]}),o.jsxs("div",{style:y,children:[o.jsx("div",{style:v,children:f("Style")}),o.jsx("label",{style:b,children:f("Font Size")}),o.jsxs("select",{value:t.fontSize||"14px",onChange:C=>i("fontSize",C.target.value),className:"form-control mb-3",children:[o.jsxs("option",{value:"12px",children:[f("Small")," (12px)"]}),o.jsxs("option",{value:"14px",children:[f("Medium")," (14px)"]}),o.jsxs("option",{value:"16px",children:[f("Large")," (16px)"]}),o.jsxs("option",{value:"18px",children:[f("X-Large")," (18px)"]})]}),o.jsx("label",{style:b,children:f("Cell Padding")}),o.jsxs("select",{value:t.cellPadding||"12px",onChange:C=>i("cellPadding",C.target.value),className:"form-control",children:[o.jsxs("option",{value:"8px",children:[f("Small")," (8px)"]}),o.jsxs("option",{value:"12px",children:[f("Medium")," (12px)"]}),o.jsxs("option",{value:"16px",children:[f("Large")," (16px)"]}),o.jsxs("option",{value:"20px",children:[f("X-Large")," (20px)"]})]})]}),o.jsxs("div",{style:y,children:[o.jsx("div",{style:v,children:f("Colors")}),o.jsx("label",{style:b,children:f("Header Background Color")}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[o.jsx("input",{type:"color",value:t.headerBgColor||"#f1f5f9",onChange:C=>i("headerBgColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",value:t.headerBgColor||"#f1f5f9",onChange:C=>i("headerBgColor",C.target.value),className:"form-control",style:{flex:1}})]}),o.jsx("label",{style:b,children:f("Header Text Color")}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[o.jsx("input",{type:"color",value:t.headerTextColor||"#1e293b",onChange:C=>i("headerTextColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",value:t.headerTextColor||"#1e293b",onChange:C=>i("headerTextColor",C.target.value),className:"form-control",style:{flex:1}})]}),o.jsx("label",{style:b,children:f("Border Color")}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("input",{type:"color",value:t.borderColor||"#e2e8f0",onChange:C=>i("borderColor",C.target.value),style:{width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"}}),o.jsx("input",{type:"text",value:t.borderColor||"#e2e8f0",onChange:C=>i("borderColor",C.target.value),className:"form-control",style:{flex:1}})]})]})]})},F1=(t,l={})=>{const a=rn("table",t),c=(t.headers||[]).map(b=>`<th style="background-color: ${t.headerBgColor||"#f1f5f9"}; color: ${t.headerTextColor||"#1e293b"}; padding: ${t.cellPadding||"12px"}; text-align: left; font-weight: 600; border-bottom: 2px solid ${t.borderColor||"#e2e8f0"};">${b}</th>`).join(""),d=t.layoutStyles?.typography?.color||"#374151",h=(t.rows||[]).map(b=>`<tr>${b.map(v=>`<td style="padding: ${t.cellPadding||"12px"}; border-bottom: 1px solid ${t.borderColor||"#e2e8f0"}; color: ${d};">${v}</td>`).join("")}</tr>`).join(""),m=t.layoutStyles?.typography?.fontSize||t.fontSize||"14px",y=on(t,"overflow-x: auto");return`
        <div class="${a}" style="${y}">
            <table class="lb-table-inner" style="width: 100%; font-size: ${m}; border-collapse: collapse;">
                ${t.showHeader&&c?`<thead><tr>${c}</tr></thead>`:""}
                <tbody>${h}</tbody>
            </table>
        </div>
    `},W1=(t,l={})=>{const i=(t.headers||[]).map(c=>`<th style="background-color: ${t.headerBgColor||"#f1f5f9"}; color: ${t.headerTextColor||"#1e293b"}; padding: ${t.cellPadding||"12px"}; text-align: left; font-weight: 600; border-bottom: 2px solid ${t.borderColor||"#e2e8f0"};">${c}</th>`).join(""),a=(t.rows||[]).map(c=>`<tr>${c.map(d=>`<td style="padding: ${t.cellPadding||"12px"}; border-bottom: 1px solid ${t.borderColor||"#e2e8f0"}; color: #374151;">${d}</td>`).join("")}</tr>`).join("");return`
        <table width="100%" cellpadding="0" cellspacing="0" border="0" style="font-size: ${t.fontSize||"14px"}; border-collapse: collapse;">
            ${t.showHeader&&i?`<thead><tr>${i}</tr></thead>`:""}
            <tbody>${a}</tbody>
        </table>
    `},U1={page:F1,email:W1},V1=Ge(O1,{block:z1,editor:H1,save:U1}),K1="code",G1="1.0.0",X1="Code",Y1="Advanced",Q1="mdi:code-braces",q1="Add a code snippet with syntax highlighting",J1=["code","snippet","programming","syntax","highlight"],Z1=["email","page","campaign"],ew={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},tw={code:`<?php
echo "Hello World";
?>`,language:"php",fontSize:"14px",backgroundColor:"#1e1e1e",textColor:"#d4d4d4",borderRadius:"8px"},nw={type:K1,version:G1,label:X1,category:Y1,icon:Q1,description:q1,keywords:J1,contexts:Z1,supports:ew,defaultProps:tw},rw=t=>{const l=document.createElement("div");return l.textContent=t,l.innerHTML},ow=()=>{if(window.Prism)return Promise.resolve();const t=a=>new Promise((c,d)=>{const h=document.createElement("script");h.src=a,h.onload=c,h.onerror=d,document.head.appendChild(h)});if(!document.querySelector('link[href*="prism-tomorrow"]')){const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",document.head.appendChild(a)}if(!document.querySelector('link[href*="prism-toolbar"]')){const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css",document.head.appendChild(a)}const l="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/",i=["markup","css","clike","javascript","markup-templating","php","typescript","jsx","tsx","scss","bash","json","yaml","sql","python"];return t(l+"prism.min.js").then(()=>i.reduce((a,c)=>a.then(()=>t(l+"components/prism-"+c+".min.js").catch(()=>{console.warn("Failed to load Prism language:",c)})),Promise.resolve())).then(()=>t(l+"plugins/toolbar/prism-toolbar.min.js")).then(()=>t(l+"plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"))},lw=({props:t,onUpdate:l,isSelected:i})=>{const a=x.useRef(null),c=x.useRef(null),d=x.useRef(t.code),h=x.useRef(t),m=x.useRef(l),[g,y]=x.useState(!!window.Prism);h.current=t,m.current=l,x.useEffect(()=>{window.Prism||ow().then(()=>{y(!0)})},[]),x.useEffect(()=>{!i&&g&&c.current&&window.Prism&&setTimeout(()=>{c.current&&window.Prism&&window.Prism.highlightAllUnder(c.current)},0)},[i,g,t.code,t.language]);const{handleContentChange:b}=ol({editorRef:a,contentKey:"code",useInnerHTML:!1,propsRef:h,onUpdateRef:m,lastContentRef:d}),v=x.useCallback(()=>{b()},[b]);x.useEffect(()=>{i&&a.current&&a.current.textContent===""&&(a.current.textContent=t.code||"",d.current=t.code)},[i]),x.useEffect(()=>{i&&a.current&&t.code!==d.current&&(a.current.textContent=t.code||"",d.current=t.code)},[t.code,i]),x.useEffect(()=>{i&&a.current&&requestAnimationFrame(()=>{if(a.current){a.current.focus();const C=document.createRange();C.selectNodeContents(a.current),C.collapse(!1);const S=window.getSelection();S.removeAllRanges(),S.addRange(C)}})},[i]);const j=t.language||"php",E={fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',fontSize:t.fontSize||"14px",lineHeight:"1.5",borderRadius:t.borderRadius||"8px",backgroundColor:"#1e1e1e",overflowX:"auto"},L=ze(E,t.layoutStyles),k=`
        .code-block-preview pre[class*="language-"] {
            margin: 0 !important;
            padding: 16px !important;
            background: #1e1e1e !important;
            border-radius: ${t.borderRadius||"8px"} !important;
            font-size: ${t.fontSize||"14px"} !important;
        }
        .code-block-preview code[class*="language-"] {
            font-size: inherit !important;
            font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace !important;
        }
        .code-block-preview .code-toolbar .toolbar {
            opacity: 1;
            top: 8px;
            right: 8px;
        }
        .code-block-preview .code-toolbar .toolbar-item button {
            background: #3b3b3b !important;
            color: #e5e7eb !important;
            border-radius: 4px !important;
            padding: 4px 10px !important;
            font-size: 12px !important;
            box-shadow: none !important;
            border: 1px solid #4b4b4b !important;
            transition: all 0.2s ease !important;
            cursor: pointer;
        }
        .code-block-preview .code-toolbar .toolbar-item button:hover {
            background: #4b4b4b !important;
            color: #fff !important;
        }
    `;return i?o.jsx("div",{"data-text-editing":"true",className:"relative",children:o.jsx("pre",{ref:a,contentEditable:!0,suppressContentEditableWarning:!0,onInput:v,onBlur:v,style:{...L,padding:"16px",color:"#d4d4d4",whiteSpace:"pre-wrap",wordBreak:"break-word",outline:"none",margin:0,minHeight:"60px"}})},"code-editor"):o.jsxs("div",{ref:c,className:"code-block-preview",style:{position:"relative"},children:[o.jsx("style",{children:k}),o.jsx("pre",{className:`language-${j}`,style:{...L,margin:0},children:o.jsx("code",{className:`language-${j}`,dangerouslySetInnerHTML:{__html:rw(t.code||"Click to add code...")}})})]},"code-preview")},iw=t=>t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"",sw=(t,l={})=>{const i={code:t.code||"",language:t.language||"plaintext",fontSize:t.fontSize||"14px",backgroundColor:t.backgroundColor||"#1e1e1e",textColor:t.textColor||"#d4d4d4",borderRadius:t.borderRadius||"8px",layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="code" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},aw=(t,l={})=>{const i=iw(t.code||""),a=t.backgroundColor||"#1e1e1e",c=t.textColor||"#d4d4d4",d=t.fontSize||"14px",h=t.borderRadius||"8px";return`
        <div style="background-color: ${a}; border-radius: ${h}; padding: 16px; overflow-x: auto; font-family: monospace; font-size: ${d}; line-height: 1.5; color: ${c};">
            <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${i}</pre>
        </div>
    `},cw={page:sw,email:aw},uw=[{name:"language",type:"select",label:f("Language"),section:f("Settings"),options:[{value:"markup",label:"HTML"},{value:"css",label:"CSS"},{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"jsx",label:"JSX (React)"},{value:"tsx",label:"TSX (React)"},{value:"php",label:"PHP"},{value:"python",label:"Python"},{value:"bash",label:"Bash / Shell"},{value:"sql",label:"SQL"},{value:"json",label:"JSON"},{value:"yaml",label:"YAML"},{value:"scss",label:"SCSS"},{value:"plaintext",label:"Plain Text"}]},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"12px",label:f("X-Small")+" (12px)"},{value:"14px",label:f("Small")+" (14px)"},{value:"16px",label:f("Medium")+" (16px)"},{value:"18px",label:f("Large")+" (18px)"}]},{name:"borderRadius",type:"select",label:f("Border Radius"),section:f("Style"),options:[{value:"0",label:f("None")},{value:"4px",label:f("Small")+" (4px)"},{value:"6px",label:f("Medium")+" (6px)"},{value:"8px",label:f("Large")+" (8px)"},{value:"12px",label:f("X-Large")+" (12px)"}]}],dw=Ge(nw,{block:lw,save:cw,fields:uw}),fw="preformatted",hw="1.0.0",pw="Preformatted",gw="Content",mw="mdi:format-text-wrapping-wrap",xw="Add preformatted text with monospace font",yw=["preformatted","pre","monospace","fixed","code"],vw=["email","page","campaign"],bw={layout:!0,html:!0,duplicate:!0,remove:!0},ww={text:"Write preformatted text...",backgroundColor:"#f5f5f5",textColor:"#333333",borderColor:"#e0e0e0",borderRadius:"4px"},kw={type:fw,version:hw,label:pw,category:gw,icon:mw,description:xw,keywords:yw,contexts:vw,supports:bw,defaultProps:ww},Cw=({props:t,onUpdate:l,isSelected:i,onRegisterTextFormat:a})=>{const c=x.useRef(null),d=x.useRef(t.text),h=x.useRef(t),m=x.useRef(l);h.current=t,m.current=l;const{handleContentChange:g}=ol({editorRef:c,contentKey:"text",useInnerHTML:!0,propsRef:h,onUpdateRef:m,lastContentRef:d}),y=x.useCallback(()=>{g()},[g]),b=x.useCallback(E=>{m.current({...h.current,align:E})},[]);x.useEffect(()=>{i&&c.current&&(c.current.innerHTML===""||c.current.innerHTML==="<br>")&&(c.current.innerHTML=t.text||"",d.current=t.text)},[i]),x.useEffect(()=>{i&&c.current&&t.text!==d.current&&(c.current.innerHTML=t.text||"",d.current=t.text)},[t.text,i]),x.useEffect(()=>{i&&a?a({editorRef:c,isContentEditable:!0,align:h.current.align||"left",onAlignChange:b}):!i&&a&&a(null)},[i,a,b]),x.useEffect(()=>{i&&c.current&&requestAnimationFrame(()=>{if(c.current){c.current.focus();const E=document.createRange();E.selectNodeContents(c.current),E.collapse(!1);const L=window.getSelection();L.removeAllRanges(),L.addRange(E)}})},[i]);const j=ze({fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace',fontSize:"14px",lineHeight:"1.6",padding:"16px",borderRadius:"4px",backgroundColor:"#f5f5f5",color:"#333333",border:"1px solid #e0e0e0",overflowX:"auto",whiteSpace:"pre-wrap",wordBreak:"break-word"},t.layoutStyles);return i?o.jsx("div",{"data-text-editing":"true",className:"relative",children:o.jsx("pre",{ref:c,contentEditable:!0,suppressContentEditableWarning:!0,onInput:y,onBlur:y,style:{...j,border:"2px solid var(--color-primary, #635bff)",outline:"none",margin:0,minHeight:"60px"}})}):o.jsx("pre",{style:{...j,margin:0},dangerouslySetInnerHTML:{__html:t.text||"Write preformatted text..."}})},Sw=t=>{const i=rn("preformatted",t),a=t.text||"",c=["overflow-x: auto","white-space: pre-wrap","word-wrap: break-word"];t.layoutStyles?.typography?.fontFamily||c.push('font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, "Liberation Mono", monospace'),t.layoutStyles?.typography?.fontSize||c.push("font-size: 14px"),t.layoutStyles?.typography?.lineHeight||c.push("line-height: 1.6"),t.layoutStyles?.typography?.color||c.push("color: #333333"),t.layoutStyles?.background?.color||c.push("background-color: #f5f5f5"),t.layoutStyles?.border?.width||c.push("border: 1px solid #e0e0e0"),t.layoutStyles?.border?.radius||c.push("border-radius: 4px"),t.layoutStyles?.spacing?.padding||c.push("padding: 16px");const d=on(t,c.join("; "));return`<pre class="${i}" style="margin: 0; ${d}">${a}</pre>`},jw=t=>{const l=t.text||"",i=t.layoutStyles||{},a=i.background?.color||"#f5f5f5",c=i.typography?.color||"#333333",d=i.typography?.fontSize||"14px",h=i.typography?.lineHeight||"1.6",m=i.spacing?.padding||"16px",g=i.border?.radius||"4px",y=i.border?.width||"1px",b=i.border?.color||"#e0e0e0";return`<pre style="margin: 0; background-color: ${a}; border-radius: ${g}; padding: ${m}; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word; font-family: monospace; font-size: ${d}; line-height: ${h}; color: ${c}; border: ${y} solid ${b};">${l}</pre>`},Ew={page:Sw,email:jw},Nw=[{name:"borderRadius",type:"text",label:f("Border Radius"),section:f("Style"),placeholder:"4px"},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Colors")},{name:"textColor",type:"color",label:f("Text Color"),section:f("Colors")},{name:"borderColor",type:"color",label:f("Border Color"),section:f("Colors")}],Tw=Ge(kw,{block:Cw,save:Ew,fields:Nw}),$w="accordion",Rw="1.0.0",Lw="Accordion",Aw="Content",Iw="mdi:arrow-collapse-vertical",Bw="Add collapsible accordion sections",_w=["accordion","collapse","expand","faq"],Dw=["email","page","campaign"],Pw={colors:!0,layout:!0,html:!0,duplicate:!0,remove:!0},Mw={items:[{title:"Accordion Item 1",content:"Content for the first accordion item."},{title:"Accordion Item 2",content:"Content for the second accordion item."}],independentToggle:!1,transitionDuration:200,headerBgColor:"#ffffff",headerBgColorActive:"#f9fafb",headerPadding:"16px",titleColor:"#1f2937",titleFontSize:"16px",titleFontWeight:"600",contentBgColor:"#ffffff",contentColor:"#4b5563",contentFontSize:"14px",contentPadding:"16px",iconColor:"#6b7280",iconPosition:"right",borderColor:"#e5e7eb",borderRadius:"8px"},Ow=[{name:"items",type:"array",label:"Accordion Items"},{name:"independentToggle",type:"boolean",label:"Independent Toggle"},{name:"transitionDuration",type:"number",label:"Transition Duration (ms)"},{name:"headerBgColor",type:"color",label:"Header Background Color"},{name:"headerBgColorActive",type:"color",label:"Header Active Background Color"},{name:"headerPadding",type:"text",label:"Header Padding"},{name:"titleColor",type:"color",label:"Title Color"},{name:"titleFontSize",type:"text",label:"Title Font Size"},{name:"titleFontWeight",type:"select",label:"Title Font Weight",options:[{value:"400",label:"Normal (400)"},{value:"500",label:"Medium (500)"},{value:"600",label:"Semi-bold (600)"},{value:"700",label:"Bold (700)"}]},{name:"contentBgColor",type:"color",label:"Content Background Color"},{name:"contentColor",type:"color",label:"Content Color"},{name:"contentFontSize",type:"text",label:"Content Font Size"},{name:"contentPadding",type:"text",label:"Content Padding"},{name:"iconColor",type:"color",label:"Icon Color"},{name:"iconPosition",type:"select",label:"Icon Position",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}]},{name:"borderColor",type:"color",label:"Border Color"},{name:"borderRadius",type:"text",label:"Border Radius"}],zw={type:$w,version:Rw,label:Lw,category:Aw,icon:Iw,description:Bw,keywords:_w,contexts:Dw,supports:Pw,defaultProps:Mw,properties:Ow},Hw=({props:t,isSelected:l,onUpdate:i})=>{const[a,c]=x.useState([0]),[d,h]=x.useState(null),m=x.useRef(null),g=x.useRef(t),y=x.useRef(i);g.current=t,y.current=i;const b=t.items||[{title:"Accordion Item 1",content:"Content for the first accordion item."}],v=K=>{t.independentToggle?c(X=>X.includes(K)?X.filter(M=>M!==K):[...X,K]):c(X=>X.includes(K)?[]:[K])},j=()=>{const K=[...b,{title:"New Item",content:"Content goes here..."}];y.current({...g.current,items:K})},E=(K,X)=>{if(X.stopPropagation(),b.length<=1)return;const M=b.filter((Z,ne)=>ne!==K);y.current({...g.current,items:M}),c(Z=>Z.filter(ne=>ne!==K).map(ne=>ne>K?ne-1:ne))},L=(K,X,M)=>{M.stopPropagation(),h({index:K,field:X})},k=x.useCallback(()=>{if(m.current&&d){const K=m.current.innerText,X=[...g.current.items];X[d.index]={...X[d.index],[d.field]:K},y.current({...g.current,items:X})}},[d]),C=()=>{k(),h(null)},S=K=>{K.key==="Enter"&&d?.field==="title"?(K.preventDefault(),C()):K.key==="Escape"&&h(null)};x.useEffect(()=>{if(d&&m.current){m.current.focus();const K=document.createRange();K.selectNodeContents(m.current),K.collapse(!1);const X=window.getSelection();X.removeAllRanges(),X.addRange(K)}},[d]);const T=ze({padding:"8px",borderRadius:"8px"},t.layoutStyles),R={border:`1px solid ${t.borderColor||"#e5e7eb"}`,borderRadius:t.borderRadius||"8px",overflow:"hidden"},P=K=>({borderBottom:K?"none":`1px solid ${t.borderColor||"#e5e7eb"}`}),z=K=>({display:"flex",alignItems:"center",justifyContent:"space-between",padding:t.headerPadding||"16px",backgroundColor:K?t.headerBgColorActive||t.headerBgColor||"#f9fafb":t.headerBgColor||"#ffffff",cursor:"pointer",transition:"background-color 0.2s",userSelect:"none"}),H={fontWeight:t.titleFontWeight||"600",fontSize:t.titleFontSize||"16px",color:t.titleColor||"#1f2937",margin:0,flex:1},W={padding:t.contentPadding||"16px",backgroundColor:t.contentBgColor||"#ffffff",color:t.contentColor||"#4b5563",fontSize:t.contentFontSize||"14px",lineHeight:"1.6"},q=K=>({color:t.iconColor||"#6b7280",transition:`transform ${t.transitionDuration||200}ms ease`,transform:K?"rotate(180deg)":"rotate(0deg)",flexShrink:0,marginLeft:"12px"});return o.jsxs("div",{style:T,children:[o.jsx("div",{style:R,children:b.map((K,X)=>{const M=a.includes(X),Z=X===b.length-1,ne=d?.index===X&&d?.field==="title",ue=d?.index===X&&d?.field==="content";return o.jsxs("div",{style:P(Z),children:[o.jsxs("div",{style:z(M),onClick:()=>!d&&v(X),children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,gap:"8px"},children:[t.iconPosition==="left"&&o.jsx("span",{style:{...q(M),marginLeft:0,marginRight:"12px"},children:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})}),l&&ne?o.jsx("div",{ref:m,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C,onKeyDown:S,onClick:ke=>ke.stopPropagation(),style:{...H,outline:"none",border:"1px solid var(--color-primary, #635bff)",borderRadius:"4px",padding:"4px 8px",backgroundColor:"white"},children:K.title}):o.jsx("h3",{style:H,onDoubleClick:ke=>l&&L(X,"title",ke),children:K.title})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l&&b.length>1&&o.jsx("button",{type:"button",onClick:ke=>E(X,ke),style:{padding:"4px",border:"none",background:"none",cursor:"pointer",color:"#ef4444",opacity:.7},title:"Delete item",children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})})}),t.iconPosition!=="left"&&o.jsx("span",{style:q(M),children:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"6 9 12 15 18 9"})})})]})]}),o.jsx("div",{style:{maxHeight:M?"1000px":"0",overflow:"hidden",transition:`max-height ${t.transitionDuration||200}ms ease-in-out`},children:l&&ue?o.jsx("div",{ref:m,contentEditable:!0,suppressContentEditableWarning:!0,onBlur:C,onKeyDown:ke=>ke.key==="Escape"&&C(),style:{...W,outline:"none",border:"2px solid var(--color-primary, #635bff)",minHeight:"80px"},children:K.content}):o.jsx("div",{style:W,onDoubleClick:ke=>l&&L(X,"content",ke),children:K.content||"Click to add content..."})})]},X)})}),l&&o.jsxs("button",{type:"button",onClick:j,style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"12px",padding:"8px 16px",backgroundColor:"var(--color-primary, #635bff)",color:"white",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add Accordion Item"]}),l&&o.jsx("p",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:"Double-click on title or content to edit"})]})},Fw=({props:t,onUpdate:l})=>{const i=(g,y)=>{l({...t,[g]:y})},a={marginBottom:"16px"},c={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},d={fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"12px",paddingBottom:"8px",borderBottom:"1px solid #e5e7eb"},h={display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},m={width:"40px",height:"36px",padding:"2px",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer"};return o.jsxs("div",{children:[o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Behavior")}),o.jsxs("label",{style:{...c,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx("input",{type:"checkbox",checked:t.independentToggle||!1,onChange:g=>i("independentToggle",g.target.checked),style:{cursor:"pointer"}}),o.jsx("span",{children:f("Allow Multiple Items Open")})]}),o.jsxs("div",{style:{marginTop:"12px"},children:[o.jsx("label",{style:c,children:f("Transition Duration (ms)")}),o.jsx("input",{type:"number",value:t.transitionDuration||200,onChange:g=>i("transitionDuration",parseInt(g.target.value)||200),className:"form-control",min:"0",max:"1000",step:"50"})]})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Header Styling")}),o.jsx("label",{style:c,children:f("Background Color")}),o.jsxs("div",{style:h,children:[o.jsx("input",{type:"color",value:t.headerBgColor||"#ffffff",onChange:g=>i("headerBgColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.headerBgColor||"#ffffff",onChange:g=>i("headerBgColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#ffffff"})]}),o.jsx("label",{style:c,children:f("Active Background Color")}),o.jsxs("div",{style:h,children:[o.jsx("input",{type:"color",value:t.headerBgColorActive||"#f9fafb",onChange:g=>i("headerBgColorActive",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.headerBgColorActive||"#f9fafb",onChange:g=>i("headerBgColorActive",g.target.value),className:"form-control",style:{flex:1},placeholder:"#f9fafb"})]}),o.jsx("label",{style:c,children:f("Padding")}),o.jsx("input",{type:"text",value:t.headerPadding||"16px",onChange:g=>i("headerPadding",g.target.value),className:"form-control",placeholder:"16px"})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Title Styling")}),o.jsx("label",{style:c,children:f("Color")}),o.jsxs("div",{style:h,children:[o.jsx("input",{type:"color",value:t.titleColor||"#1f2937",onChange:g=>i("titleColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.titleColor||"#1f2937",onChange:g=>i("titleColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#1f2937"})]}),o.jsx("label",{style:c,children:f("Font Size")}),o.jsxs("select",{value:t.titleFontSize||"16px",onChange:g=>i("titleFontSize",g.target.value),className:"form-control",style:{marginBottom:"12px"},children:[o.jsx("option",{value:"12px",children:"12px"}),o.jsx("option",{value:"14px",children:"14px"}),o.jsx("option",{value:"16px",children:"16px"}),o.jsx("option",{value:"18px",children:"18px"}),o.jsx("option",{value:"20px",children:"20px"}),o.jsx("option",{value:"24px",children:"24px"})]}),o.jsx("label",{style:c,children:f("Font Weight")}),o.jsxs("select",{value:t.titleFontWeight||"600",onChange:g=>i("titleFontWeight",g.target.value),className:"form-control",children:[o.jsxs("option",{value:"400",children:[f("Normal")," (400)"]}),o.jsxs("option",{value:"500",children:[f("Medium")," (500)"]}),o.jsxs("option",{value:"600",children:[f("Semi-bold")," (600)"]}),o.jsxs("option",{value:"700",children:[f("Bold")," (700)"]})]})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Content Styling")}),o.jsx("label",{style:c,children:f("Background Color")}),o.jsxs("div",{style:h,children:[o.jsx("input",{type:"color",value:t.contentBgColor||"#ffffff",onChange:g=>i("contentBgColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.contentBgColor||"#ffffff",onChange:g=>i("contentBgColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#ffffff"})]}),o.jsx("label",{style:c,children:f("Text Color")}),o.jsxs("div",{style:h,children:[o.jsx("input",{type:"color",value:t.contentColor||"#4b5563",onChange:g=>i("contentColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.contentColor||"#4b5563",onChange:g=>i("contentColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#4b5563"})]}),o.jsx("label",{style:c,children:f("Font Size")}),o.jsxs("select",{value:t.contentFontSize||"14px",onChange:g=>i("contentFontSize",g.target.value),className:"form-control",style:{marginBottom:"12px"},children:[o.jsx("option",{value:"12px",children:"12px"}),o.jsx("option",{value:"14px",children:"14px"}),o.jsx("option",{value:"16px",children:"16px"}),o.jsx("option",{value:"18px",children:"18px"})]}),o.jsx("label",{style:c,children:f("Padding")}),o.jsx("input",{type:"text",value:t.contentPadding||"16px",onChange:g=>i("contentPadding",g.target.value),className:"form-control",placeholder:"16px"})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Icon")}),o.jsx("label",{style:c,children:f("Color")}),o.jsxs("div",{style:h,children:[o.jsx("input",{type:"color",value:t.iconColor||"#6b7280",onChange:g=>i("iconColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.iconColor||"#6b7280",onChange:g=>i("iconColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#6b7280"})]}),o.jsx("label",{style:c,children:f("Position")}),o.jsxs("select",{value:t.iconPosition||"right",onChange:g=>i("iconPosition",g.target.value),className:"form-control",children:[o.jsx("option",{value:"left",children:f("Left")}),o.jsx("option",{value:"right",children:f("Right")})]})]}),o.jsxs("div",{style:a,children:[o.jsx("div",{style:d,children:f("Border")}),o.jsx("label",{style:c,children:f("Color")}),o.jsxs("div",{style:h,children:[o.jsx("input",{type:"color",value:t.borderColor||"#e5e7eb",onChange:g=>i("borderColor",g.target.value),style:m}),o.jsx("input",{type:"text",value:t.borderColor||"#e5e7eb",onChange:g=>i("borderColor",g.target.value),className:"form-control",style:{flex:1},placeholder:"#e5e7eb"})]}),o.jsx("label",{style:c,children:f("Border Radius")}),o.jsx("input",{type:"text",value:t.borderRadius||"8px",onChange:g=>i("borderRadius",g.target.value),className:"form-control",placeholder:"8px"})]}),o.jsxs("div",{style:{padding:"12px",backgroundColor:"#f3f4f6",borderRadius:"6px",fontSize:"12px",color:"#6b7280",lineHeight:"1.5"},children:[o.jsx("strong",{style:{color:"#374151"},children:f("Tip:")})," ",f('Double-click on titles or content in the canvas to edit them directly. Use the "Add Accordion Item" button to add more items.')]})]})},Ww=(t,l={})=>{const a=rn("accordion",t),c=t.items||[{title:"Accordion Item",content:"Content goes here..."}],d=`accordion-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,h=t.layoutStyles?.border?.color||t.borderColor||"#e5e7eb",m=t.layoutStyles?.border?.radius||t.borderRadius||"8px",g=t.headerBgColor||"#ffffff",y=t.headerBgColorActive||"#f9fafb",b=t.headerPadding||"16px",v=t.layoutStyles?.typography?.color||t.titleColor||"#1f2937",j=t.layoutStyles?.typography?.fontSize||t.titleFontSize||"16px",E=t.layoutStyles?.typography?.fontWeight||t.titleFontWeight||"600",L=t.contentBgColor||"#ffffff",k=t.contentColor||"#4b5563",C=t.contentFontSize||"14px",S=t.contentPadding||"16px",$=t.iconColor||"#6b7280",T=t.iconPosition||"right",R=t.transitionDuration||200,P=t.independentToggle||!1,z=c.map((q,K)=>{const X=K===c.length-1,M=`${d}-item-${K}`;return`
            <div class="lb-accordion-item" data-index="${K}" style="border-bottom: ${X?"none":`1px solid ${h}`};">
                <button type="button" class="lb-accordion-header" data-target="${M}" style="display: flex; align-items: center; justify-content: space-between; width: 100%; padding: ${b}; background-color: ${g}; border: none; cursor: pointer; text-align: left; transition: background-color 0.2s; flex-direction: ${T==="left"?"row-reverse":"row"};">
                    <span style="font-weight: ${E}; font-size: ${j}; color: ${v}; flex: 1;">${q.title}</span>
                    <span class="lb-accordion-icon" style="color: ${$}; transition: transform ${R}ms ease; ${T==="left"?"margin-right: 12px;":"margin-left: 12px;"}">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </span>
                </button>
                <div id="${M}" class="lb-accordion-content" style="max-height: 0; overflow: hidden; transition: max-height ${R}ms ease-in-out;">
                    <div style="padding: ${S}; background-color: ${L}; color: ${k}; font-size: ${C}; line-height: 1.6;">
                        ${q.content}
                    </div>
                </div>
            </div>
        `}).join(""),H=["overflow: hidden"];t.layoutStyles?.border||(H.push(`border: 1px solid ${h}`),H.push(`border-radius: ${m}`));const W=on(t,H.join("; "));return`
        <div class="${a}" id="${d}" data-independent="${P}" style="${W}">
            ${z}
        </div>
        <script>
            (function() {
                const accordion = document.getElementById('${d}');
                if (!accordion) return;
                const isIndependent = accordion.dataset.independent === 'true';
                const headers = accordion.querySelectorAll('.lb-accordion-header');

                headers.forEach(header => {
                    header.addEventListener('click', function() {
                        const targetId = this.dataset.target;
                        const content = document.getElementById(targetId);
                        const icon = this.querySelector('.lb-accordion-icon');
                        const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

                        if (!isIndependent) {
                            // Close all other items
                            accordion.querySelectorAll('.lb-accordion-content').forEach(c => {
                                c.style.maxHeight = '0px';
                            });
                            accordion.querySelectorAll('.lb-accordion-icon').forEach(i => {
                                i.style.transform = 'rotate(0deg)';
                            });
                            accordion.querySelectorAll('.lb-accordion-header').forEach(h => {
                                h.style.backgroundColor = '${g}';
                            });
                        }

                        if (isOpen) {
                            content.style.maxHeight = '0px';
                            icon.style.transform = 'rotate(0deg)';
                            this.style.backgroundColor = '${g}';
                        } else {
                            content.style.maxHeight = content.scrollHeight + 'px';
                            icon.style.transform = 'rotate(180deg)';
                            this.style.backgroundColor = '${y}';
                        }
                    });
                });

                // Open first item by default
                const firstHeader = headers[0];
                if (firstHeader) {
                    firstHeader.click();
                }
            })();
        <\/script>
    `},Uw=(t,l={})=>{const i=t.items||[{title:"Accordion Item",content:"Content goes here..."}],a=t.borderColor||"#e5e7eb",c=t.borderRadius||"8px",d=t.headerBgColor||"#ffffff",h=t.headerPadding||"16px",m=t.titleColor||"#1f2937",g=t.titleFontSize||"16px",y=t.titleFontWeight||"600",b=t.contentBgColor||"#ffffff",v=t.contentColor||"#4b5563",j=t.contentFontSize||"14px",E=t.contentPadding||"16px",L=t.iconColor||"#6b7280",k=i.map((C,S)=>`
            <div style="border-bottom: ${S===i.length-1?"none":`1px solid ${a}`};">
                <div style="display: flex; align-items: center; justify-content: space-between; padding: ${h}; background-color: ${d};">
                    <span style="font-weight: ${y}; font-size: ${g}; color: ${m};">${C.title}</span>
                    <span style="color: ${L}; font-size: 12px;">&#9660;</span>
                </div>
                <div style="padding: ${E}; background-color: ${b}; color: ${v}; font-size: ${j}; line-height: 1.6;">
                    ${C.content}
                </div>
            </div>
        `).join("");return`
        <div style="border: 1px solid ${a}; border-radius: ${c}; overflow: hidden;">
            ${k}
        </div>
    `},Vw={page:Ww,email:Uw},Kw=Ge(zw,{block:Hw,editor:Fw,save:Vw}),Gw="toc",Xw="1.0.0",Yw="Table of Contents",Qw="Content",qw="mdi:table-of-contents",Jw="Auto-generated table of contents from headings",Zw=["toc","table of contents","navigation","headings","index"],ek=["page"],tk={colors:!0,align:!1,layout:!0,html:!0,duplicate:!0,remove:!0},nk={title:"Table of Contents",showTitle:!0,minLevel:"h1",maxLevel:"h4",listStyle:"bullet",backgroundColor:"#f8fafc",borderColor:"#e2e8f0",titleColor:"#1e293b",linkColor:"#3b82f6"},rk={type:Gw,version:Xw,label:Yw,category:Qw,icon:qw,description:Jw,keywords:Zw,contexts:ek,supports:tk,defaultProps:nk},ok=(t,l,i)=>{const a=[],c=d=>{if(Array.isArray(d))for(const h of d){if(h.type==="heading"&&h.props?.text){const m=h.props.level||"h2",g=parseInt(m.replace("h",""),10);if(g>=l&&g<=i){let y=h.props.text,b;do b=y,y=y.replace(/<[^>]*>/g,"");while(y!==b);y.trim()&&a.push({id:h.id,level:g,text:y.trim()})}}if(h.props?.children&&Array.isArray(h.props.children))for(const m of h.props.children)Array.isArray(m)&&c(m)}};return c(t),a};function lk({props:t,isSelected:l}){const{title:i=f("Table of Contents"),showTitle:a=!0,minLevel:c="h1",maxLevel:d="h4",listStyle:h="bullet",backgroundColor:m="#f8fafc",borderColor:g="#e2e8f0",titleColor:y="#1e293b",linkColor:b="#635bff",layoutStyles:v}=t,{state:j}=Pi(),E=j.blocks,L=parseInt(c.replace("h",""),10),k=parseInt(d.replace("h",""),10),C=x.useMemo(()=>ok(E,L,k),[E,L,k]),S=ze({backgroundColor:m,border:`1px solid ${g}`,borderRadius:"8px",padding:"16px 20px"},v),$={color:y,fontSize:"18px",fontWeight:"600",marginBottom:"12px",margin:0,paddingBottom:"8px",borderBottom:`1px solid ${g}`},T={margin:0,padding:0,listStyle:h==="none"?"none":h==="number"?"decimal":"disc",paddingLeft:h==="none"?"0":"20px"},R=H=>({marginLeft:`${(H-L)*16}px`,marginBottom:"6px",lineHeight:"1.6"}),P={color:b,textDecoration:"none"},z=h==="number"?"ol":"ul";return o.jsxs("div",{style:S,children:[a&&o.jsx("h4",{style:$,children:i}),o.jsx("nav",{children:o.jsx(z,{style:T,children:C.length===0?o.jsx("li",{style:{color:"#94a3b8",fontStyle:"italic"},children:f("No headings found.")}):C.map(H=>o.jsx("li",{style:R(H.level),children:o.jsx("span",{style:P,children:H.text})},H.id))})})]})}const Of=t=>Array.isArray(t)?t.map(l=>{const i={type:l.type,id:l.id};return l.type==="heading"&&l.props&&(i.props={text:l.props.text,level:l.props.level}),l.props?.children&&Array.isArray(l.props.children)&&(i.props=i.props||{},i.props.children=l.props.children.map(a=>Array.isArray(a)?Of(a):a)),i}):[],ik=(t,l={})=>{const{title:i="Table of Contents",showTitle:a=!0,minLevel:c="h1",maxLevel:d="h4",listStyle:h="bullet",backgroundColor:m="#f8fafc",borderColor:g="#e2e8f0",titleColor:y="#1e293b",linkColor:b="#635bff"}=t,v=Of(l.allBlocks||[]),j={title:i,showTitle:a,minLevel:c,maxLevel:d,listStyle:h,backgroundColor:m,borderColor:g,titleColor:y,linkColor:b,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||"",_allBlocks:v};return`<div data-lara-block="toc" data-props='${JSON.stringify(j).replace(/'/g,"&#39;")}'></div>`},sk=()=>null,ak={page:ik,email:sk},ck=[{name:"title",type:"text",label:f("Title"),section:f("Content"),placeholder:f("Table of Contents")},{name:"showTitle",type:"toggle",label:f("Show Title"),section:f("Content")},{name:"minLevel",type:"select",label:f("Minimum Heading Level"),section:f("Content"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}]},{name:"maxLevel",type:"select",label:f("Maximum Heading Level"),section:f("Content"),options:[{value:"h1",label:"H1"},{value:"h2",label:"H2"},{value:"h3",label:"H3"},{value:"h4",label:"H4"},{value:"h5",label:"H5"},{value:"h6",label:"H6"}]},{name:"listStyle",type:"select",label:f("List Style"),section:f("Style"),options:[{value:"bullet",label:f("Bullet")},{value:"number",label:f("Numbered")},{value:"none",label:f("None")}]},{name:"backgroundColor",type:"color",label:f("Background Color"),section:f("Style")},{name:"borderColor",type:"color",label:f("Border Color"),section:f("Style")},{name:"titleColor",type:"color",label:f("Title Color"),section:f("Style")},{name:"linkColor",type:"color",label:f("Link Color"),section:f("Style")}],uk=Ge(rk,{block:lk,save:ak,fields:ck}),dk="time-to-read",fk="1.0.0",hk="Time to Read",pk="Content",gk="mdi:clock-outline",mk="Display estimated reading time for the content",xk=["time","read","reading","minutes","duration","estimate"],yk=["page"],vk={align:!0,colors:!0,spacing:!0,layout:!0,html:!0,duplicate:!0,remove:!0},bk={wordsPerMinute:200,displayAsRange:!0,prefix:"",suffix:"",align:"left",color:"#666666",fontSize:"14px",iconColor:"#666666",showIcon:!0},wk={type:dk,version:fk,label:hk,category:pk,icon:gk,description:mk,keywords:xk,contexts:yk,supports:vk,defaultProps:bk},kk=({props:t})=>{const i={display:"flex",alignItems:"center",gap:"6px",textAlign:Tr(t.layoutStyles||{}).textAlign||t.align||"left",justifyContent:t.align==="center"?"center":t.align==="right"?"flex-end":"flex-start"},a=ze(i,t.layoutStyles),c={color:t.layoutStyles?.typography?.color||t.color||"#666666",fontSize:t.layoutStyles?.typography?.fontSize||t.fontSize||"14px",lineHeight:"1.4"},d={color:t.iconColor||t.color||"#666666",width:"16px",height:"16px",flexShrink:0},h=()=>{const m=t.prefix||"",g=t.suffix||"";return t.displayAsRange?`${m}1-2 minutes${g}`:`${m}2 minutes${g}`};return o.jsxs("div",{style:a,children:[t.showIcon&&o.jsxs("svg",{style:d,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("polyline",{points:"12 6 12 12 16 14"})]}),o.jsx("span",{style:c,children:h()})]})},Ck=(t,l={})=>{const i={wordsPerMinute:t.wordsPerMinute||200,displayAsRange:t.displayAsRange!==!1,prefix:t.prefix||"",suffix:t.suffix||"",align:t.align||"left",color:t.color||"#666666",fontSize:t.fontSize||"14px",iconColor:t.iconColor||"#666666",showIcon:t.showIcon!==!1,layoutStyles:t.layoutStyles||{},customCSS:t.customCSS||"",customClass:t.customClass||""};return`<div data-lara-block="time-to-read" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Sk=(t,l={})=>"",jk={page:Ck,email:Sk},Ek=[{name:"displayAsRange",type:"toggle",label:f("Display as range"),section:f("Settings"),help:f('Show reading time as a range (e.g., "1-2 minutes" instead of "2 minutes")')},{name:"wordsPerMinute",type:"number",label:f("Words per minute"),section:f("Settings"),help:f("Average reading speed (default: 200 WPM)"),min:100,max:400,step:10},{name:"showIcon",type:"toggle",label:f("Show clock icon"),section:f("Settings")},{name:"prefix",type:"text",label:f("Prefix text"),section:f("Labels"),placeholder:f('e.g., "Reading time: "')},{name:"suffix",type:"text",label:f("Suffix text"),section:f("Labels"),placeholder:f('e.g., " read"')},{name:"color",type:"color",label:f("Text Color"),section:f("Colors")},{name:"iconColor",type:"color",label:f("Icon Color"),section:f("Colors")},{name:"fontSize",type:"select",label:f("Font Size"),section:f("Typography"),options:[{value:"12px",label:"12px"},{value:"14px",label:"14px"},{value:"16px",label:"16px"},{value:"18px",label:"18px"}]},{name:"align",type:"select",label:f("Alignment"),section:f("Layout"),options:[{value:"left",label:f("Left")},{value:"center",label:f("Center")},{value:"right",label:f("Right")}]}],Nk=Ge(wk,{block:kk,save:jk,fields:Ek}),Tk="markdown",$k="1.1.0",Rk="Markdown",Lk="Advanced",Ak="mdi:language-markdown",Ik="Write markdown directly or fetch from external URLs (GitHub, GitLab, etc.)",Bk=["markdown","md","github","documentation","external","url","content","write"],_k=["page"],Dk={layout:!0,html:!1,duplicate:!0,remove:!0},Pk={sourceType:"content",content:"",url:"",showSource:!0,cacheEnabled:!0},Mk={type:Tk,version:$k,label:Rk,category:Lk,icon:Ak,description:Ik,keywords:Bk,contexts:_k,supports:Dk,defaultProps:Pk},Ok=()=>{if(window.Prism)return Promise.resolve();const t=a=>new Promise((c,d)=>{const h=document.createElement("script");h.src=a,h.onload=c,h.onerror=d,document.head.appendChild(h)});if(!document.querySelector('link[href*="prism-tomorrow"]')){const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css",document.head.appendChild(a)}if(!document.querySelector('link[href*="prism-toolbar"]')){const a=document.createElement("link");a.rel="stylesheet",a.href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css",document.head.appendChild(a)}const l="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/",i=["markup","css","clike","javascript","markup-templating","php","typescript","jsx","tsx","scss","bash","json","yaml","sql","python"];return t(l+"prism.min.js").then(()=>i.reduce((a,c)=>a.then(()=>t(l+"components/prism-"+c+".min.js").catch(()=>{console.warn("Failed to load Prism language:",c)})),Promise.resolve())).then(()=>t(l+"plugins/toolbar/prism-toolbar.min.js")).then(()=>t(l+"plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"))},zk=({props:t,onUpdate:l,isSelected:i})=>{const[a,c]=x.useState(!1),[d,h]=x.useState(null),[m,g]=x.useState(""),[y,b]=x.useState(!1),[v,j]=x.useState(!1),[E,L]=x.useState(""),k=x.useRef(""),C=x.useRef(""),S=x.useRef(null),$=x.useRef(null);x.useRef(t.content);const T=t.sourceType||"content",R=x.useCallback(async()=>{const M=T==="content"?t.content:E;if(M)try{await navigator.clipboard.writeText(M),j(!0),setTimeout(()=>j(!1),2e3)}catch(Z){console.error("Failed to copy:",Z)}},[T,t.content,E]);x.useEffect(()=>{m&&S.current&&(T==="url"||!i)&&Ok().then(()=>{setTimeout(()=>{window.Prism&&S.current&&window.Prism.highlightAllUnder(S.current)},0)})},[m,i,T]);const P=x.useCallback(async M=>{if(!M){g("");return}c(!0),h(null);try{const Z=await fetch("/api/admin/builder/markdown/convert",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},credentials:"same-origin",body:JSON.stringify({content:M})}),ne=await Z.json();if(!Z.ok||!ne.success)throw new Error(ne.error||"Failed to convert markdown");g(ne.html),C.current=M}catch(Z){h(Z.message),g("")}finally{c(!1)}},[]),z=x.useCallback(async(M,Z=!1)=>{if(!M){g(""),h(null);return}c(!0),h(null);try{const ne=await fetch("/api/admin/builder/markdown/fetch",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||""},credentials:"same-origin",body:JSON.stringify({url:M,refresh:Z})}),ue=await ne.json();if(!ne.ok||!ue.success)throw new Error(ue.error||"Failed to fetch markdown");g(ue.html),b(ue.cached||!1),L(ue.markdown||""),k.current=M}catch(ne){h(ne.message),g("")}finally{c(!1)}},[]);x.useEffect(()=>{T==="url"&&t.url&&t.url!==k.current?z(t.url,!1):T==="content"&&t.content&&t.content!==C.current&&P(t.content)},[T,t.url,t.content,z,P]),x.useEffect(()=>{!i&&T==="content"&&t.content&&t.content!==C.current&&P(t.content)},[i,T,t.content,P]);const H=x.useCallback(M=>{const Z=M.target.value;l({...t,content:Z})},[t,l]);x.useEffect(()=>{i&&T==="content"&&$.current&&$.current.focus()},[i,T]);const W=()=>{T==="url"&&t.url&&z(t.url,!0)},K=ze({borderRadius:"4px",minHeight:"100px"},t.layoutStyles),X=`
        .markdown-content {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: #1f2937;
        }
        .markdown-content h1 { font-size: 2em; font-weight: 700; margin: 1em 0 0.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
        .markdown-content h2 { font-size: 1.5em; font-weight: 600; margin: 1em 0 0.5em; border-bottom: 1px solid #e5e7eb; padding-bottom: 0.3em; }
        .markdown-content h3 { font-size: 1.25em; font-weight: 600; margin: 1em 0 0.5em; }
        .markdown-content h4 { font-size: 1em; font-weight: 600; margin: 1em 0 0.5em; }
        .markdown-content p { margin: 0 0 1em; }
        .markdown-content ul { margin: 0 0 1em; padding-left: 2em; list-style-type: disc; }
        .markdown-content ol { margin: 0 0 1em; padding-left: 2em; list-style-type: decimal; }
        .markdown-content li { margin: 0.25em 0; display: list-item; }
        .markdown-content code { background: #f3f4f6; padding: 0.2em 0.4em; border-radius: 4px; font-size: 0.875em; font-family: ui-monospace, monospace; color: #e83e8c; }
        .markdown-content pre[class*="language-"] { background: #1e1e1e; padding: 1em !important; border-radius: 8px; overflow-x: auto; margin: 0 0 1em; }
        .markdown-content pre code { display: block; background: transparent !important; font-size: 0.875em; line-height: 1.5; }
        .markdown-content blockquote { border-left: 4px solid #6366f1; padding-left: 1em; margin: 0 0 1em; color: #6b7280; font-style: italic; }
        .markdown-content a { color: #6366f1; text-decoration: underline; }
        .markdown-content a:hover { color: #4f46e5; }
        .markdown-content table { border-collapse: collapse; width: 100%; margin: 0 0 1em; }
        .markdown-content th, .markdown-content td { border: 1px solid #e5e7eb; padding: 0.5em 1em; text-align: left; }
        .markdown-content th { background: #f9fafb; font-weight: 600; }
        .markdown-content hr { border: none; border-top: 1px solid #e5e7eb; margin: 2em 0; }
        .markdown-content img { max-width: 100%; height: auto; border-radius: 8px; }
        .markdown-content input[type="checkbox"] { margin-right: 0.5em; }

        /* Copy button styling for Prism */
        .markdown-content .code-toolbar .toolbar { opacity: 1; }
        .markdown-content .code-toolbar .toolbar-item button {
            background: #3b3b3b !important;
            color: #e5e7eb !important;
            border-radius: 4px !important;
            padding: 4px 10px !important;
            font-size: 12px !important;
            box-shadow: none !important;
            border: 1px solid #4b4b4b !important;
            transition: all 0.2s ease !important;
            cursor: pointer;
        }
        .markdown-content .code-toolbar .toolbar-item button:hover {
            background: #4b4b4b !important;
            color: #fff !important;
        }
    `;return i&&T==="content"?o.jsx("div",{style:K,"data-text-editing":"true",children:o.jsx("textarea",{ref:$,value:t.content||"",onChange:H,placeholder:`# Hello World

Write your **markdown** content here...

- Item 1
- Item 2

\`\`\`php
echo 'Hello';
\`\`\``,className:"w-full px-4 py-3 border-0 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white font-mono text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",style:{minHeight:"200px",resize:"vertical",lineHeight:"1.6"}})}):o.jsxs("div",{style:K,children:[o.jsx("style",{children:X}),a&&o.jsx("div",{className:"p-6 text-center",children:o.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[o.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{children:T==="url"?"Fetching markdown...":"Converting markdown..."})]})}),d&&!a&&o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[o.jsx("iconify-icon",{icon:"mdi:alert-circle",width:"20",height:"20"}),o.jsx("span",{className:"text-sm font-medium",children:"Error loading markdown"})]}),o.jsx("p",{className:"text-xs text-red-500 mt-1",children:d}),T==="url"&&o.jsx("button",{type:"button",onClick:W,className:"mt-2 text-xs text-red-600 underline hover:text-red-700",children:"Try again"})]}),!a&&!d&&m&&o.jsxs("div",{className:"relative",children:[i&&(t.content||E)&&o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsxs("button",{type:"button",onClick:R,className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-md transition-all ${v?"bg-green-100 text-green-700 border border-green-200":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50 hover:border-gray-300 shadow-sm"}`,title:"Copy raw markdown",children:[o.jsx("iconify-icon",{icon:v?"mdi:check":"mdi:content-copy",width:"14",height:"14"}),v?"Copied!":"Copy Markdown"]})}),t.showSource&&T==="url"&&t.url&&o.jsxs("div",{className:"mb-3 flex items-center justify-between text-xs text-gray-500 bg-gray-50 dark:bg-gray-800 px-3 py-2 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-2 truncate",children:[o.jsx("iconify-icon",{icon:"mdi:link-variant",width:"14",height:"14"}),o.jsx("span",{className:"truncate",title:t.url,children:t.url})]}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0 ml-2",children:[y&&o.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[o.jsx("iconify-icon",{icon:"mdi:cached",width:"14",height:"14"}),"cached"]}),o.jsx("button",{type:"button",onClick:M=>{M.stopPropagation(),W()},className:"text-gray-500 hover:text-gray-700 p-1",title:"Refresh content",children:o.jsx("iconify-icon",{icon:"mdi:refresh",width:"14",height:"14"})})]})]}),o.jsx("div",{ref:S,className:"markdown-content",dangerouslySetInnerHTML:{__html:m}},i?"selected":"preview")]}),!a&&!d&&!m&&o.jsxs("div",{className:"p-6 text-center text-gray-400 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[o.jsx("iconify-icon",{icon:"mdi:language-markdown",width:"48",height:"48",class:"mb-2 opacity-50"}),o.jsx("div",{className:"text-sm font-medium",children:"Markdown Block"}),o.jsx("div",{className:"text-xs mt-1",children:T==="content"?"Click to start writing markdown":"Enter a markdown URL in the sidebar"})]})]})},Hk=(t,l={})=>{const i={sourceType:t.sourceType||"content",content:t.content||"",url:t.url||"",showSource:t.showSource!==!1,cacheEnabled:t.cacheEnabled!==!1,layoutStyles:t.layoutStyles||{}};return`<div data-lara-block="markdown" data-props='${JSON.stringify(i).replace(/'/g,"&#39;")}'></div>`},Fk=(t,l={})=>`<div style="padding: 16px; background: #f3f4f6; border-radius: 8px; text-align: center; color: #6b7280; font-size: 14px;">
        <p style="margin: 0;">Markdown content is not supported in emails.</p>
        <p style="margin: 8px 0 0; font-size: 12px;">Please use other block types for email templates.</p>
    </div>`,Wk={page:Hk,email:Fk},Uk=[{name:"sourceType",type:"select",label:f("Source Type"),section:f("Content"),options:[{value:"content",label:f("Write Content")},{value:"url",label:f("From URL")}]},{name:"url",type:"text",label:f("Markdown URL"),section:f("Content"),placeholder:"https://github.com/user/repo/blob/main/README.md",description:f("Enter a URL to a markdown file (GitHub, GitLab, Bitbucket, or direct .md URL)"),condition:t=>t.sourceType==="url"},{name:"showSource",type:"toggle",label:f("Show Source URL"),section:f("Settings"),defaultValue:!0,condition:t=>t.sourceType==="url"},{name:"cacheEnabled",type:"toggle",label:f("Enable Caching"),section:f("Settings"),defaultValue:!0,description:f("Cache the markdown content to improve performance"),condition:t=>t.sourceType==="url"}],Vk=Ge(Mk,{block:zk,save:Wk,fields:Uk}),zf=[Hx,ry,vy,Dy,Zy,m0,I0,av,Tv,Vv,ab,jb,Gb,u1,T1,V1,dw,Tw,Kw,uk,Nk,Vk],Hf=zf.reduce((t,l)=>(l&&l.type&&(t[l.type]=l),t),{}),Kk=t=>Hf[t]?.block||null,Ff=t=>{const l=Hf[t];if(l?.supports)return l.supports;if(typeof window<"u"&&window.LaraBuilderBlockRegistry){const i=window.LaraBuilderBlockRegistry.get(t);if(i?.supports)return i.supports}return{}},gC=t=>{zf.forEach((l,i)=>{if(!l||!l.type){console.warn(`[BlockLoader] Skipping invalid block at index ${i}:`,l);return}t.register(l)})},Wf=t=>{const l=Ke.getComponent(t);return l||Kk(t)},Gk=t=>t?`lb-${t.toLowerCase()}`:"lb-block",Xk=(t,l={},i="")=>{const a=["lb-block",Gk(t)];return l.customClass&&a.push(l.customClass),i&&a.push(i),a.filter(Boolean).join(" ")},Yd=({id:t,isFirst:l=!1})=>{const{setNodeRef:i,isOver:a}=Di({id:t,data:{type:"dropzone",position:t}});return o.jsx("div",{ref:i,className:`transition-all duration-200 ${a?"h-16 bg-primary/10 border-2 border-dashed border-primary rounded-lg my-2 flex items-center justify-center":l?"h-0":"h-1"}`,children:a&&o.jsx("span",{className:"text-primary text-sm font-medium",children:f("Drop here")})})},Yk=({block:t,selectedBlockId:l,onSelect:i,onUpdate:a,onDelete:c,onDeleteNested:d,onMoveBlock:h,onDuplicateBlock:m,onMoveNestedBlock:g,onDuplicateNestedBlock:y,onInsertBlockAfter:b,onReplaceBlock:v,totalBlocks:j,blockIndex:E,context:L})=>{const[k,C]=x.useState(null),[S,$]=x.useState(!1),T=x.useRef(null),R=x.useRef(null),P=x.useRef(t.props);P.current=t.props;const{attributes:z,listeners:H,setNodeRef:W,setActivatorNodeRef:q,transform:K,transition:X,isDragging:M}=Bf({id:t.id}),Z=x.useCallback(Ee=>{(!Ee.inputType||Ee.inputType.startsWith("insert")||Ee.inputType.startsWith("delete"))&&($(!0),T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{$(!1)},1500))},[]);x.useEffect(()=>{const Ee=R.current;if(Ee)return Ee.addEventListener("input",Z),()=>{Ee.removeEventListener("input",Z),T.current&&clearTimeout(T.current)}},[Z]);const ne={transform:Mn.Transform.toString(K),transition:X,opacity:M?.5:1},ue=Xk(t.type,t.props),ke=Wf(t.type),he=l===t.id,U=Ff(t.type),ee=U.bold||U.italic||U.underline,V=U.align&&!ee,I=U.columnCount===!0,oe=["text-editor"].includes(t.type),te=oe,fe=V?{align:t.props?.align||"center",onAlignChange:Ee=>a(t.id,{...t.props,align:Ee})}:null,ae=I?{columns:t.props?.columns||1,onColumnsChange:Ee=>{const gt=parseInt(t.props?.columns)||1;let Ot=[...t.props?.children||[[]]];if(Ee>gt)for(let yn=gt;yn<Ee;yn++)Ot.push([]);else Ee<gt&&(Ot=Ot.slice(0,Ee));a(t.id,{...t.props,columns:Ee,children:Ot})}}:null,Ce={ref:q,...H};if(!ke)return o.jsxs("div",{ref:W,style:ne,className:"p-4 bg-red-100 text-red-600 rounded",children:["Unknown block type: ",t.type]});const xe=E>0,be=E<j-1,Et=he&&(ee||oe)?"cursor-text":"cursor-grab active:cursor-grabbing",Ye=he&&!S&&!M,kt=Ee=>{W(Ee),R.current=Ee};return o.jsxs("div",{ref:kt,style:ne,className:`${ue} relative group ${Et} ${M?"z-50":""} ${he?"lb-block-selected":""}`,"data-block-type":t.type,onClick:Ee=>{Ee.stopPropagation(),i(t.id)},...z,children:[Ye&&!te&&o.jsx(Ba,{block:t,onMoveUp:()=>h(t.id,"up"),onMoveDown:()=>h(t.id,"down"),onDelete:()=>c(t.id),onDuplicate:()=>m(t.id),canMoveUp:xe,canMoveDown:be,textFormatProps:k,alignProps:fe,columnsProps:ae,dragHandleProps:Ce}),o.jsx(ke,{props:t.props,isSelected:he,onUpdate:Ee=>a(t.id,Ee),onInsertBlockAfter:b?Ee=>b(t.id,Ee):void 0,...ee?{onRegisterTextFormat:C,onDelete:()=>c(t.id),onReplaceBlock:v?Ee=>v(t.id,Ee):void 0,context:L}:{},...I?{blockId:t.id,onSelect:i,selectedBlockId:l,onUpdateNested:a,onDeleteNested:d,onMoveNestedBlock:g,onDuplicateNestedBlock:y}:{}}),Ye&&te&&o.jsx(Ba,{block:t,onMoveUp:()=>h(t.id,"up"),onMoveDown:()=>h(t.id,"down"),onDelete:()=>c(t.id),onDuplicate:()=>m(t.id),canMoveUp:xe,canMoveDown:be,textFormatProps:k,alignProps:fe,columnsProps:ae,dragHandleProps:Ce,position:"bottom"})]})},Qk=({blocks:t,selectedBlockId:l,onSelect:i,onUpdate:a,onDelete:c,onDeleteNested:d,onMoveBlock:h,onDuplicateBlock:m,onMoveNestedBlock:g,onDuplicateNestedBlock:y,onInsertBlockAfter:b,onReplaceBlock:v,canvasSettings:j,previewMode:E="desktop",context:L="post"})=>{const{setNodeRef:k,isOver:C}=Di({id:"canvas"}),S=t.map(H=>H.id),$=Tr(j?.layoutStyles||{}),R={width:(()=>{switch(E){case"mobile":return"375px";case"tablet":return"768px";default:return j?.width||"700px"}})(),contentPadding:j?.contentPadding||"32px",contentMargin:j?.contentMargin||"40px"},P={backgroundColor:"#f3f4f6",padding:R.contentMargin},z={backgroundColor:$.backgroundColor||"#ffffff",fontFamily:$.fontFamily||"Arial, sans-serif",fontSize:$.fontSize,fontWeight:$.fontWeight,lineHeight:$.lineHeight,color:$.color,textAlign:$.textAlign,backgroundImage:$.backgroundImage,backgroundSize:$.backgroundSize,backgroundPosition:$.backgroundPosition,backgroundRepeat:$.backgroundRepeat,borderTopWidth:$.borderTopWidth,borderRightWidth:$.borderRightWidth,borderBottomWidth:$.borderBottomWidth,borderLeftWidth:$.borderLeftWidth,borderStyle:$.borderStyle||"solid",borderColor:$.borderColor,borderTopLeftRadius:$.borderTopLeftRadius||"8px",borderTopRightRadius:$.borderTopRightRadius||"8px",borderBottomLeftRadius:$.borderBottomLeftRadius||"8px",borderBottomRightRadius:$.borderBottomRightRadius||"8px",boxShadow:$.boxShadow||"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1)",marginTop:$.marginTop,marginRight:$.marginRight,marginBottom:$.marginBottom,marginLeft:$.marginLeft,paddingTop:$.paddingTop,paddingRight:$.paddingRight,paddingBottom:$.paddingBottom,paddingLeft:$.paddingLeft};return o.jsx("div",{className:"flex-1 overflow-auto",style:P,onClick:()=>i(null),children:o.jsx("div",{className:"mx-auto",style:{maxWidth:R.width},children:o.jsx("div",{ref:k,className:`min-h-[400px] transition-colors ${C?"ring-2 ring-primary ring-offset-2":""}`,style:z,children:o.jsx("div",{style:{padding:R.contentPadding},children:o.jsx(Af,{items:S,strategy:$f,children:t.length>0?o.jsxs("div",{children:[o.jsx(Yd,{id:"dropzone-0",isFirst:!0}),t.map((H,W)=>o.jsxs("div",{children:[o.jsx(Yk,{block:H,blockIndex:W,totalBlocks:t.length,selectedBlockId:l,onSelect:i,onUpdate:a,onDelete:c,onDeleteNested:d,onMoveBlock:h,onDuplicateBlock:m,onMoveNestedBlock:g,onDuplicateNestedBlock:y,onInsertBlockAfter:b,onReplaceBlock:v,context:L}),o.jsx(Yd,{id:`dropzone-${W+1}`})]},H.id))]}):o.jsxs("div",{className:`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${C?"border-primary bg-primary/10":"border-gray-300"}`,children:[o.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),o.jsx("p",{className:"mt-4 text-gray-500 font-medium",children:f("Drag blocks here to start building")}),o.jsx("p",{className:"mt-1 text-gray-400 text-sm",children:f("or click blocks on the left to add them")})]})})})})})})},qk=({selectedBlock:t,onUpdate:l,onImageUpload:i,onVideoUpload:a,canvasSettings:c,onCanvasSettingsUpdate:d})=>{const h=E=>{d({...c,layoutStyles:E})};if(!t)return o.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[o.jsx("div",{className:"mb-4 pb-3 border-b border-gray-200",children:o.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f("Email Settings")})}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Email Width")}),o.jsxs("select",{value:c?.width||"700px",onChange:E=>d({...c,width:E.target.value}),className:"form-control",children:[o.jsxs("option",{value:"500px",children:["500px (",f("Narrow"),")"]}),o.jsxs("option",{value:"600px",children:["600px (",f("Standard"),")"]}),o.jsxs("option",{value:"700px",children:["700px (",f("Wide"),")"]}),o.jsxs("option",{value:"800px",children:["800px (",f("Extra Wide"),")"]})]})]}),o.jsx(bi,{layoutStyles:c?.layoutStyles||{},onUpdate:h,onImageUpload:i,defaultCollapsed:!1}),o.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:o.jsx("p",{className:"text-xs text-gray-400 text-center",children:f("Click the block to edit")})})]});const m=Ke.get(t.type),g=t.props||{},y=E=>{l(t.id,{...g,layoutStyles:E})},b=m?.label||t.type,v=m?.editor,j=m?.fields;return v?o.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[o.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:o.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),o.jsx(v,{props:g,onUpdate:E=>l(t.id,E),onImageUpload:i,onVideoUpload:a}),o.jsx(bi,{layoutStyles:g.layoutStyles||{},onUpdate:y,onImageUpload:i,defaultCollapsed:!0,customCSS:g.customCSS||"",customClass:g.customClass||"",onCustomCSSChange:E=>l(t.id,{...g,customCSS:E}),onCustomClassChange:E=>l(t.id,{...g,customClass:E})})]}):j&&j.length>0?o.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[o.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:o.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),o.jsx(ox,{fields:j,blockProps:g,onUpdate:E=>l(t.id,E)}),o.jsx(bi,{layoutStyles:g.layoutStyles||{},onUpdate:y,onImageUpload:i,defaultCollapsed:!0,customCSS:g.customCSS||"",customClass:g.customClass||"",onCustomCSSChange:E=>l(t.id,{...g,customCSS:E}),onCustomClassChange:E=>l(t.id,{...g,customClass:E})})]}):o.jsxs("div",{className:"h-full overflow-y-auto px-1",children:[o.jsx("div",{className:"mb-2 pb-3 border-b border-gray-200",children:o.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:f(b)})}),o.jsx("p",{className:"text-gray-500 text-sm mb-4",children:f("Click the block to edit it directly.")}),o.jsx(bi,{layoutStyles:g.layoutStyles||{},onUpdate:y,onImageUpload:i,defaultCollapsed:!0,customCSS:g.customCSS||"",customClass:g.customClass||"",onCustomCSSChange:E=>l(t.id,{...g,customCSS:E}),onCustomClassChange:E=>l(t.id,{...g,customClass:E})})]})},Jk=({toast:t,onClose:l})=>{if(x.useEffect(()=>{if(t){const c=setTimeout(()=>{l()},4e3);return()=>clearTimeout(c)}},[t,l]),!t)return null;const i=t.variant==="success"?"bg-green-500":t.variant==="error"?"bg-red-500":t.variant==="warning"?"bg-yellow-500":"bg-blue-500",a=t.variant==="success"?"mdi:check-circle":t.variant==="error"?"mdi:alert-circle":t.variant==="warning"?"mdi:alert":"mdi:information";return o.jsx("div",{className:"fixed bottom-4 right-4 z-[100] animate-slide-in-right",children:o.jsxs("div",{className:`${i} text-white px-4 py-3 rounded-lg shadow-lg flex items-start gap-3 max-w-sm`,children:[o.jsx("iconify-icon",{icon:a,width:"20",height:"20",class:"flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-sm",children:t.title}),t.message&&o.jsx("p",{className:"text-sm opacity-90 mt-0.5",children:t.message})]}),o.jsx("button",{onClick:l,className:"flex-shrink-0 p-1 hover:bg-white/20 rounded transition-colors",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})})},Zk=({html:t,onHtmlChange:l,canvasSettings:i,onExitCodeEditor:a})=>{const[c,d]=x.useState(t),h=x.useRef(null),[m,g]=x.useState(1);x.useEffect(()=>{d(t)},[t]),x.useEffect(()=>{const L=(c||"").split(`
`).length;g(Math.max(L,20))},[c]);const y=L=>{const k=L.target.value;d(k)},b=()=>{l(c)},v=L=>{if(L.key==="Tab"){L.preventDefault();const k=L.target.selectionStart,C=L.target.selectionEnd,S=c.substring(0,k)+"    "+c.substring(C);d(S),setTimeout(()=>{L.target.selectionStart=L.target.selectionEnd=k+4},0)}},j=()=>{try{let L=c.replace(/></g,`>
<`).replace(/\n\s*\n/g,`
`),k=0;L=L.split(`
`).map(S=>{if(S=S.trim(),!S)return"";S.match(/^<\//)&&(k=Math.max(0,k-1));const $="    ".repeat(k)+S;return S.match(/^<[^/!][^>]*[^/]>$/)&&!S.match(/^<(br|hr|img|input|meta|link)/i)&&k++,$}).join(`
`),d(L),l(L)}catch(L){console.error("Error formatting HTML:",L)}},E={width:i?.width||"700px",backgroundColor:i?.backgroundColor||"#f3f4f6",contentBackgroundColor:i?.contentBackgroundColor||"#ffffff",contentPadding:i?.contentPadding||"32px",contentMargin:i?.contentMargin||"40px",contentBorderRadius:i?.contentBorderRadius||"8px"};return o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white border-b border-gray-200 flex-shrink-0",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Editing code"}),o.jsx("button",{onClick:a,className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",children:"Exit code editor"})]}),o.jsx("div",{className:"flex-1 overflow-auto",style:{backgroundColor:E.backgroundColor,padding:E.contentMargin},children:o.jsx("div",{className:"mx-auto",style:{maxWidth:E.width},children:o.jsxs("div",{className:"shadow-lg",style:{backgroundColor:E.contentBackgroundColor,borderRadius:E.contentBorderRadius},children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("iconify-icon",{icon:"mdi:code-tags",width:"18",height:"18",class:"text-gray-500"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"HTML Code Editor"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{onClick:j,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-600 bg-white border border-gray-200 rounded-md hover:bg-gray-50 transition-colors",title:"Format HTML",children:[o.jsx("iconify-icon",{icon:"mdi:auto-fix",width:"14",height:"14"}),"Format"]})})]}),o.jsxs("div",{className:"flex min-h-[500px]",children:[o.jsx("div",{className:"flex-shrink-0 bg-gray-50 border-r border-gray-200 text-right select-none",children:o.jsx("div",{className:"py-4 px-2",children:Array.from({length:m},(L,k)=>o.jsx("div",{className:"text-xs text-gray-400 leading-6 pr-2",style:{fontFamily:"ui-monospace, monospace"},children:k+1},k))})}),o.jsx("div",{className:"flex-1 relative",children:o.jsx("textarea",{ref:h,value:c,onChange:y,onBlur:b,onKeyDown:v,className:"w-full h-full min-h-[500px] p-4 text-sm leading-6 text-gray-800 bg-transparent resize-none focus:outline-none",style:{fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace',tabSize:4},spellCheck:!1,placeholder:"<!-- Paste or write your HTML here -->"})})]}),o.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-gray-200 bg-gray-50 rounded-b-lg",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[c.length," characters  ",(c||"").split(`
`).length," lines"]}),o.jsx("span",{className:"text-xs text-gray-400",children:"Press Tab for indent  Changes save on blur"})]})]})})})]})},eC=({editorMode:t,onEditorModeChange:l,onCopyAllBlocks:i,onPasteBlocks:a})=>{const[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null);x.useEffect(()=>{const v=j=>{g.current&&!g.current.contains(j.target)&&d(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const y=async()=>{try{await i(),m(!0),setTimeout(()=>m(!1),2e3)}catch(v){console.error("Failed to copy blocks:",v)}},b=async()=>{try{const v=await navigator.clipboard.readText();v&&a(v)}catch(v){console.error("Failed to paste:",v)}d(!1)};return o.jsxs("div",{className:"relative",ref:g,children:[o.jsx("button",{onClick:()=>d(!c),className:`p-1.5 pb-0 rounded-md transition-colors ${c?"bg-gray-100 text-gray-900":"hover:bg-gray-100 text-gray-600"}`,title:"Options",children:o.jsx("iconify-icon",{icon:"mdi:dots-vertical",width:"20",height:"20"})}),c&&o.jsxs("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 py-1 overflow-hidden",children:[o.jsx("div",{className:"px-3 py-2 border-b border-gray-100",children:o.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:"Editor"})}),o.jsxs("button",{onClick:()=>{l("visual"),d(!1)},className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("iconify-icon",{icon:"mdi:eye-outline",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Visual editor"})]}),t==="visual"&&o.jsx("iconify-icon",{icon:"mdi:check",width:"18",height:"18",class:"text-primary"})]}),o.jsxs("button",{onClick:()=>{l("code"),d(!1)},className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("iconify-icon",{icon:"mdi:code-tags",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Code editor"})]}),t==="code"&&o.jsx("iconify-icon",{icon:"mdi:check",width:"18",height:"18",class:"text-primary"})]}),o.jsx("div",{className:"px-3 py-2 border-t border-b border-gray-100 mt-1",children:o.jsx("span",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:"Tools"})}),o.jsxs("button",{onClick:y,className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[o.jsx("iconify-icon",{icon:h?"mdi:check":"mdi:content-copy",width:"18",height:"18",class:h?"text-green-500":"text-gray-500 group-hover:text-gray-700"}),o.jsx("span",{className:`text-sm ${h?"text-green-600":"text-gray-700"}`,children:h?"Copied!":"Copy all blocks"})]}),o.jsxs("button",{onClick:b,className:"w-full px-3 py-2.5 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[o.jsx("iconify-icon",{icon:"mdi:content-paste",width:"18",height:"18",class:"text-gray-500 group-hover:text-gray-700"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Paste blocks"})]})]})]})};function tC({isOpen:t,onClose:l,onInsertContent:i,isPostContext:a=!1,setTitle:c,setExcerpt:d}){const[h,m]=x.useState(""),[g,y]=x.useState({}),[b,v]=x.useState(""),[j,E]=x.useState(!1),[L,k]=x.useState(""),[C,S]=x.useState(!1),[$,T]=x.useState(!0),[R,P]=x.useState(null),[z,H]=x.useState("");x.useEffect(()=>{t&&W()},[t]);const W=async()=>{T(!0);try{const M=await fetch("/admin/ai/providers",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!M.ok)throw new Error("Failed to fetch providers");const Z=await M.json();Z.success&&(y(Z.data.providers||{}),v(Z.data.default_provider||""),E(Z.data.is_configured||!1),m(Z.data.default_provider||""))}catch(M){console.error("Error fetching AI providers:",M),H(f("Failed to load AI providers"))}finally{T(!1)}},q=async()=>{if(!L.trim()){H(f("Please enter a prompt to generate content."));return}if(!h){H(f("Please select an AI provider or configure from AI Integrations settings."));return}S(!0),H(""),P(null);try{const M=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content"),ne=await(await fetch("/admin/ai/generate-content",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":M,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({prompt:L,provider:h,content_type:"post_content"})})).json();if(ne.success){let ue=ne.data;if(typeof ue=="string")try{ue=JSON.parse(ue)}catch(ke){console.warn("Failed to parse AI response as JSON:",ke)}P(ue)}else H(ne.message||f("Failed to generate content"))}catch(M){H(f("Network error. Please try again.")),console.error("AI Generation Error:",M)}finally{S(!1)}},K=x.useCallback(()=>{if(R){if(a&&c&&R.title&&c(R.title),a&&d&&R.excerpt&&d(R.excerpt),R.content&&i){const M=[];if(R.title&&!a){const ne=Ke.createInstance("heading",{content:R.title,level:"h1",align:"left"});ne&&M.push(ne)}const Z=R.content;if(Z.includes("<")&&Z.includes(">")){const ne=Ke.createInstance("text-editor",{content:Z});ne&&M.push(ne)}else Z.split(/\n\n+/).map(ue=>ue.trim()).filter(ue=>ue.length>0).forEach(ue=>{const ke=ue.replace(/\n/g,"<br>"),he=Ke.createInstance("text",{content:ke,align:"left"});he&&M.push(he)});M.length>0&&i(M)}X()}},[R,a,c,d,i]),X=()=>{k(""),P(null),H(""),l()};return t?o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/20 p-4 backdrop-blur-sm",onClick:M=>{M.target===M.currentTarget&&X()},children:o.jsxs("div",{className:"flex max-w-2xl w-full max-h-[95vh] flex-col overflow-hidden rounded-lg border border-gray-200 bg-white text-gray-900 shadow-2xl",onClick:M=>M.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full text-white",style:{backgroundColor:"var(--color-primary, #635bff)"},children:o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f("AI Content Generator")})]}),o.jsx("button",{type:"button",onClick:X,className:"text-gray-400 hover:text-gray-600 transition-colors",title:f("Close"),children:o.jsx("iconify-icon",{icon:"mdi:close",width:"24",height:"24"})})]}),o.jsx("div",{className:"px-6 pb-6 space-y-4 flex-1 overflow-y-auto",children:$?o.jsxs("div",{className:"flex items-center justify-center py-8",children:[o.jsx("iconify-icon",{icon:"mdi:loading",width:"24",height:"24",class:"animate-spin text-gray-400"}),o.jsx("span",{className:"ml-2 text-gray-500",children:f("Loading providers...")})]}):j?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2 pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"ai_provider",className:"block text-sm font-medium text-gray-700",children:f("AI Provider")}),o.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:text-primary/80 hover:underline flex items-center",title:f("Configure AI Settings"),children:[o.jsx("iconify-icon",{icon:"mdi:cog",width:"12",height:"12",class:"mr-1"}),f("Settings")]})]}),o.jsxs("select",{id:"ai_provider",value:h,onChange:M=>m(M.target.value),className:"form-control",children:[o.jsx("option",{value:"",disabled:!0,children:f("Select AI Provider")}),Object.entries(g).map(([M,Z])=>o.jsx("option",{value:M,children:Z},M))]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"ai_prompt",className:"block text-sm font-medium text-gray-700",children:f("Describe your content")}),o.jsx("textarea",{id:"ai_prompt",value:L,onChange:M=>k(M.target.value),rows:4,placeholder:f("Example: Write a blog post about the benefits of AI in modern web development, focusing on productivity and user experience..."),className:"form-control-textarea w-full",maxLength:1e3}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[o.jsx("span",{children:f("Be specific about your content requirements")}),o.jsxs("span",{children:[L.length,"/1000"]})]})]}),o.jsx("div",{className:"flex justify-center pt-2",children:o.jsx("button",{type:"button",onClick:q,disabled:!L.trim()||C,className:"inline-flex items-center px-6 py-2.5 text-sm font-medium text-white hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg transition-all duration-200 shadow-sm hover:shadow-md",style:{backgroundColor:"var(--color-primary, #635bff)"},children:C?o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:loading",width:"16",height:"16",class:"animate-spin mr-2"}),f("Generating...")]}):o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16",class:"mr-2"}),f("Generate Content")]})})}),R&&o.jsxs("div",{className:"mt-6 space-y-4 border-t border-gray-200 pt-6",children:[o.jsx("h4",{className:"text-sm font-medium text-gray-900",children:f("Generated Content Preview")}),R.title&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Title")}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm",children:R.title})]}),R.excerpt&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Excerpt")}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm",children:R.excerpt})]}),R.content&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"text-xs font-medium text-gray-700",children:f("Content")}),o.jsx("div",{className:"p-3 bg-gray-50 rounded-md border border-gray-200 text-sm max-h-32 overflow-y-auto",dangerouslySetInnerHTML:{__html:R.content.replace(/\n/g,"<br>")}})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:X,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:f("Cancel")}),o.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 rounded-md transition-all duration-200",children:f("Insert Content")})]})]}),z&&o.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md",children:o.jsx("p",{className:"text-sm text-red-700",children:z})})]}):o.jsxs("div",{className:"py-8 text-center",children:[o.jsx("iconify-icon",{icon:"mdi:alert-circle-outline",width:"48",height:"48",class:"text-amber-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 mb-4",children:f("No AI providers configured. Please configure an AI provider in settings.")}),o.jsxs("a",{href:"/admin/settings?tab=integrations",target:"_blank",rel:"noopener noreferrer",className:"btn-primary",children:[o.jsx("iconify-icon",{icon:"mdi:cog",width:"16",height:"16",class:"mr-2"}),f("Go to Settings")]})]})})]})}):null}function nC({listUrl:t,isFormDirty:l,labels:i,isPostContext:a,isEmailContext:c,templateData:d,postData:h,postTypeModel:m,canUndo:g,canRedo:y,undo:b,redo:v,title:j,setTitle:E,excerpt:L,setExcerpt:k,templateName:C,setTemplateName:S,saving:$,onSave:T,editorMode:R,onEditorModeChange:P,onCopyAllBlocks:z,onPasteBlocks:H,onInsertAIContent:W}){const[q,K]=x.useState(!1),X=()=>c?"lucide:mail":a&&m?.icon||"lucide:file-text";return o.jsxs("header",{className:"bg-white border-b border-gray-200 px-2 sm:px-4 py-2 sm:py-3 flex items-center justify-between shadow-sm flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[t&&o.jsx("a",{href:t,onClick:M=>{l&&(window.confirm(f("You have unsaved changes. Are you sure you want to leave?"))||M.preventDefault())},className:"inline-flex items-center justify-center w-9 h-9 rounded-lg border border-gray-200 bg-white text-gray-500 hover:bg-gray-50 hover:text-gray-700 transition-colors",title:f("Go back"),children:o.jsx("iconify-icon",{icon:X(),width:"20",height:"20"})}),o.jsx("iconify-icon",{icon:"lucide:chevron-right",width:"16",height:"16",class:"text-gray-400"}),o.jsxs("h1",{className:"text-sm sm:text-lg font-semibold text-gray-800",children:[d?.uuid||h?.id?f("Edit"):f("Create"),o.jsxs("span",{className:"hidden sm:inline",children:[" ",m?.label_singular||i.title.split(" ")[0]]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-1",children:[o.jsx("button",{onClick:b,disabled:!g,className:`p-1.5 pb-0 rounded-md transition-colors ${g?"hover:bg-gray-100 text-gray-600":"text-gray-300 cursor-not-allowed"}`,title:f("Undo (Ctrl+Z)"),children:o.jsx("iconify-icon",{icon:"mdi:undo",width:"18",height:"18"})}),o.jsx("button",{onClick:v,disabled:!y,className:`p-1.5 pb-0 rounded-md transition-colors ${y?"hover:bg-gray-100 text-gray-600":"text-gray-300 cursor-not-allowed"}`,title:f("Redo (Ctrl+Shift+Z)"),children:o.jsx("iconify-icon",{icon:"mdi:redo",width:"18",height:"18"})})]}),l&&o.jsxs("span",{className:"text-xs text-orange-600 bg-orange-50 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-md font-medium",children:[o.jsx("span",{className:"hidden sm:inline",children:f("Unsaved changes")}),o.jsx("span",{className:"sm:hidden",children:"*"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[a&&o.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[o.jsx("button",{type:"button",onClick:()=>K(!0),className:"inline-flex items-center justify-center w-8 h-8 text-white rounded-md transition-all duration-200 shadow-sm hover:shadow-md hover:opacity-90",style:{backgroundColor:"var(--color-primary, #635bff)"},title:f("Generate content with AI"),children:o.jsx("iconify-icon",{icon:"mdi:lightning-bolt",width:"16",height:"16"})}),o.jsx("input",{type:"text",value:j,onChange:M=>E(M.target.value),placeholder:f(":type title...").replace(":type",m?.label_singular||"Post"),className:"form-control w-64"})]}),c&&o.jsx("div",{className:"hidden md:flex items-center gap-2",children:o.jsx("input",{type:"text",value:C,onChange:M=>S(M.target.value),placeholder:f("Template name..."),className:"form-control w-64"})}),o.jsx("button",{onClick:T,disabled:$,className:`gap-1 sm:gap-2 px-2 sm:px-4 py-1.5 sm:py-2 ${$?"btn-default cursor-not-allowed":"btn-primary"}`,children:$?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{className:"hidden sm:inline",children:f("Saving...")})]}):o.jsxs(o.Fragment,{children:[o.jsx("iconify-icon",{icon:"mdi:content-save",class:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:i.saveText})]})}),o.jsx(eC,{editorMode:R,onEditorModeChange:P,onCopyAllBlocks:z,onPasteBlocks:H})]}),o.jsx(tC,{isOpen:q,onClose:()=>K(!1),onInsertContent:W,isPostContext:a,setTitle:E,setExcerpt:k})]})}const rC=({block:t,onAddBlock:l})=>{const[i,a]=x.useState(!1),c=x.useRef(null),{attributes:d,listeners:h,setNodeRef:m,transform:g,isDragging:y}=vf({id:`palette-${t.type}`,data:{type:"palette",blockType:t.type}}),b={transform:g?`translate3d(${g.x}px, ${g.y}px, 0)`:void 0,opacity:y?.5:1},v=L=>{c.current={x:L.clientX,y:L.clientY},a(!1)},j=L=>{if(c.current){const k=Math.abs(L.clientX-c.current.x),C=Math.abs(L.clientY-c.current.y);(k>5||C>5)&&a(!0)}},E=L=>{L.stopPropagation(),!i&&l&&l(t.type),c.current=null};return o.jsxs("div",{ref:m,style:b,...h,...d,onMouseDown:v,onMouseMove:j,onClick:E,className:"flex flex-col items-center justify-center p-2 bg-white border border-gray-200 rounded-lg cursor-grab hover:border-primary hover:bg-primary/10 transition-colors active:cursor-grabbing",title:f(t.label),children:[o.jsx("iconify-icon",{icon:t.icon,width:"24",height:"24",class:"text-primary"}),o.jsx("span",{className:"text-[10px] text-gray-600 font-medium mt-1 text-center leading-tight",children:f(t.label)})]})},Uf=({onAddBlock:t,context:l=null})=>{const[i,a]=x.useState(""),[c,d]=x.useState(0);x.useEffect(()=>{const b=()=>{d(v=>v+1)};return de.addAction(ye.ACTION_BLOCK_REGISTERED,b),()=>{de.removeAction(ye.ACTION_BLOCK_REGISTERED,b)}},[]);const h=x.useMemo(()=>l?Ke.getBlocksForContext(l):Ke.getAll(),[l,c]),m=x.useMemo(()=>{const b=new Set(h.map(v=>v.category));return Array.from(b)},[h]),g=x.useMemo(()=>{if(!i.trim())return h;const b=i.toLowerCase().trim();return h.filter(v=>v.label.toLowerCase().includes(b)||v.type.toLowerCase().includes(b)||v.category.toLowerCase().includes(b))},[h,i]),y=x.useMemo(()=>{if(!i.trim())return m;const b=new Set(g.map(v=>v.category));return m.filter(v=>b.has(v))},[m,g,i]);return o.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[o.jsx("div",{className:"mb-3 shrink-0",children:o.jsxs("div",{className:"relative m-0.5",children:[o.jsx("iconify-icon",{icon:"mdi:magnify",width:"18",height:"18",class:"absolute left-2.5 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",value:i,onChange:b=>a(b.target.value),placeholder:f("Search blocks..."),className:"form-control pl-9 pr-8 w-full"}),i&&o.jsx("button",{onClick:()=>a(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"16",height:"16"})})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:y.length===0?o.jsxs("div",{className:"text-center py-8 text-gray-400",children:[o.jsx("iconify-icon",{icon:"mdi:package-variant",width:"32",height:"32",class:"mb-2 opacity-50"}),o.jsx("p",{className:"text-sm",children:f("No blocks found")})]}):y.map(b=>{const v=g.filter(j=>j.category===b);return v.length===0?null:o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-[10px] font-semibold text-gray-400 uppercase tracking-wider mb-2 px-1",children:f(b)}),o.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:v.map(j=>o.jsx(rC,{block:j,onAddBlock:t},j.type))})]},b)})})]})};function oC({collapsed:t,setCollapsed:l,onAddBlock:i,context:a}){return t?o.jsxs("div",{className:"flex flex-col items-center py-4",children:[o.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",title:f("Show Blocks"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"20",height:"20"})}),o.jsx("button",{onClick:()=>l(!1),className:"mt-2 p-2 rounded-md hover:bg-primary/10 text-primary",title:f("Show Blocks"),children:o.jsx("iconify-icon",{icon:"mdi:plus-box-multiple",width:"20",height:"20"})})]}):o.jsxs("div",{className:"flex flex-col h-full p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Blocks")}),o.jsx("button",{onClick:()=>l(!0),className:"p-1 rounded-md hover:bg-gray-100 text-gray-500",title:f("Hide Blocks"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"18",height:"18"})})]}),o.jsx(Uf,{onAddBlock:i,context:a})]})}function lC({collapsed:t,setCollapsed:l,PropertiesPanel:i,propertiesPanelProps:a}){return t?o.jsxs("div",{className:"flex flex-col items-center py-4",children:[o.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-md hover:bg-gray-100 text-gray-600",title:f("Show Properties"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-left",width:"20",height:"20"})}),o.jsx("button",{onClick:()=>l(!1),className:"mt-2 p-2 rounded-md hover:bg-gray-50 text-gray-600",title:f("Show Properties"),children:o.jsx("iconify-icon",{icon:"mdi:cog",width:"20",height:"20"})})]}):o.jsxs("div",{className:"flex flex-col h-full pt-4 pr-4 pb-4 pl-2 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 pl-2",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Properties")}),o.jsx("button",{onClick:()=>l(!0),className:"p-1 rounded-md hover:bg-gray-100 text-gray-500",title:f("Hide Properties"),children:o.jsx("iconify-icon",{icon:"mdi:chevron-right",width:"18",height:"18"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto pl-2",children:o.jsx(i,{...a})})]})}function iC({isOpen:t,onClose:l,onAddBlock:i,context:a}){return t?o.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),o.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-72 bg-white shadow-xl flex flex-col animate-slide-in-left",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Blocks")}),o.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-500",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),o.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:o.jsx(Uf,{onAddBlock:c=>{i(c),l()},context:a})})]})]}):null}function sC({isOpen:t,onClose:l,context:i,isEmailContext:a,isPostContext:c,templateName:d,setTemplateName:h,templateSubject:m,setTemplateSubject:g,title:y,setTitle:b,postTypeModel:v,PropertiesPanel:j,propertiesPanelProps:E}){return t?o.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),o.jsxs("div",{className:"absolute right-0 top-0 bottom-0 w-80 bg-white shadow-xl flex flex-col animate-slide-in-right",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f("Properties")}),o.jsx("button",{onClick:l,className:"p-1.5 rounded-md hover:bg-gray-100 text-gray-500",children:o.jsx("iconify-icon",{icon:"mdi:close",width:"20",height:"20"})})]}),o.jsxs("div",{className:"flex-1 px-4 py-4 overflow-y-auto",children:[a&&o.jsxs("div",{className:"md:hidden mb-4 pb-4 border-b border-gray-200",children:[o.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:f("Template Details")}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Name")}),o.jsx("input",{type:"text",value:d,onChange:L=>h(L.target.value),placeholder:f("Template name..."),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]}),i==="email"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Subject")}),o.jsx("input",{type:"text",value:m,onChange:L=>g(L.target.value),placeholder:f("Email subject..."),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:ring-2 focus:ring-primary focus:border-primary"})]})]})]}),c&&o.jsxs("div",{className:"md:hidden mb-4 pb-4 border-b border-gray-200",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("Title")}),o.jsx("input",{type:"text",value:y,onChange:L=>b(L.target.value),placeholder:f(":type title...").replace(":type",v?.label_singular||"Post"),className:"form-control w-full"})]}),o.jsx(j,{...E})]})]})]}):null}function aC({onOpenLeftDrawer:t,onOpenRightDrawer:l}){return o.jsxs("div",{className:"lg:hidden fixed bottom-4 left-4 right-4 z-40 flex justify-between pointer-events-none",children:[o.jsxs("button",{onClick:t,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-primary text-white rounded-lg shadow-lg hover:bg-primary/90 transition-colors",children:[o.jsx("iconify-icon",{icon:"mdi:plus-box-multiple",width:"20",height:"20"}),o.jsx("span",{className:"text-sm font-medium",children:f("Blocks")})]}),o.jsxs("button",{onClick:l,className:"pointer-events-auto flex items-center gap-2 px-4 py-2.5 bg-gray-700 text-white rounded-lg shadow-lg hover:bg-gray-800 transition-colors",children:[o.jsx("iconify-icon",{icon:"mdi:cog",width:"20",height:"20"}),o.jsx("span",{className:"text-sm font-medium",children:f("Properties")})]})]})}function cC({onSave:t,onImageUpload:l,onVideoUpload:i,listUrl:a,showHeader:c=!0,templateData:d,postData:h,taxonomies:m,selectedTerms:g,parentPosts:y,postType:b,postTypeModel:v,statuses:j,PropertiesPanelComponent:E}){const{state:L,actions:k,canUndo:C,canRedo:S,undo:$,redo:T,getHtml:R,getSaveData:P,context:z}=Pi(),{blocks:H,selectedBlockId:W,canvasSettings:q,isDirty:K}=L;Em({enableKeyboardShortcuts:!0});const{addBlockAfterSelected:X}=Tm(),M=z==="email"||z==="campaign",Z=z==="page"||z==="post",{templateName:ne,templateSubject:ue,templateStatus:ke,templateDirty:he,setTemplateName:U,setTemplateSubject:ee,setTemplateStatus:V,markEmailSaved:I}=$m({templateData:d,isEmailContext:M}),{title:F,slug:oe,status:te,excerpt:fe,publishedAt:ae,parentId:Ce,selectedTerms:xe,featuredImage:be,removeFeaturedImage:we,postDirty:Et,setTitle:Ye,setSlug:kt,setStatus:Ee,setExcerpt:gt,setPublishedAt:Xt,setParentId:Ot,setSelectedTerms:yn,setFeaturedImage:En,setRemoveFeaturedImage:mt,generateSlug:zt,markPostSaved:vn}=Rm({postData:h,initialSelectedTerms:g,isPostContext:Z}),{findBlock:ur,handleUpdateBlock:On,handleDeleteBlock:$r,handleDeleteNestedBlock:Rr,handleMoveBlock:Yt,handleMoveNestedBlock:Ht,handleDuplicateBlock:bn,handleDuplicateNestedBlock:wn,handleAddBlock:ut,handleInsertBlockAfter:Lr,handleReplaceBlock:Ar}=Lm({blocks:H,actions:k,addBlockAfterSelected:X}),{activeId:zn,handleDragStart:dr,handleDragEnd:Hn,customCollisionDetection:fr}=Am({blocks:H,actions:k}),Fn=eg(Zp(Wa,{activationConstraint:{distance:8}})),hr=ur(W),[pr,ln]=x.useState(!1),[Be,qe]=x.useState(null),[nt,Nt]=x.useState(!1),[dt,Je]=x.useState(!1),[ft,sn]=x.useState(!1),[Ae,Tt]=x.useState(!1),[_e,$t]=x.useState("visual"),[rt,Rt]=x.useState(""),[xt,an]=x.useState("desktop"),ot=x.useCallback((Se,je,We)=>{qe({variant:Se,title:je,message:We})},[]),ao=K||he||Et;x.useEffect(()=>{const Se=je=>{if(ao)return je.preventDefault(),je.returnValue="",""};return window.addEventListener("beforeunload",Se),()=>window.removeEventListener("beforeunload",Se)},[ao]),x.useEffect(()=>{const Se=je=>{if(!W)return;const We=document.activeElement;if(We?.tagName==="INPUT"||We?.tagName==="TEXTAREA"||We?.isContentEditable||We?.closest('[contenteditable="true"]')||We?.closest(".ProseMirror")||We?.closest(".ql-editor")||We?.closest('[data-text-editing="true"]'))return;let cn=!1,Ft=null,Tn=null,$n=H.findIndex(Wt=>Wt.id===W);if($n===-1)for(const Wt of H){if(Wt.type==="columns"&&Wt.props.children)for(let lt=0;lt<Wt.props.children.length;lt++){const At=Wt.props.children[lt].findIndex(zi=>zi.id===W);if(At!==-1){cn=!0,Ft=Wt.id,Tn=lt,$n=At;break}}if(cn)break}if((je.key==="Backspace"||je.key==="Delete")&&(je.preventDefault(),cn&&Ft!==null&&Tn!==null?k.deleteNestedBlock(Ft,Tn,W):k.deleteBlock(W)),je.key==="Enter"&&(je.preventDefault(),Ke.get("text"))){const lt=Ke.createInstance("text",{content:""});cn&&Ft!==null&&Tn!==null?k.addNestedBlock(Ft,Tn,lt,$n+1):k.addBlock(lt,$n+1)}};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[W,H,k]);const Mi=x.useCallback(Se=>{if(Se==="code"&&_e==="visual"){const je=R();Rt(je)}else Se==="visual"&&_e==="code"&&(rt.trim()||k.setBlocks([]));$t(Se)},[_e,R,rt,k]),Nn=x.useCallback(()=>{rt.trim()||k.setBlocks([]),$t("visual")},[rt,k]),ll=x.useCallback(async()=>{const Se=JSON.stringify(H,null,2);await navigator.clipboard.writeText(Se),ot("success",f("Copied!"),f("All blocks copied to clipboard"))},[H,ot]),il=x.useCallback(Se=>{try{const je=JSON.parse(Se);Array.isArray(je)&&(je.forEach(We=>{if(We.type){const Lt=Ke.createInstance(We.type,We.props);Lt&&k.addBlock(Lt)}}),ot("success",f("Pasted!"),f(":count blocks pasted").replace(":count",je.length)))}catch{if(_e==="code")Rt(Se),ot("success",f("Pasted!"),f("HTML content pasted"));else{const We=Ke.createInstance("html",{code:Se});We&&(k.addBlock(We),ot("success",f("Pasted!"),f("HTML block created")))}}},[k,_e,ot]),Oi=x.useCallback(Se=>{!Array.isArray(Se)||Se.length===0||(Se.forEach(je=>{je&&k.addBlock(je)}),ot("success",f("AI Content Inserted"),f(":count blocks added").replace(":count",Se.length)))},[k,ot]),sl=x.useCallback(Se=>{Rt(Se)},[]),al=async()=>{if(M&&!ne.trim()){ot("error",f("Validation Error"),f("Template name is required"));return}if(Z&&!F.trim()){ot("error",f("Validation Error"),f("Title is required"));return}de.doAction(ye.ACTION_BEFORE_SAVE,L),ln(!0);try{const Se=_e==="code"?rt:R(),je=P();let We={};if(M)We={name:ne,subject:ue||ne,is_active:ke,body_html:Se,design_json:je};else if(Z){const Ft={};Object.entries(xe).forEach(([Tn,$n])=>{Ft[`taxonomy_${Tn}`]=$n}),We={title:F,slug:oe||void 0,status:te,excerpt:fe,content:Se,design_json:je,published_at:te==="scheduled"?ae:void 0,parent_id:Ce||void 0,featured_image:be||void 0,remove_featured_image:we,...Ft}}const Lt=await t(We);k.markSaved(),M?I():Z&&vn();const cn=!!(d?.uuid||h?.id);ot("success",f(cn?"Saved":"Created"),Lt?.message||f(cn?"Saved successfully!":"Created successfully!")),de.doAction(ye.ACTION_AFTER_SAVE,Lt),cn||(Lt?.id&&a?setTimeout(()=>{window.location.href=`${a.replace(/\/$/,"")}/${Lt.id}/edit`},500):Lt?.redirect&&setTimeout(()=>{window.location.href=Lt.redirect},500))}catch(Se){ot("error",f("Save Failed"),Se.message||f("Failed to save")),de.doAction(ye.ACTION_SAVE_ERROR,Se)}finally{ln(!1)}},cl=x.useMemo(()=>{const Se={email:{title:f("Email Builder"),backText:f("Back to Templates"),saveText:f("Save")},page:{title:f("Page Builder"),backText:v?.label?f("Back to :type").replace(":type",v.label):f("Back to Posts"),saveText:h?.id?f("Update"):f("Publish")},post:{title:f("Post Builder"),backText:v?.label?f("Back to :type").replace(":type",v.label):f("Back to Posts"),saveText:h?.id?f("Update"):f("Publish")},campaign:{title:f("Campaign Editor"),backText:f("Back to Campaign"),saveText:f("Save")}};return de.applyFilters(`${ye.FILTER_CONFIG}.${z}`,Se[z]||Se.email)},[z,v,h]),co=E||qk,Ir={selectedBlock:hr,onUpdate:On,onImageUpload:l,onVideoUpload:i,canvasSettings:q,onCanvasSettingsUpdate:k.updateCanvasSettings};return M?Object.assign(Ir,{templateName:ne,setTemplateName:U,templateSubject:ue,setTemplateSubject:ee,templateStatus:ke,setTemplateStatus:V,context:z}):Z&&Object.assign(Ir,{title:F,setTitle:Ye,slug:oe,setSlug:kt,generateSlug:zt,status:te,setStatus:Ee,excerpt:fe,setExcerpt:gt,publishedAt:ae,setPublishedAt:Xt,parentId:Ce,setParentId:Ot,selectedTerms:xe,setSelectedTerms:yn,featuredImage:be,setFeaturedImage:En,removeFeaturedImage:we,setRemoveFeaturedImage:mt,taxonomies:m,parentPosts:y,postTypeModel:v,statuses:j,postData:h,postType:b}),o.jsxs(tm,{sensors:Fn,collisionDetection:fr,onDragStart:dr,onDragEnd:Hn,children:[o.jsx("style",{children:`
                @keyframes slideInLeft {
                    from { transform: translateX(-100%); }
                    to { transform: translateX(0); }
                }
                @keyframes slideInRight {
                    from { transform: translateX(100%); }
                    to { transform: translateX(0); }
                }
                .animate-slide-in-left {
                    animation: slideInLeft 0.2s ease-out forwards;
                }
                .animate-slide-in-right {
                    animation: slideInRight 0.2s ease-out forwards;
                }
            `}),o.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[c&&o.jsx("div",{onClick:()=>k.selectBlock(null),children:o.jsx(nC,{listUrl:a,isFormDirty:ao,labels:cl,isPostContext:Z,isEmailContext:M,templateData:d,postData:h,postTypeModel:v,canUndo:C,canRedo:S,undo:$,redo:T,title:F,setTitle:Ye,excerpt:fe,setExcerpt:gt,templateName:ne,setTemplateName:U,saving:pr,onSave:al,editorMode:_e,onEditorModeChange:Mi,onCopyAllBlocks:ll,onPasteBlocks:il,onInsertAIContent:Oi})}),o.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[o.jsx(aC,{onOpenLeftDrawer:()=>Nt(!0),onOpenRightDrawer:()=>Je(!0)}),o.jsx("div",{className:`hidden lg:flex bg-white border-r border-gray-200 overflow-hidden flex-col flex-shrink-0 transition-all duration-200 ${ft?"w-12":"w-64"}`,onClick:()=>k.selectBlock(null),children:o.jsx(oC,{collapsed:ft,setCollapsed:sn,onAddBlock:ut,context:z})}),o.jsx(iC,{isOpen:nt,onClose:()=>Nt(!1),onAddBlock:ut,context:z}),_e==="visual"?o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"flex items-center justify-center gap-1 py-2 px-4 bg-gray-100 border-b border-gray-200",onClick:()=>k.selectBlock(null),children:o.jsx("div",{className:"flex items-center bg-white rounded-lg shadow-sm border border-gray-200 p-0.5",children:["desktop","tablet","mobile"].map(Se=>o.jsxs("button",{type:"button",onClick:()=>an(Se),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-xs font-medium transition-colors ${xt===Se?"bg-primary text-white":"text-gray-600 hover:bg-gray-100"}`,title:f(`${Se.charAt(0).toUpperCase()+Se.slice(1)} Preview`),children:[o.jsx("iconify-icon",{icon:`mdi:${Se==="desktop"?"monitor":Se==="tablet"?"tablet":"cellphone"}`,width:"16",height:"16"}),o.jsx("span",{className:"hidden sm:inline",children:f(Se.charAt(0).toUpperCase()+Se.slice(1))})]},Se))})}),o.jsx(Qk,{blocks:H,selectedBlockId:W,onSelect:k.selectBlock,onUpdate:On,onDelete:$r,onDeleteNested:Rr,onMoveBlock:Yt,onDuplicateBlock:bn,onMoveNestedBlock:Ht,onDuplicateNestedBlock:wn,onInsertBlockAfter:Lr,onReplaceBlock:Ar,canvasSettings:q,previewMode:xt,context:z})]}):o.jsx(Zk,{html:rt,onHtmlChange:sl,canvasSettings:q,onExitCodeEditor:Nn}),o.jsx("div",{className:`hidden lg:flex bg-white border-l border-gray-200 overflow-hidden flex-col flex-shrink-0 transition-all duration-200 ${Ae?"w-12":"w-80"}`,children:o.jsx(lC,{collapsed:Ae,setCollapsed:Tt,PropertiesPanel:co,propertiesPanelProps:Ir})}),o.jsx(sC,{isOpen:dt,onClose:()=>Je(!1),context:z,isEmailContext:M,isPostContext:Z,templateName:ne,setTemplateName:U,templateSubject:ue,setTemplateSubject:ee,title:F,setTitle:Ye,postTypeModel:v,PropertiesPanel:co,propertiesPanelProps:Ir})]})]}),o.jsx(ym,{children:zn&&zn.toString().startsWith("palette-")&&o.jsx("div",{className:"p-4 bg-white border-2 border-primary rounded-lg shadow-lg opacity-80",children:o.jsx("span",{className:"text-sm font-medium",children:Ke.get(zn.replace("palette-",""))?.label})})}),o.jsx(Jk,{toast:Be,onClose:()=>qe(null)})]})}function mC({context:t="post",initialData:l=null,onSave:i,onImageUpload:a,onVideoUpload:c,listUrl:d,config:h={},showHeader:m=!0,templateData:g,postData:y=null,taxonomies:b=[],selectedTerms:v={},parentPosts:j={},postType:E="post",postTypeModel:L={},statuses:k={},PropertiesPanelComponent:C}){return x.useEffect(()=>{de.doAction(ye.ACTION_INIT,{context:t,initialData:l})},[]),o.jsx(jm,{context:t,initialData:l,config:h,children:o.jsx(cC,{onSave:i,onImageUpload:a,onVideoUpload:c,listUrl:d,showHeader:m,templateData:g,postData:y,taxonomies:b,selectedTerms:v,parentPosts:j,postType:E,postTypeModel:L,statuses:k,PropertiesPanelComponent:C})})}class Vf{constructor(l){this.context=l}getDefaultSettings(){return{}}generateHtml(l,i={}){const a={...this.getDefaultSettings(),...i};de.doAction(ye.ACTION_HTML_BEFORE_GENERATE,l,a,this.context);const c=l.map(h=>this.generateBlockHtml(h,{settings:a,allBlocks:l})).join("");let d=this.wrapOutput(c,a);return d=de.applyFilters(ye.FILTER_HTML_GENERATED,d,l,a,this.context),de.doAction(ye.ACTION_HTML_AFTER_GENERATE,d,l,a,this.context),d}generateBlockHtml(l,i={}){throw new Error("generateBlockHtml must be implemented by subclass")}wrapOutput(l,i){return l}isBlockSupported(l){return!0}getPreviewStyles(){return""}}class Kf extends Vf{constructor(){super("email")}getDefaultSettings(){return{width:"700px",backgroundColor:"#f3f4f6",backgroundImage:"",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",contentBackgroundColor:"#ffffff",contentBackgroundImage:"",contentBackgroundSize:"cover",contentBackgroundPosition:"center",contentBackgroundRepeat:"no-repeat",contentPadding:"32px",contentMargin:"40px",contentBorderWidth:"0px",contentBorderColor:"#e5e7eb",contentBorderRadius:"8px",fontFamily:"Arial, sans-serif"}}generateBlockHtml(l,i={}){const{type:a,props:c}=l,d=c?.layoutStyles,h={...i,generateBlockHtml:(g,y)=>this.generateBlockHtml(g,y)},m=Ke.get(a);if(m?.save?.email){let g=m.save.email(c,h);return g=this._wrapWithLayoutStyles(g,d),g=de.applyFilters(Aa(ye.FILTER_HTML_BLOCK,a),g,c,h),g=de.applyFilters(`builder.email.block.${a}`,g,c,h),g}return console.warn(`[EmailAdapter] No HTML generator found for block type: ${a}`),""}_wrapWithLayoutStyles(l,i){const a=Ri(i);return a?`<table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td style="${a}">${l}</td></tr></table>`:l}wrapOutput(l,i){const a=i.width||"600px",c=i.contentPadding||"40px",d=i.contentMargin||"40px",h=i.layoutStyles?.background||{},m=i.layoutStyles?.border||{},g=i.layoutStyles?.boxShadow||{};let y="background-color: #f4f4f4;",b=`background-color: ${h.color||"#ffffff"};`;h.image&&(b+=` background-image: url('${h.image}'); background-size: ${h.size||"cover"}; background-position: ${h.position||"center"}; background-repeat: ${h.repeat||"no-repeat"};`);const v=m.width?.top||"0px",j=m.color||"#e5e7eb",E=v!=="0px"?`border: ${v} ${m.style||"solid"} ${j};`:"",L=m.radius?.topLeft||"8px";let k="";return g.blur&&g.blur!=="0px"&&(k=`box-shadow: ${g.inset?"inset ":""}${g.x||"0px"} ${g.y||"0px"} ${g.blur||"0px"} ${g.spread||"0px"} ${g.color||"rgba(0, 0, 0, 0.1)"};`),`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Email</title>
    <!--[if mso]>
    <noscript>
        <xml>
            <o:OfficeDocumentSettings>
                <o:PixelsPerInch>96</o:PixelsPerInch>
            </o:OfficeDocumentSettings>
        </xml>
    </noscript>
    <![endif]-->
</head>
<body style="margin: 0; padding: 0; ${y}">
    <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="${y}">
        <tr>
            <td align="center" style="padding: ${d} 20px;">
                <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0" style="max-width: ${a}; ${b} border-radius: ${L}; ${E} ${k}">
                    <tr>
                        <td style="padding: ${c};">
                            ${l}
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
        `.trim()}}class uC extends Vf{constructor(){super("page")}getDefaultSettings(){return{width:"100%",maxWidth:"1200px",backgroundColor:"#ffffff",contentPadding:"24px",fontFamily:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontSize:"16px",lineHeight:"1.6",textColor:"#1f2937"}}generateBlockHtml(l,i={}){const{type:a,props:c,id:d}=l,h={...i,blockId:d,generateBlockHtml:(y,b)=>this.generateBlockHtml(y,{...b,allBlocks:i.allBlocks})},m=Ke.get(a);if(m?.save?.page){let y=m.save.page(c,h);return y=de.applyFilters(Aa(ye.FILTER_HTML_BLOCK,a),y,c,h),y=de.applyFilters(`builder.page.block.${a}`,y,c,h),y}let g=this._generateFallbackBlockHtml(l,h);return g=de.applyFilters(Aa(ye.FILTER_HTML_BLOCK,a),g,c,h),g=de.applyFilters(`builder.page.block.${a}`,g,c,h),g}_wrapWithLayoutStyles(l,i,a=""){const d=[Ri(i),a].filter(Boolean).join("; ");return d?`<div class="lb-layout-wrapper" style="${d}">${l}</div>`:l}_generateFallbackBlockHtml(l,i={}){const{type:a,props:c}=l;return a==="section"?this._generateSectionHtml(c,i):(console.warn(`[WebAdapter] No HTML generator found for block type: ${a}`),"")}_generateSectionHtml(l,i){const a=`lb-block lb-section${l.customClass?` ${l.customClass}`:""}`,c=Ri(l?.layoutStyles),d=l?.customCSS||"",h=[`padding: ${l.padding||"40px 20px"}`];l.layoutStyles?.background?.color||h.push(`background-color: ${l.backgroundColor||"transparent"}`),l.backgroundImage&&!l.layoutStyles?.background?.image&&(h.push(`background-image: url('${l.backgroundImage}')`),h.push(`background-size: ${l.backgroundSize||"cover"}`),h.push(`background-position: ${l.backgroundPosition||"center"}`));const m=[c,h.join("; "),d].filter(Boolean).join("; "),g=(l.children||[]).map(y=>this.generateBlockHtml(y,i)).join("");return`
            <section class="${a}" style="${m}">
                <div style="max-width: ${l.maxWidth||"1200px"}; margin: 0 auto;">
                    ${g}
                </div>
            </section>
        `}wrapOutput(l,i){return`<div class="lb-content">${l}</div>`}generateStandalonePage(l,i={}){const a={...this.getDefaultSettings(),...i},c=l.map(j=>this.generateBlockHtml(j,{settings:a})).join(""),d=a.fontFamily||'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',h=a.fontSize||"16px",m=a.lineHeight||"1.6",g=a.textColor||"#1f2937",y=a.backgroundColor||"#ffffff",b=a.maxWidth||"1200px",v=a.contentPadding||"24px";return`
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page</title>
    <style>
        * { box-sizing: border-box; }
        body {
            margin: 0;
            padding: 0;
            font-family: ${d};
            font-size: ${h};
            line-height: ${m};
            color: ${g};
            background-color: ${y};
        }
        img { max-width: 100%; height: auto; }
        a { color: inherit; }
        .lb-content {
            max-width: ${b};
            margin: 0 auto;
            padding: ${v};
        }
        .lb-heading { margin: 0 0 16px 0; }
        .lb-text { margin: 0 0 16px 0; }
        .lb-image-wrapper { margin: 0 0 16px 0; }
        .lb-button:hover { opacity: 0.9; }
        .lb-columns { margin: 0 0 16px 0; }
        @media (max-width: 768px) {
            .lb-columns { flex-direction: column; }
            .lb-column { flex: none !important; width: 100% !important; }
        }
    </style>
</head>
<body>
    <div class="lb-content">
        ${c}
    </div>
</body>
</html>
        `.trim()}getPreviewStyles(){return`
            .lb-heading { margin: 0 0 16px 0; }
            .lb-text { margin: 0 0 16px 0; }
            .lb-image-wrapper { margin: 0 0 16px 0; }
            .lb-button:hover { opacity: 0.9; }
            .lb-columns { margin: 0 0 16px 0; }
        `}}oo.register("email",new Kf);oo.register("page",new uC);oo.register("campaign",new Kf);export{bi as L,qk as P,fC as R,f as _,hC as a,dC as b,pC as c,mC as d,Ke as e,x as f,Im as i,o as j,Zo as m,gC as r};
